var uM=Object.defineProperty,dM=Object.defineProperties;var hM=Object.getOwnPropertyDescriptors;var Gc=Object.getOwnPropertySymbols;var vw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable;var yw=(t,e,n)=>e in t?uM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})vw.call(e,n)&&yw(t,n,e[n]);if(Gc)for(var n of Gc(e))ww.call(e,n)&&yw(t,n,e[n]);return t},oe=(t,e)=>dM(t,hM(e));var Ew=(t,e)=>{var n={};for(var i in t)vw.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Gc)for(var i of Gc(t))e.indexOf(i)<0&&ww.call(t,i)&&(n[i]=t[i]);return n};var p=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var bw=null;var mf=1,Iw=Symbol("SIGNAL");function tt(t){let e=bw;return bw=t,e}var Dw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fM(t){if(!(vf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===mf)){if(!t.producerMustRecompute(t)&&!_f(t)){t.dirty=!1,t.lastCleanEpoch=mf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=mf}}function Tw(t){return t&&(t.nextProducerIndex=0),tt(t)}function Cw(t,e){if(tt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)yf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _f(t){zc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(fM(n),i!==n.version))return!0}return!1}function Sw(t){if(zc(t),vf(t))for(let e=0;e<t.producerNode.length;e++)yf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yf(t,e){if(pM(t),zc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)yf(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];zc(r),r.producerIndexOfThis[i]=e}}function vf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gM(){throw new Error}var mM=gM;function Aw(t){mM=t}function k(t){return typeof t=="function"}function Kr(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var qc=Kr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(k(i))try{i()}catch(s){e=s instanceof qc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Rw(s)}catch(o){e=e??[],o instanceof qc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new qc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Rw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yi(n,e)}remove(e){let{_finalizers:n}=this;n&&Yi(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var wf=Fe.EMPTY;function Wc(t){return t instanceof Fe||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function Rw(t){k(t)?t():t.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qr={setTimeout(t,e,...n){let{delegate:i}=Qr;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Kc(t){Qr.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(t);else throw t})}function Ji(){}var Mw=Ef("C",void 0,void 0);function Ow(t){return Ef("E",void 0,t)}function xw(t){return Ef("N",t,void 0)}function Ef(t,e,n){return{kind:t,value:e,error:n}}var Zi=null;function Yr(t){if(rn.useDeprecatedSynchronousErrorHandling){let e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Zi;if(Zi=null,n)throw i}}else t()}function Nw(t){rn.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}var Xi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wc(e)&&e.add(this)):this.destination=vM}static create(e,n,i){return new Jr(e,n,i)}next(e){this.isStopped?If(xw(e),this):this._next(e)}error(e){this.isStopped?If(Ow(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?If(Mw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_M=Function.prototype.bind;function bf(t,e){return _M.call(t,e)}var Df=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Qc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Qc(i)}else Qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Qc(n)}}},Jr=class extends Xi{constructor(e,n,i){super();let r;if(k(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&rn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&bf(e.next,s),error:e.error&&bf(e.error,s),complete:e.complete&&bf(e.complete,s)}):r=e}this.destination=new Df(r)}};function Qc(t){rn.useDeprecatedSynchronousErrorHandling?Nw(t):Kc(t)}function yM(t){throw t}function If(t,e){let{onStoppedNotification:n}=rn;n&&Qr.setTimeout(()=>n(t,e))}var vM={closed:!0,next:Ji,error:yM,complete:Ji};var Zr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function Tf(...t){return Cf(t)}function Cf(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=EM(n)?n:new Jr(n,i,r);return Yr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Pw(i),new i((r,s)=>{let o=new Jr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Zr](){return this}pipe(...n){return Cf(n)(this)}toPromise(n){return n=Pw(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function Pw(t){var e;return(e=t??rn.Promise)!==null&&e!==void 0?e:Promise}function wM(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function EM(t){return t&&t instanceof Xi||wM(t)&&Wc(t)}function Sf(t){return k(t?.lift)}function X(t){return e=>{if(Sf(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,i,r){return new Af(t,e,n,i,r)}var Af=class extends Xi{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xr(){return X((t,e)=>{let n=null;t._refCount++;let i=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var es=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Sf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Xr()(this)}};var kw=Kr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Yc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new kw}next(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?wf:(this.currentObservers=null,s.push(n),new Fe(()=>{this.currentObservers=null,Yi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new Yc(e,n),t})(),Yc=class extends ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:wf}};var We=class extends ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Rf={now(){return(Rf.delegate||Date).now()},delegate:void 0};var Jc=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ao={setInterval(t,e,...n){let{delegate:i}=Ao;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ao;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ts=class extends Jc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Ao.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ao.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yi(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ns=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};ns.now=Rf.now;var is=class extends ns{constructor(e,n=ns.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Zc=new is(ts),Mf=Zc;var Xc=class extends ts{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var el=class extends is{};var Of=new el(Xc);var at=new V(t=>t.complete());function tl(t){return t&&k(t.schedule)}function Fw(t){return t[t.length-1]}function di(t){return k(Fw(t))?t.pop():void 0}function hi(t){return tl(Fw(t))?t.pop():void 0}function xf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Lw(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):r(u.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function Vw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(t){return this instanceof er?(this.v=t,this):new er(t)}function Uw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(m,v){s.push([h,f,m,v])>1||a(h,f)})})}function a(h,f){try{c(i[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof er?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Bw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vw=="function"?Vw(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var rs=t=>t&&typeof t.length=="number"&&typeof t!="function";function nl(t){return k(t?.then)}function il(t){return k(t[Zr])}function rl(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function sl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ol=bM();function al(t){return k(t?.[ol])}function cl(t){return Uw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield er(n.read());if(r)return yield er(void 0);yield yield er(i)}}finally{n.releaseLock()}})}function ll(t){return k(t?.getReader)}function he(t){if(t instanceof V)return t;if(t!=null){if(il(t))return IM(t);if(rs(t))return DM(t);if(nl(t))return TM(t);if(rl(t))return jw(t);if(al(t))return CM(t);if(ll(t))return SM(t)}throw sl(t)}function IM(t){return new V(e=>{let n=t[Zr]();if(k(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DM(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TM(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Kc)})}function CM(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jw(t){return new V(e=>{AM(t,e).catch(n=>e.error(n))})}function SM(t){return jw(cl(t))}function AM(t,e){var n,i,r,s;return Lw(this,void 0,void 0,function*(){try{for(n=Bw(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function Rt(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function fi(t,e=0){return X((n,i)=>{n.subscribe(j(i,r=>Rt(i,t,()=>i.next(r),e),()=>Rt(i,t,()=>i.complete(),e),r=>Rt(i,t,()=>i.error(r),e)))})}function pi(t,e=0){return X((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function $w(t,e){return he(t).pipe(pi(e),fi(e))}function Hw(t,e){return he(t).pipe(pi(e),fi(e))}function Gw(t,e){return new V(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function zw(t,e){return new V(n=>{let i;return Rt(n,e,()=>{i=t[ol](),Rt(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>k(i?.return)&&i.return()})}function ul(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{Rt(n,e,()=>{let i=t[Symbol.asyncIterator]();Rt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function qw(t,e){return ul(cl(t),e)}function Ww(t,e){if(t!=null){if(il(t))return $w(t,e);if(rs(t))return Gw(t,e);if(nl(t))return Hw(t,e);if(rl(t))return ul(t,e);if(al(t))return zw(t,e);if(ll(t))return qw(t,e)}throw sl(t)}function Ee(t,e){return e?Ww(t,e):he(t)}function x(...t){let e=hi(t);return Ee(t,e)}function ss(t,e){let n=k(t)?t:()=>t,i=r=>r.error(n());return new V(e?r=>e.schedule(i,0,r):i)}function Nf(t){return!!t&&(t instanceof V||k(t.lift)&&k(t.subscribe))}var qn=Kr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Kw(t){return t instanceof Date&&!isNaN(t)}function W(t,e){return X((n,i)=>{let r=0;n.subscribe(j(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:RM}=Array;function MM(t,e){return RM(e)?t(...e):t(e)}function os(t){return W(e=>MM(t,e))}var{isArray:OM}=Array,{getPrototypeOf:xM,prototype:NM,keys:PM}=Object;function dl(t){if(t.length===1){let e=t[0];if(OM(e))return{args:e,keys:null};if(kM(e)){let n=PM(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function kM(t){return t&&typeof t=="object"&&xM(t)===NM}function hl(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function as(...t){let e=hi(t),n=di(t),{args:i,keys:r}=dl(t);if(i.length===0)return Ee([],e);let s=new V(FM(i,e,r?o=>hl(r,o):_t));return n?s.pipe(os(n)):s}function FM(t,e,n=_t){return i=>{Qw(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)Qw(e,()=>{let l=Ee(t[c],e),u=!1;l.subscribe(j(i,d=>{s[c]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function Qw(t,e,n){t?Rt(n,t,e):e()}function Yw(t,e,n,i,r,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=v=>l<i?m(v):c.push(v),m=v=>{s&&e.next(v),l++;let w=!1;he(n(v,u++)).subscribe(j(e,D=>{r?.(D),s?f(D):e.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<i;){let D=c.shift();o?Rt(e,o,()=>m(D)):m(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(j(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Te(t,e,n=1/0){return k(e)?Te((i,r)=>W((s,o)=>e(i,s,r,o))(he(t(i,r))),n):(typeof e=="number"&&(n=e),X((i,r)=>Yw(i,r,t,n)))}function cs(t=1/0){return Te(_t,t)}function Jw(){return cs(1)}function gi(...t){return Jw()(Ee(t,hi(t)))}function fl(t){return new V(e=>{he(t()).subscribe(e)})}function Pf(...t){let e=di(t),{args:n,keys:i}=dl(t),r=new V(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;he(n[u]).subscribe(j(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(i?hl(i,a):a),s.complete())}))}});return e?r.pipe(os(e)):r}var VM=["addListener","removeListener"],LM=["addEventListener","removeEventListener"],UM=["on","off"];function Pt(t,e,n,i){if(k(n)&&(i=n,n=void 0),i)return Pt(t,e,n).pipe(os(i));let[r,s]=$M(t)?LM.map(o=>a=>t[o](e,a,n)):BM(t)?VM.map(Zw(t,e)):jM(t)?UM.map(Zw(t,e)):[];if(!r&&rs(t))return Te(o=>Pt(o,e,n))(he(t));if(!r)throw new TypeError("Invalid event target");return new V(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function Zw(t,e){return n=>i=>t[n](e,i)}function BM(t){return k(t.addListener)&&k(t.removeListener)}function jM(t){return k(t.on)&&k(t.off)}function $M(t){return k(t.addEventListener)&&k(t.removeEventListener)}function kf(t=0,e,n=Mf){let i=-1;return e!=null&&(tl(e)?n=e:i=e),new V(r=>{let s=Kw(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:HM}=Array;function pl(t){return t.length===1&&HM(t[0])?t[0]:t}function He(t,e){return X((n,i)=>{let r=0;n.subscribe(j(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Ff(...t){return t=pl(t),t.length===1?he(t[0]):new V(GM(t))}function GM(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(he(t[i]).subscribe(j(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function ls(...t){let e=di(t),n=pl(t);return n.length?new V(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)he(n[o]).subscribe(j(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(l=>l.shift());i.next(e?e(...c):c),r.some((l,u)=>!l.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):at}function mi(t){return X((e,n)=>{let i=null,r=!1,s;i=e.subscribe(j(n,void 0,void 0,o=>{s=he(t(o,mi(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Xw(t,e,n,i,r){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(j(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function _i(t,e){return k(e)?Te(t,e,1):Te(t,1)}function yi(t){return X((e,n)=>{let i=!1;e.subscribe(j(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function ct(t){return t<=0?()=>at:X((e,n)=>{let i=0;e.subscribe(j(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Vf(t){return W(()=>t)}function gl(t=zM){return X((e,n)=>{let i=!1;e.subscribe(j(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function zM(){return new qn}function Lf(...t){return e=>gi(e,x(...t))}function vi(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?He((r,s)=>t(r,s,i)):_t,ct(1),n?yi(e):gl(()=>new qn))}function us(t){return t<=0?()=>at:X((e,n)=>{let i=[];e.subscribe(j(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Uf(t,e){let n=arguments.length>=2;return i=>i.pipe(t?He((r,s)=>t(r,s,i)):_t,us(1),n?yi(e):gl(()=>new qn))}function Bf(t,e){return X(Xw(t,e,arguments.length>=2,!0))}function ml(...t){let e=hi(t);return X((n,i)=>{(e?gi(t,n,e):gi(t,n)).subscribe(i)})}function yt(t,e){return X((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(j(i,c=>{r?.unsubscribe();let l=0,u=s++;he(t(c,u)).subscribe(r=j(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ge(t){return X((e,n)=>{he(t).subscribe(j(n,()=>n.complete(),Ji)),!n.closed&&e.subscribe(n)})}function be(t,e,n){let i=k(t)||e||n?{next:t,error:e,complete:n}:t;return i?X((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(j(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):_t}function _l(...t){let e=di(t);return X((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)he(t[c]).subscribe(j(i,l=>{s[c]=l,!a&&!o[c]&&(o[c]=!0,(a=o.every(_t))&&(o=null))},Ji));n.subscribe(j(i,c=>{if(a){let l=[c,...s];i.next(e?e(...l):l)}}))})}var LE="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(tu(e,n)),this.code=e}};function tu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function qM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function rp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var WM=ye({__forward_ref__:ye});function Ti(t){return t.__forward_ref__=Ti,t.toString=function(){return Et(this())},t}function vt(t){return UE(t)?t():t}function UE(t){return typeof t=="function"&&t.hasOwnProperty(WM)&&t.__forward_ref__===Ti}function BE(t){return t&&!!t.\u0275providers}var KM=ye({\u0275cmp:ye}),QM=ye({\u0275dir:ye}),YM=ye({\u0275pipe:ye}),JM=ye({\u0275mod:ye}),Ol=ye({\u0275fac:ye}),Mo=ye({__NG_ELEMENT_ID__:ye}),eE=ye({__NG_ENV_ID__:ye});function nu(t){return typeof t=="string"?t:t==null?"":String(t)}function ZM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():nu(t)}function XM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,`Circular dependency in DI detected for ${t}${n}`)}function ag(t,e){throw new O(-201,!1)}function eO(t,e){t==null&&tO(e,t,null,"!=")}function tO(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Q(t){return{providers:t.providers||[],imports:t.imports||[]}}function iu(t){return tE(t,$E)||tE(t,HE)}function jE(t){return iu(t)!==null}function tE(t,e){return t.hasOwnProperty(e)?t[e]:null}function nO(t){let e=t&&(t[$E]||t[HE]);return e||null}function nE(t){return t&&(t.hasOwnProperty(iE)||t.hasOwnProperty(iO))?t[iE]:null}var $E=ye({\u0275prov:ye}),iE=ye({\u0275inj:ye}),HE=ye({ngInjectableDef:ye}),iO=ye({ngInjectorDef:ye}),Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{}),sp;function GE(){return sp}function zt(t){let e=sp;return sp=t,e}function zE(t,e,n){let i=iu(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Z.Optional)return null;if(e!==void 0)return e;ag(t,"Injector")}var bt=globalThis;var R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var rO={},xo=rO,op="__NG_DI_FLAG__",xl="ngTempTokenPath",sO="ngTokenPath",oO=/\n/gm,aO="\u0275",rE="__source",gs;function cO(){return gs}function wi(t){let e=gs;return gs=t,e}function lO(t,e=Z.Default){if(gs===void 0)throw new O(-203,!1);return gs===null?zE(t,void 0,e):gs.get(t,e&Z.Optional?null:void 0,e)}function N(t,e=Z.Default){return(GE()||lO)(vt(t),e)}function g(t,e=Z.Default){return N(t,ru(e))}function ru(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ap(t){let e=[];for(let n=0;n<t.length;n++){let i=vt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let r,s=Z.Default;for(let o=0;o<i.length;o++){let a=i[o],c=uO(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(N(r,s))}else e.push(N(i))}return e}function qE(t,e){return t[op]=e,t.prototype[op]=e,t}function uO(t){return t[op]}function dO(t,e,n,i){let r=t[xl];throw e[rE]&&r.unshift(e[rE]),t.message=hO(`
`+t.message,r,n,i),t[sO]=r,t[xl]=null,t}function hO(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aO?t.slice(2):t;let r=Et(e);if(Array.isArray(e))r=e.map(Et).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(oO,`
  `)}`}function qo(t){return{toString:t}.toString()}var WE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(WE||{}),bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bn||{}),_s={},wt=[],Me=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Me||{});function KE(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function cp(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];fO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function QE(t){return t===3||t===4||t===6}function fO(t){return t.charCodeAt(0)===64}function No(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?sE(t,n,r,null,e[++i]):sE(t,n,r,null,null))}}return t}function sE(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var YE="ng-template";function pO(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if(typeof s=="string"&&r){let o=t[i++];if(n&&s==="class"&&KE(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;i<t.length&&typeof(s=t[i++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(r=!1)}return!1}function JE(t){return t.type===4&&t.value!==YE}function gO(t,e,n){let i=t.type===4&&!n?YE:t.value;return e===i}function mO(t,e,n){let i=4,r=t.attrs||[],s=vO(r),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!on(i)&&!on(c))return!1;if(o&&on(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!gO(t,c,n)||c===""&&e.length===1){if(on(i))return!1;o=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!pO(t.attrs,l,n)){if(on(i))return!1;o=!0}continue}let u=i&8?"class":c,d=_O(u,r,JE(t),n);if(d===-1){if(on(i))return!1;o=!0;continue}if(l!==""){let h;d>s?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&KE(f,l,0)!==-1||i&2&&l!==h){if(on(i))return!1;o=!0}}}}return on(i)||o}function on(t){return(t&1)===0}function _O(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return wO(e,t)}function ZE(t,e,n=!1){for(let i=0;i<e.length;i++)if(mO(t,e[i],n))return!0;return!1}function yO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function vO(t){for(let e=0;e<t.length;e++){let n=t[e];if(QE(n))return e}return t.length}function wO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function EO(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function oE(t,e){return t?":not("+e.trim()+")":e}function bO(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!on(o)&&(e+=oE(s,r),r=""),i=o,s=s||!on(i);n++}return r!==""&&(e+=oE(s,r)),e}function IO(t){return t.map(bO).join(",")}function DO(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!on(r))break;r=s}i++}return{attrs:e,classes:n}}function Ve(t){return qo(()=>{let e=ib(t),n=oe(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===WE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||wt,_:null,schemas:t.schemas||null,tView:null,id:""});rb(n);let i=t.dependencies;return n.directiveDefs=cE(i,!1),n.pipeDefs=cE(i,!0),n.id=SO(n),n})}function TO(t){return Kn(t)||XE(t)}function CO(t){return t!==null}function Y(t){return qo(()=>({type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aE(t,e){if(t==null)return _s;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=Me.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==Me.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Ue(t){return qo(()=>{let e=ib(t);return rb(e),e})}function Kn(t){return t[KM]||null}function XE(t){return t[QM]||null}function eb(t){return t[YM]||null}function tb(t){let e=Kn(t)||XE(t)||eb(t);return e!==null?e.standalone:!1}function nb(t,e){let n=t[JM]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function ib(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aE(t.inputs,e),outputs:aE(t.outputs),debugInfo:null}}function rb(t){t.features?.forEach(e=>e(t))}function cE(t,e){if(!t)return null;let n=e?eb:TO;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(CO)}function SO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var kt=0,B=1,L=2,Ke=3,cn=4,Vt=5,ln=6,Po=7,lt=8,ys=9,Qn=10,Ce=11,ko=12,lE=13,Ds=14,Mt=15,Wo=16,ds=17,En=18,su=19,sb=20,Ei=21,jf=22,nr=23,ze=25,ob=1,Fo=6,Yn=7,Nl=8,vs=9,nt=10,cg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(cg||{});function Wn(t){return Array.isArray(t)&&typeof t[ob]=="object"}function Tn(t){return Array.isArray(t)&&t[ob]===!0}function lg(t){return(t.flags&4)!==0}function Ko(t){return t.componentOffset>-1}function ou(t){return(t.flags&1)===1}function bi(t){return!!t.template}function ab(t){return(t[L]&512)!==0}function ws(t,e){let n=t.hasOwnProperty(Ol);return n?t[Ol]:null}var lp=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function cb(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function dn(){return lb}function lb(t){return t.type.prototype.ngOnChanges&&(t.setInput=RO),AO}dn.ngInherit=!0;function AO(){let t=db(this),e=t?.current;if(e){let n=t.previous;if(n===_s)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function RO(t,e,n,i,r){let s=this.declaredInputs[i],o=db(t)||MO(t,{previous:_s,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new lp(l&&l.currentValue,n,c===_s),cb(t,e,r,n)}var ub="__ngSimpleChanges__";function db(t){return t[ub]||null}function MO(t,e){return t[ub]=e}var uE=null;var vn=function(t,e,n){uE?.(t,e,n)},OO="svg",xO="math",NO=!1;function PO(){return NO}function un(t){for(;Array.isArray(t);)t=t[kt];return t}function hb(t,e){return un(e[t])}function Lt(t,e){return un(e[t.index])}function ug(t,e){return t.data[e]}function kO(t,e){return t[e]}function Ci(t,e){let n=e[t];return Wn(n)?n:n[kt]}function FO(t){return(t[L]&4)===4}function dg(t){return(t[L]&128)===128}function VO(t){return Tn(t[Ke])}function Es(t,e){return e==null?null:t[e]}function fb(t){t[ds]=0}function LO(t){t[L]&1024||(t[L]|=1024,dg(t)&&Vo(t))}function UO(t,e){for(;t>0;)e=e[Ds],t--;return e}function pb(t){return t[L]&9216||t[nr]?.dirty}function up(t){pb(t)?Vo(t):t[L]&64&&(PO()?(t[L]|=1024,Vo(t)):t[Qn].changeDetectionScheduler?.notify())}function Vo(t){t[Qn].changeDetectionScheduler?.notify();let e=Lo(t);for(;e!==null&&!(e[L]&8192||(e[L]|=8192,!dg(e)));)e=Lo(e)}function gb(t,e){if((t[L]&256)===256)throw new O(911,!1);t[Ei]===null&&(t[Ei]=[]),t[Ei].push(e)}function BO(t,e){if(t[Ei]===null)return;let n=t[Ei].indexOf(e);n!==-1&&t[Ei].splice(n,1)}function Lo(t){let e=t[Ke];return Tn(e)?e[Ke]:e}var K={lFrame:bb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jO(){return K.lFrame.elementDepthCount}function $O(){K.lFrame.elementDepthCount++}function HO(){K.lFrame.elementDepthCount--}function mb(){return K.bindingsEnabled}function Ts(){return K.skipHydrationRootTNode!==null}function GO(t){return K.skipHydrationRootTNode===t}function zO(t){K.skipHydrationRootTNode=t}function qO(){K.skipHydrationRootTNode=null}function ie(){return K.lFrame.lView}function it(){return K.lFrame.tView}function Se(t){return K.lFrame.contextLView=t,t[lt]}function Ae(t){return K.lFrame.contextLView=null,t}function Ot(){let t=_b();for(;t!==null&&t.type===64;)t=t.parent;return t}function _b(){return K.lFrame.currentTNode}function WO(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ur(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function hg(){return K.lFrame.isParent}function fg(){K.lFrame.isParent=!1}function KO(){return K.lFrame.contextLView}function QO(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function YO(t){return K.lFrame.bindingIndex=t}function Qo(){return K.lFrame.bindingIndex++}function yb(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JO(){return K.lFrame.inI18n}function ZO(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,dp(e)}function XO(){return K.lFrame.currentDirectiveIndex}function dp(t){K.lFrame.currentDirectiveIndex=t}function ex(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vb(){return K.lFrame.currentQueryIndex}function pg(t){K.lFrame.currentQueryIndex=t}function tx(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[Vt]:null}function wb(t,e,n){if(n&Z.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&Z.Host);)if(r=tx(s),r===null||(s=s[Ds],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=K.lFrame=Eb();return i.currentTNode=e,i.lView=t,!0}function gg(t){let e=Eb(),n=t[B];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Eb(){let t=K.lFrame,e=t===null?null:t.child;return e===null?bb(t):e}function bb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ib(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Db=Ib;function mg(){let t=Ib();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nx(t){return(K.lFrame.contextLView=UO(t,K.lFrame.contextLView))[lt]}function Si(){return K.lFrame.selectedIndex}function ir(t){K.lFrame.selectedIndex=t}function Tb(){let t=K.lFrame;return ug(t.tView,t.selectedIndex)}function Cb(){return K.lFrame.currentNamespace}var Sb=!0;function au(){return Sb}function Ai(t){Sb=t}function ix(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=lb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function cu(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Tl(t,e,n){Ab(t,e,3,n)}function Cl(t,e,n,i){(t[L]&3)===n&&Ab(t,e,n,i)}function $f(t,e){let n=t[L];(n&3)===e&&(n&=16383,n+=1,t[L]=n)}function Ab(t,e,n,i){let r=i!==void 0?t[ds]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[ds]+=65536),(a<s||s==-1)&&(rx(t,n,e,c),t[ds]=(t[ds]&4294901760)+c+2),c++}function dE(t,e){vn(4,t,e);let n=tt(null);try{e.call(t)}finally{tt(n),vn(5,t,e)}}function rx(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[L]>>14<t[ds]>>16&&(t[L]&3)===e&&(t[L]+=16384,dE(a,s)):dE(a,s)}var ms=-1,rr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function sx(t){return t instanceof rr}function ox(t){return(t.flags&8)!==0}function ax(t){return(t.flags&16)!==0}function Rb(t){return t!==ms}function Pl(t){return t&32767}function cx(t){return t>>16}function kl(t,e){let n=cx(t),i=e;for(;n>0;)i=i[Ds],n--;return i}var hp=!0;function hE(t){let e=hp;return hp=t,e}var lx=256,Mb=lx-1,Ob=5,ux=0,wn={};function dx(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Mo)&&(i=n[Mo]),i==null&&(i=n[Mo]=ux++);let r=i&Mb,s=1<<r;e.data[t+(r>>Ob)]|=s}function Fl(t,e){let n=xb(t,e);if(n!==-1)return n;let i=e[B];i.firstCreatePass&&(t.injectorIndex=e.length,Hf(i.data,t),Hf(e,null),Hf(i.blueprint,null));let r=_g(t,e),s=t.injectorIndex;if(Rb(r)){let o=Pl(r),a=kl(r,e),c=a[B].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function Hf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _g(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Vb(r),i===null)return ms;if(n++,r=r[Ds],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ms}function fp(t,e,n){dx(t,e,n)}function hx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(QE(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function Nb(t,e,n){if(n&Z.Optional||t!==void 0)return t;ag(e,"NodeInjector")}function Pb(t,e,n,i){if(n&Z.Optional&&i===void 0&&(i=null),!(n&(Z.Self|Z.Host))){let r=t[ys],s=zt(void 0);try{return r?r.get(e,i,n&Z.Optional):zE(e,i,n&Z.Optional)}finally{zt(s)}}return Nb(i,e,n)}function kb(t,e,n,i=Z.Default,r){if(t!==null){if(e[L]&2048&&!(i&Z.Self)){let o=mx(t,e,n,i,wn);if(o!==wn)return o}let s=Fb(t,e,n,i,wn);if(s!==wn)return s}return Pb(e,n,i,r)}function Fb(t,e,n,i,r){let s=px(n);if(typeof s=="function"){if(!wb(e,t,i))return i&Z.Host?Nb(r,n,i):Pb(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&Z.Optional))ag(n);else return o}finally{Db()}}else if(typeof s=="number"){let o=null,a=xb(t,e),c=ms,l=i&Z.Host?e[Mt][Vt]:null;for((a===-1||i&Z.SkipSelf)&&(c=a===-1?_g(t,e):e[a+8],c===ms||!pE(i,!1)?a=-1:(o=e[B],a=Pl(c),e=kl(c,e)));a!==-1;){let u=e[B];if(fE(s,a,u.data)){let d=fx(a,e,n,o,i,l);if(d!==wn)return d}c=e[a+8],c!==ms&&pE(i,e[B].data[a+8]===l)&&fE(s,a,e)?(o=u,a=Pl(c),e=kl(c,e)):a=-1}}return r}function fx(t,e,n,i,r,s){let o=e[B],a=o.data[t+8],c=i==null?Ko(a)&&hp:i!=o&&(a.type&3)!==0,l=r&Z.Host&&s===a,u=Sl(a,o,n,c,l);return u!==null?sr(e,o,u,a):wn}function Sl(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let m=o[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(r){let f=o[c];if(f&&bi(f)&&f.type===n)return c}return null}function sr(t,e,n,i){let r=t[n],s=e.data;if(sx(r)){let o=r;o.resolving&&XM(ZM(s[n]));let a=hE(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?zt(o.injectImpl):null,u=wb(t,i,Z.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&ix(n,s[n],e)}finally{l!==null&&zt(l),hE(a),o.resolving=!1,Db()}}return r}function px(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Mo)?t[Mo]:void 0;return typeof e=="number"?e>=0?e&Mb:gx:e}function fE(t,e,n){let i=1<<t;return!!(n[e+(t>>Ob)]&i)}function pE(t,e){return!(t&Z.Self)&&!(t&Z.Host&&e)}var tr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return kb(this._tNode,this._lView,e,ru(i),n)}};function gx(){return new tr(Ot(),ie())}function Cs(t){return qo(()=>{let e=t.prototype.constructor,n=e[Ol]||pp(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Ol]||pp(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function pp(t){return UE(t)?()=>{let e=pp(vt(t));return e&&e()}:ws(t)}function mx(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[L]&2048&&!(o[L]&512);){let a=Fb(s,o,n,i|Z.Self,wn);if(a!==wn)return a;let c=s.parent;if(!c){let l=o[sb];if(l){let u=l.get(n,wn,i);if(u!==wn)return u}c=Vb(o),o=o[Ds]}s=c}return r}function Vb(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[Vt]:null}function lu(t){return hx(Ot(),t)}var yl="__parameters__";function _x(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function Lb(t,e,n){return qo(()=>{let i=_x(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(yl)?c[yl]:Object.defineProperty(c,yl,{value:[]})[yl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function yx(t){let e=bt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function vx(t){return typeof t=="function"}function wx(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function Ex(t){return t.flat(Number.POSITIVE_INFINITY)}function yg(t,e){t.forEach(n=>Array.isArray(n)?yg(n,e):e(n))}function Ub(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bx(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function Ix(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function vg(t,e,n){let i=Yo(t,e);return i>=0?t[i|1]=n:(i=~i,Ix(t,i,e,n)),i}function Gf(t,e){let n=Yo(t,e);if(n>=0)return t[n|1]}function Yo(t,e){return Dx(t,e,1)}function Dx(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var qt=qE(Lb("Optional"),8);var wg=qE(Lb("SkipSelf"),4);function Tx(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(Rx))}return s}return Ll.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),o.push(i(d).then(f=>{a[l+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>Mx(s));e.push(c)}),Sx(),Promise.all(e).then(()=>{})}var Ll=new Map,Cx=new Set;function Sx(){let t=Ll;return Ll=new Map,t}function Ax(){return Ll.size===0}function Rx(t){return typeof t=="string"?t:t.text()}function Mx(t){Cx.delete(t)}var or=new R("ENVIRONMENT_INITIALIZER"),Bb=new R("INJECTOR",-1),jb=new R("INJECTOR_DEF_TYPES"),Ul=class{get(e,n=xo){if(n===xo){let i=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw i.name="NullInjectorError",i}return n}};function Jo(t){return{\u0275providers:t}}function Ox(...t){return{\u0275providers:$b(!0,t),\u0275fromNgModule:!0}}function $b(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return yg(e,o=>{let a=o;gp(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Hb(r,s),n}function Hb(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Eg(r,s=>{e(s,i)})}}function gp(t,e,n,i){if(t=vt(t),!t)return!1;let r=null,s=nE(t),o=!s&&Kn(t);if(!s&&!o){let c=t.ngModule;if(s=nE(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)gp(l,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{yg(s.imports,u=>{gp(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Hb(l,e)}if(!a){let l=ws(r)||(()=>new r);e({provide:r,useFactory:l,deps:wt},r),e({provide:jb,useValue:r,multi:!0},r),e({provide:or,useValue:()=>N(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=t;Eg(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function Eg(t,e){for(let n of t)BE(n)&&(n=n.\u0275providers),Array.isArray(n)?Eg(n,e):e(n)}var xx=ye({provide:String,useValue:ye});function Gb(t){return t!==null&&typeof t=="object"&&xx in t}function Nx(t){return!!(t&&t.useExisting)}function Px(t){return!!(t&&t.useFactory)}function bs(t){return typeof t=="function"}function kx(t){return!!t.useClass}var uu=new R("Set Injector scope."),Al={},Fx={},zf;function du(){return zf===void 0&&(zf=new Ul),zf}var ut=class{},Uo=class extends ut{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_p(e,o=>this.processProvider(o)),this.records.set(Bb,hs(void 0,this)),r.has("environment")&&this.records.set(ut,hs(void 0,this));let s=this.records.get(uu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jb,wt,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wi(this),i=zt(void 0),r;try{return e()}finally{wi(n),zt(i)}}get(e,n=xo,i=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eE))return e[eE](this);i=ru(i);let r,s=wi(this),o=zt(void 0);try{if(!(i&Z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=jx(e)&&iu(e);l&&this.injectableDefInScope(l)?c=hs(mp(e),Al):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Z.Self?du():this.parent;return n=i&Z.Optional&&n===xo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xl]=a[xl]||[]).unshift(Et(e)),s)throw a;return dO(a,e,"R3InjectorError",this.source)}else throw a}finally{zt(o),wi(s)}}resolveInjectorInitializers(){let e=wi(this),n=zt(void 0),i;try{let r=this.get(or,wt,Z.Self);for(let s of r)s()}finally{wi(e),zt(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Et(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=vt(e);let n=bs(e)?e:vt(e&&e.provide),i=Lx(e);if(!bs(e)&&e.multi===!0){let r=this.records.get(n);r||(r=hs(void 0,Al,!0),r.factory=()=>ap(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Al&&(n.value=Fx,n.value=n.factory()),typeof n.value=="object"&&n.value&&Bx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mp(t){let e=iu(t),n=e!==null?e.factory:ws(t);if(n!==null)return n;if(t instanceof R)throw new O(204,!1);if(t instanceof Function)return Vx(t);throw new O(204,!1)}function Vx(t){if(t.length>0)throw new O(204,!1);let n=nO(t);return n!==null?()=>n.factory(t):()=>new t}function Lx(t){if(Gb(t))return hs(void 0,t.useValue);{let e=zb(t);return hs(e,Al)}}function zb(t,e,n){let i;if(bs(t)){let r=vt(t);return ws(r)||mp(r)}else if(Gb(t))i=()=>vt(t.useValue);else if(Px(t))i=()=>t.useFactory(...ap(t.deps||[]));else if(Nx(t))i=()=>N(vt(t.useExisting));else{let r=vt(t&&(t.useClass||t.provide));if(Ux(t))i=()=>new r(...ap(t.deps));else return ws(r)||mp(r)}return i}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ux(t){return!!t.deps}function Bx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jx(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function _p(t,e){for(let n of t)Array.isArray(n)?_p(n,e):n&&BE(n)?_p(n.\u0275providers,e):e(n)}function Xn(t,e){t instanceof Uo&&t.assertNotDestroyed();let n,i=wi(t),r=zt(void 0);try{return e()}finally{wi(i),zt(r)}}function $x(t){if(!GE()&&!cO())throw new O(-203,!1)}function gE(t,e=null,n=null,i){let r=qb(t,e,n,i);return r.resolveInjectorInitializers(),r}function qb(t,e=null,n=null,i,r=new Set){let s=[n||wt,Ox(t)];return i=i||(typeof t=="object"?void 0:Et(t)),new Uo(s,e||du(),i||null,r)}var Ie=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return gE({name:""},r,i,"");{let s=i.name??"";return gE({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=xo,e.NULL=new Ul,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>N(Bb)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var yp;function Wb(t){yp=t}function hu(){if(yp!==void 0)return yp;if(typeof document<"u")return document;throw new O(210,!1)}var Zo=new R("AppId",{providedIn:"root",factory:()=>Hx}),Hx="ng",bg=new R("Platform Initializer"),Ut=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Ig=new R("CSP nonce",{providedIn:"root",factory:()=>hu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Gx(t){return t.ownerDocument.body}function Kb(t){return t instanceof Function?t():t}function Ro(t){return(t??g(Ie)).get(Ut)==="browser"}var zx="ngSkipHydration",qx="ngskiphydration";function Qb(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let i=e[n];if(typeof i=="number")return!1;if(typeof i=="string"&&i.toLowerCase()===qx)return!0}return!1}function Yb(t){return t.hasAttribute(zx)}function Bl(t){return(t.flags&128)===128}function Wx(t){if(Bl(t))return!0;let e=t.parent;for(;e;){if(Bl(t)||Qb(e))return!0;e=e.parent}return!1}var Jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Jn||{}),Kx=/^>|^->|<!--|-->|--!>|<!-$/g,Qx=/(<|>)/g,Yx="\u200B$1\u200B";function Jx(t){return t.replace(Kx,e=>e.replace(Qx,Yx))}var Jb=new Map,Zx=0;function Xx(){return Zx++}function eN(t){Jb.set(t[su],t)}function tN(t){Jb.delete(t[su])}var mE="__ngContext__";function Ii(t,e){Wn(e)?(t[mE]=e[su],eN(e)):t[mE]=e}var nN;function Dg(t,e){return nN(t,e)}function fs(t,e,n,i,r){if(i!=null){let s,o=!1;Tn(i)?s=i:Wn(i)&&(o=!0,i=i[kt]);let a=un(i);t===0&&n!==null?r==null?iI(e,n,a):jl(e,n,a,r||null,!0):t===1&&n!==null?jl(e,n,a,r||null,!0):t===2?oI(e,a,o):t===3&&e.destroyNode(a),s!=null&&_N(e,t,s,n,r)}}function Zb(t,e){return t.createText(e)}function iN(t,e,n){t.setValue(e,n)}function Xb(t,e){return t.createComment(Jx(e))}function Tg(t,e,n){return t.createElement(e,n)}function rN(t,e){eI(t,e),e[kt]=null,e[Vt]=null}function sN(t,e,n,i,r,s){i[kt]=r,i[Vt]=e,gu(t,i,n,1,r,s)}function eI(t,e){gu(t,e,e[Ce],2,null,null)}function oN(t){let e=t[ko];if(!e)return qf(t[B],t);for(;e;){let n=null;if(Wn(e))n=e[ko];else{let i=e[nt];i&&(n=i)}if(!n){for(;e&&!e[cn]&&e!==t;)Wn(e)&&qf(e[B],e),e=e[Ke];e===null&&(e=t),Wn(e)&&qf(e[B],e),n=e&&e[cn]}e=n}}function aN(t,e,n,i){let r=nt+i,s=n.length;i>0&&(n[r-1][cn]=e),i<s-nt?(e[cn]=n[r],Ub(n,nt+i,e)):(n.push(e),e[cn]=null),e[Ke]=n;let o=e[Wo];o!==null&&n!==o&&cN(o,e);let a=e[En];a!==null&&a.insertView(t),up(e),e[L]|=128}function cN(t,e){let n=t[vs],r=e[Ke][Ke][Mt];e[Mt]!==r&&(t[L]|=cg.HasTransplantedViews),n===null?t[vs]=[e]:n.push(e)}function tI(t,e){let n=t[vs],i=n.indexOf(e);n.splice(i,1)}function Bo(t,e){if(t.length<=nt)return;let n=nt+e,i=t[n];if(i){let r=i[Wo];r!==null&&r!==t&&tI(r,i),e>0&&(t[n-1][cn]=i[cn]);let s=Vl(t,nt+e);rN(i[B],i);let o=s[En];o!==null&&o.detachView(s[B]),i[Ke]=null,i[cn]=null,i[L]&=-129}return i}function fu(t,e){if(!(e[L]&256)){let n=e[Ce];n.destroyNode&&gu(t,e,n,3,null,null),oN(e)}}function qf(t,e){if(!(e[L]&256)){e[L]&=-129,e[L]|=256,e[nr]&&Sw(e[nr]),uN(t,e),lN(t,e),e[B].type===1&&e[Ce].destroy();let n=e[Wo];if(n!==null&&Tn(e[Ke])){n!==e[Ke]&&tI(n,e);let i=e[En];i!==null&&i.detachView(t)}tN(e)}}function lN(t,e){let n=t.cleanup,i=e[Po];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Po]=null);let r=e[Ei];if(r!==null){e[Ei]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function uN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof rr)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];vn(4,a,c);try{c.call(a)}finally{vn(5,a,c)}}else{vn(4,r,s);try{s.call(r)}finally{vn(5,r,s)}}}}}function nI(t,e,n){return dN(t,e.parent,n)}function dN(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[kt];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===bn.None||s===bn.Emulated)return null}return Lt(i,n)}}function jl(t,e,n,i,r){t.insertBefore(e,n,i,r)}function iI(t,e,n){t.appendChild(e,n)}function _E(t,e,n,i,r){i!==null?jl(t,e,n,i,r):iI(t,e,n)}function hN(t,e,n,i){t.removeChild(e,n,i)}function Cg(t,e){return t.parentNode(e)}function fN(t,e){return t.nextSibling(e)}function rI(t,e,n){return gN(t,e,n)}function pN(t,e,n){return t.type&40?Lt(t,n):null}var gN=pN,yE;function pu(t,e,n,i){let r=nI(t,i,e),s=e[Ce],o=i.parent||e[Vt],a=rI(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_E(s,r,n[c],a,!1);else _E(s,r,n,a,!1);yE!==void 0&&yE(s,i,e,n,r)}function Rl(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return vp(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Rl(t,i);{let r=t[e.index];return Tn(r)?vp(-1,r):un(r)}}else{if(n&32)return Dg(e,t)()||un(t[e.index]);{let i=sI(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Lo(t[Mt]);return Rl(r,i)}else return Rl(t,e.next)}}}return null}function sI(t,e){if(e!==null){let i=t[Mt][Vt],r=e.projection;return i.projection[r]}return null}function vp(t,e){let n=nt+t+1;if(n<e.length){let i=e[n],r=i[B].firstChild;if(r!==null)return Rl(i,r)}return e[Yn]}function oI(t,e,n){let i=Cg(t,e);i&&hN(t,i,e,n)}function aI(t){t.textContent=""}function Sg(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&Ii(un(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Sg(t,e,n.child,i,r,s,!1),fs(e,t,r,a,s);else if(c&32){let l=Dg(n,i),u;for(;u=l();)fs(e,t,r,u,s);fs(e,t,r,a,s)}else c&16?cI(t,e,i,n,r,s):fs(e,t,r,a,s);n=o?n.projectionNext:n.next}}function gu(t,e,n,i,r,s){Sg(n,i,t.firstChild,e,r,s,!1)}function mN(t,e,n){let i=e[Ce],r=nI(t,n,e),s=n.parent||e[Vt],o=rI(s,n,e);cI(i,0,e,n,r,o)}function cI(t,e,n,i,r,s){let o=n[Mt],c=o[Vt].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];fs(e,t,r,u,s)}else{let l=c,u=o[Ke];Bl(i)&&(l.flags|=128),Sg(t,e,l,u,r,s,!0)}}function _N(t,e,n,i,r){let s=n[Yn],o=un(n);s!==o&&fs(e,t,i,s,r);for(let a=nt;a<n.length;a++){let c=n[a];gu(c[B],c,t,e,i,s)}}function yN(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Jn.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Jn.Important),t.setStyle(n,i,r,s))}}function vN(t,e,n){t.setAttribute(e,"style",n)}function lI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uI(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&cp(t,e,i),r!==null&&lI(t,e,r),s!==null&&vN(t,e,s)}var vl;function wN(){if(vl===void 0&&(vl=null,bt.trustedTypes))try{vl=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vl}function vE(t){return wN()?.createScriptURL(t)||t}var $l=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LE})`}};function Ss(t){return t instanceof $l?t.changingThisBreaksApplicationSecurity:t}function Ag(t,e){let n=EN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${LE})`)}return n===e}function EN(t){return t instanceof $l&&t.getTypeName()||null}var bN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dI(t){return t=String(t),t.match(bN)?t:"unsafe:"+t}var mu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(mu||{});function IN(t){let e=fI();return e?e.sanitize(mu.URL,t)||"":Ag(t,"URL")?Ss(t):dI(nu(t))}function DN(t){let e=fI();if(e)return vE(e.sanitize(mu.RESOURCE_URL,t)||"");if(Ag(t,"ResourceURL"))return vE(Ss(t));throw new O(904,!1)}function TN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DN:IN}function hI(t,e,n){return TN(e,n)(t)}function fI(){let t=ie();return t&&t[Qn].sanitizer}var wp=class{};function CN(){let t=new dr;return g(Ut)==="browser"&&(t.store=SN(hu(),g(Zo))),t}var dr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(i,r){return this.store[i]!==void 0?this.store[i]:r}set(i,r){this.store[i]=r}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(i,r){this.onSerializeCallbacks[i]=r}toJson(){for(let i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=S({token:e,providedIn:"root",factory:CN});let t=e;return t})();function SN(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}var pI="h",gI="b",Ep=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Ep||{}),AN="e",RN="t",Rg="c",mI="x",Hl="r",MN="i",ON="n",xN="d",NN="__nghData__",_I=NN,Wf="ngh",PN="nghm",yI=()=>null;function kN(t,e,n=!1){let i=t.getAttribute(Wf);if(i==null)return null;let[r,s]=i.split("|");if(i=n?s:r,!i)return null;let o=n?r:s?`|${s}`:"",a={};if(i!==""){let l=e.get(dr,null,{optional:!0});l!==null&&(a=l.get(_I,[])[Number(i)])}let c={data:a,firstChild:t.firstChild??null};return n&&(c.firstChild=t,_u(c,0,t.nextSibling)),o?t.setAttribute(Wf,o):t.removeAttribute(Wf),c}function FN(){yI=kN}function Mg(t,e,n=!1){return yI(t,e,n)}function VN(t){let e=t._lView;return e[B].type===2?null:(ab(e)&&(e=e[ze]),e)}function LN(t){return t.textContent?.replace(/\s/gm,"")}function UN(t){let e=hu(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=LN(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),i,r=[];for(;i=n.nextNode();)r.push(i);for(let s of r)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function _u(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function bp(t,e){return t.segmentHeads?.[e]??null}function BN(t,e){let n=t.data,i=n[AN]?.[e]??null;return i===null&&n[Rg]?.[e]&&(i=Og(t,e)),i}function vI(t,e){return t.data[Rg]?.[e]??null}function Og(t,e){let n=vI(t,e)??[],i=0;for(let r of n)i+=r[Hl]*(r[mI]??1);return i}function yu(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[xN];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Ip=class{},Gl=class{};function jN(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[$N]=t,e}var $N="ngComponent";var Dp=class{resolveComponentFactory(e){throw jN(e)}},vu=(()=>{let e=class e{};e.NULL=new Dp;let t=e;return t})();function HN(){return As(Ot(),ie())}function As(t,e){return new Qe(Lt(t,e))}var Qe=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=HN;let t=e;return t})();function GN(t){return t instanceof Qe?t.nativeElement:t}var jo=class{},Ri=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>zN();let t=e;return t})();function zN(){let t=ie(),e=Ot(),n=Ci(e.index,t);return(Wn(n)?n:t)[Ce]}var qN=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Kf={};function wI(t){return KN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function KN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Tp=class{constructor(){}supports(e){return wI(e)}create(e){return new Cp(e)}},QN=(t,e)=>e,Cp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QN}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<wE(i,r,s)?n:i,a=wE(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){let f=h<s.length?s[h]:s[h]=0,m=f+h;u<=m&&m<l&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!wI(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,WN(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Sp(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new zl),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new zl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ap=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},zl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Ap,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wE(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function EE(){return new xg([new Tp])}var xg=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||EE()),deps:[[e,new wg,new qt]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new O(901,!1)}};e.\u0275prov=S({token:e,providedIn:"root",factory:EE});let t=e;return t})();function ql(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(un(s)),Tn(s)&&YN(s,i);let o=n.type;if(o&8)ql(t,e,n.child,i);else if(o&32){let a=Dg(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=sI(e,n);if(Array.isArray(a))i.push(...a);else{let c=Lo(e[Mt]);ql(c[B],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function YN(t,e){for(let n=nt;n<t.length;n++){let i=t[n],r=i[B].firstChild;r!==null&&ql(i[B],i,r,e)}t[Yn]!==t[kt]&&e.push(t[Yn])}var EI=[];function JN(t){return t[nr]??ZN(t)}function ZN(t){let e=EI.pop()??Object.create(eP);return e.lView=t,e}function XN(t){t.lView[nr]!==t&&(t.lView=null,EI.push(t))}var eP=oe(E({},Dw),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vo(t.lView)},consumerOnSignalRead(){this.lView[nr]=this}});function bI(t){return DI(t[ko])}function II(t){return DI(t[cn])}function DI(t){for(;t!==null&&!Tn(t);)t=t[cn];return t}var tP="ngOriginalError";function Qf(t){return t[tP]}var In=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qf(e);for(;n&&Qf(n);)n=Qf(n);return n||null}},TI=new R("",{providedIn:"root",factory:()=>g(In).handleError.bind(void 0)}),wl=new R(""),CI=!1,SI=new R("",{providedIn:"root",factory:()=>CI});var ei={};function fe(t=1){AI(it(),ie(),Si()+t,!1)}function AI(t,e,n,i){if(!i)if((e[L]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Tl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Cl(e,s,0,n)}ir(n)}function A(t,e=Z.Default){let n=ie();if(n===null)return N(t,e);let i=Ot();return kb(i,n,vt(t),e)}function RI(){let t="invalid";throw new Error(t)}function MI(t,e,n,i,r,s){let o=tt(null);try{let a=null;r&Me.SignalBased&&(a=e[i][Iw]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Me.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):cb(e,a,i,s)}finally{tt(o)}}function nP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ir(~r);else{let s=r,o=n[++i],a=n[++i];ZO(o,s);let c=e[s];a(2,c)}}}finally{ir(-1)}}function wu(t,e,n,i,r,s,o,a,c,l,u){let d=e.blueprint.slice();return d[kt]=r,d[L]=i|4|128|8|64,(l!==null||t&&t[L]&2048)&&(d[L]|=2048),fb(d),d[Ke]=d[Ds]=t,d[lt]=n,d[Qn]=o||t&&t[Qn],d[Ce]=a||t&&t[Ce],d[ys]=c||t&&t[ys]||null,d[Vt]=s,d[su]=Xx(),d[ln]=u,d[sb]=l,d[Mt]=e.type==2?t[Mt]:d,d}function Rs(t,e,n,i,r){let s=t.data[e];if(s===null)s=iP(t,e,n,i,r),JO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=WO();s.injectorIndex=o===null?-1:o.injectorIndex}return ur(s,!0),s}function iP(t,e,n,i,r){let s=_b(),o=hg(),a=o?s:s&&s.parent,c=t.data[e]=uP(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function OI(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function xI(t,e,n,i,r){let s=Si(),o=i&2;try{ir(-1),o&&e.length>ze&&AI(t,e,ze,!1),vn(o?2:0,r),n(i,r)}finally{ir(s),vn(o?3:1,r)}}function Ng(t,e,n){if(lg(e)){let i=tt(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{tt(i)}}}function Pg(t,e,n){mb()&&(_P(t,e,n,Lt(n,e)),(n.flags&64)===64&&FI(t,e,n))}function kg(t,e,n=Lt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function NI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Fg(t,e,n,i,r,s,o,a,c,l,u){let d=ze+i,h=d+r,f=rP(d,h),m=typeof l=="function"?l():l;return f[B]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function rP(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:ei);return n}function sP(t,e,n,i){let s=i.get(SI,CI)||n===bn.ShadowDom,o=t.selectRootElement(e,s);return oP(o),o}function oP(t){PI(t)}var PI=()=>null;function aP(t){Yb(t)?aI(t):UN(t)}function cP(){PI=aP}function lP(t,e,n,i){let r=UI(e);r.push(n),t.firstCreatePass&&BI(t).push(i,r.length-1)}function uP(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return Ts()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bE(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=Me.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}t===0?IE(i,n,l,a,c):IE(i,n,l,a)}return i}function IE(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function dP(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=bE(0,d.inputs,u,c,f),l=bE(1,d.outputs,u,l,m);let v=c!==null&&o!==null&&!JE(e)?AP(c,u,o):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function hP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fP(t,e,n,i,r,s,o,a){let c=Lt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(Lg(t,n,u,i,r),Ko(e)&&pP(n,e.index)):e.type&3?(i=hP(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function pP(t,e){let n=Ci(e,t);n[L]&16||(n[L]|=64)}function Vg(t,e,n,i){if(mb()){let r=i===null?null:{"":-1},s=vP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&kI(t,e,n,o,r,a),r&&wP(n,i,r)}n.mergedAttrs=No(n.mergedAttrs,n.attrs)}function kI(t,e,n,i,r,s){for(let l=0;l<i.length;l++)fp(Fl(n,e),t,i[l].type);bP(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=OI(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=No(n.mergedAttrs,u.hostAttrs),IP(t,n,e,c,u),EP(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}dP(t,n,s)}function gP(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;mP(o)!=a&&o.push(a),o.push(n,i,s)}}function mP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _P(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Ko(n)&&DP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Fl(n,e),Ii(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],l=sr(e,t,a,n);if(Ii(l,e),o!==null&&SP(e,a-r,l,c,n,o),bi(c)){let u=Ci(n.index,e);u[lt]=sr(e,t,a,n)}}}function FI(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=XO();try{ir(s);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];dp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&yP(c,l)}}finally{ir(-1),dp(o)}}function yP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vP(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ZE(e,o.selectors,!1))if(i||(i=[]),bi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Rp(t,e,c)}else i.unshift(o),Rp(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Rp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wP(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new O(-301,!1);i.push(e[r],s)}}}function EP(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;bi(e)&&(n[""]=t)}}function bP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IP(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=ws(r.type,!0)),o=new rr(s,bi(r),A);t.blueprint[i]=o,n[i]=o,gP(t,e,i,OI(t,n,r.hostVars,ei),r)}function DP(t,e,n){let i=Lt(e,t),r=NI(n),s=t[Qn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Eu(t,wu(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function TP(t,e,n,i,r,s){let o=Lt(t,e);CP(e[Ce],o,s,t.value,n,i,r)}function CP(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?nu(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function SP(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];MI(i,n,c,l,u,d)}}function AP(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function VI(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function LI(t,e){let n=t.contentQueries;if(n!==null){let i=tt(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];pg(s),a.contentQueries(2,e[o],o)}}}finally{tt(i)}}}function Eu(t,e){return t[ko]?t[lE][cn]=e:t[ko]=e,t[lE]=e,e}function Mp(t,e,n){pg(0);let i=tt(null);try{e(t,n)}finally{tt(i)}}function UI(t){return t[Po]||(t[Po]=[])}function BI(t){return t.cleanup||(t.cleanup=[])}function jI(t,e){let n=t[ys],i=n?n.get(In,null):null;i&&i.handleError(e)}function Lg(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];MI(u,l,i,a,c,r)}}function RP(t,e,n){let i=hb(e,t);iN(t[Ce],i,n)}var MP=100;function OP(t,e=!0){let n=t[Qn],i=n.rendererFactory,r=!1;r||i.begin?.();try{xP(t)}catch(s){throw e&&jI(t,s),s}finally{r||(i.end?.(),n.inlineEffectRunner?.flush())}}function xP(t){Op(t,0);let e=0;for(;pb(t);){if(e===MP)throw new O(103,!1);e++,Op(t,1)}}function NP(t,e,n,i){let r=e[L];if((r&256)===256)return;let s=!1;!s&&e[Qn].inlineEffectRunner?.flush(),gg(e);let o=null,a=null;!s&&PP(t)&&(a=JN(e),o=Tw(a));try{fb(e),YO(t.bindingStartIndex),n!==null&&xI(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Tl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Cl(e,d,0,null),$f(e,0)}if(kP(e),$I(e,0),t.contentQueries!==null&&LI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Tl(e,d)}else{let d=t.contentHooks;d!==null&&Cl(e,d,1),$f(e,1)}nP(t,e);let l=t.components;l!==null&&GI(e,l,0);let u=t.viewQuery;if(u!==null&&Mp(2,u,i),!s)if(c){let d=t.viewCheckHooks;d!==null&&Tl(e,d)}else{let d=t.viewHooks;d!==null&&Cl(e,d,2),$f(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[jf]){for(let d of e[jf])d();e[jf]=null}s||(e[L]&=-73)}catch(c){throw Vo(e),c}finally{a!==null&&(Cw(a,o),XN(a)),mg()}}function PP(t){return t.type!==2}function $I(t,e){for(let n=bI(t);n!==null;n=II(n))for(let i=nt;i<n.length;i++){let r=n[i];HI(r,e)}}function kP(t){for(let e=bI(t);e!==null;e=II(e)){if(!(e[L]&cg.HasTransplantedViews))continue;let n=e[vs];for(let i=0;i<n.length;i++){let r=n[i],s=r[Ke];LO(r)}}}function FP(t,e,n){let i=Ci(e,t);HI(i,n)}function HI(t,e){dg(t)&&Op(t,e)}function Op(t,e){let i=t[B],r=t[L],s=t[nr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&_f(s)),s&&(s.dirty=!1),t[L]&=-9217,o)NP(i,t,i.template,t[lt]);else if(r&8192){$I(t,1);let a=i.components;a!==null&&GI(t,a,1)}}function GI(t,e,n){for(let i=0;i<e.length;i++)FP(t,e[i],n)}function Ug(t){for(t[Qn].changeDetectionScheduler?.notify();t;){t[L]|=64;let e=Lo(t);if(ab(t)&&!e)return t;t=e}return null}var ar=class{get rootNodes(){let e=this._lView,n=e[B];return ql(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return(this._lView[L]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(Tn(e)){let n=e[Nl],i=n?n.indexOf(this):-1;i>-1&&(Bo(e,i),Vl(n,i))}this._attachedToViewContainer=!1}fu(this._lView[B],this._lView)}onDestroy(e){gb(this._lView,e)}markForCheck(){Ug(this._cdRefInjectingView||this._lView)}detach(){this._lView[L]&=-129}reattach(){up(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,OP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,eI(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,up(this._lView)}},Mi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VP;let t=e;return t})();function VP(t){return LP(Ot(),ie(),(t&16)===16)}function LP(t,e,n){if(Ko(t)&&!n){let i=Ci(t.index,e);return new ar(i,i)}else if(t.type&47){let i=e[Mt];return new ar(i,e)}return null}var Bg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UP,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),xp=class extends Bg{constructor(e){super(),this._lView=e}onDestroy(e){return gb(this._lView,e),()=>BO(this._lView,e)}};function UP(){return new xp(ie())}var DE=new Set;function Oi(t){DE.has(t)||(DE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Np=class extends ae{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Yf(s),r&&(r=Yf(r)),o&&(o=Yf(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Fe&&e.add(a),a}};function Yf(t){return e=>{setTimeout(t,void 0,e)}}var ce=Np;function TE(...t){}function BP(){let t=typeof bt.requestAnimationFrame=="function",e=bt[t?"requestAnimationFrame":"setTimeout"],n=bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var $=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=BP().nativeRequestAnimationFrame,HP(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,jP,TE,TE);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},jP={};function jg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $P(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pp(t),t.isCheckStableRunning=!0,jg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pp(t))}function HP(t){let e=()=>{$P(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(GP(a))return n.invokeTask(r,s,o,a);try{return CE(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),SE(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return CE(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),SE(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Pp(t),jg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Pp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function CE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SE(t){t._nesting--,jg(t)}var kp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function GP(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function zP(t="zone.js",e){return t==="noop"?new kp:t==="zone.js"?new $(e):t}var ps=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ps||{}),qP={destroy(){}};function $g(t,e){!e&&$x($g);let n=e?.injector??g(Ie);if(!Ro(n))return qP;Oi("NgAfterNextRender");let i=n.get(Hg),r=i.handler??=new Vp,s=e?.phase??ps.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(Bg).onDestroy(o),c=new Fp(n,s,()=>{o(),t()});return r.register(c),{destroy:o}}var Fp=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get($),this.errorHandler=e.get(In,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Vp=class{constructor(){this.executingCallbacks=!1,this.buckets={[ps.EarlyRead]:new Set,[ps.Write]:new Set,[ps.MixedReadWrite]:new Set,[ps.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let i of n)e=!0,i.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Hg=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of i)s();return!!this.handler?.execute()||i.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function WP(t,e){let n=Ci(e,t),i=n[B];KP(i,n);let r=n[kt];r!==null&&n[ln]===null&&(n[ln]=Mg(r,n[ys])),Gg(i,n,n[lt])}function KP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gg(t,e,n){gg(e);try{let i=t.viewQuery;i!==null&&Mp(1,i,n);let r=t.template;r!==null&&xI(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&LI(t,e),t.staticViewQueries&&Mp(2,t.viewQuery,n);let s=t.components;s!==null&&QP(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[L]&=-5,mg()}}function QP(t,e){for(let n=0;n<e.length;n++)WP(t,e[n])}function Wl(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=rp(r,a);else if(s==2){let c=a,l=e[++o];i=rp(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Kl=class extends vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kn(e);return new cr(n,this.ngModule)}};function AE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function YP(t){let e=t.toLowerCase();return e==="svg"?OO:e==="math"?xO:null}var Lp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=ru(i);let r=this.injector.get(e,Kf,i);return r!==Kf||n===Kf?r:this.parentInjector.get(e,n,i)}},cr=class extends Gl{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=AE(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return AE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let s=r instanceof ut?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Lp(e,s):e,a=o.get(jo,null);if(a===null)throw new O(407,!1);let c=o.get(qN,null),l=o.get(Hg,null),u=o.get(wp,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=i?sP(h,i,this.componentDef.encapsulation,o):Tg(h,f,YP(f)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let w=null;m!==null&&(w=Mg(m,o,!0));let D=Fg(0,null,null,1,0,null,null,null,null,null,null),q=wu(null,D,null,v,null,null,d,h,o,null,w);gg(q);let se,me;try{let ke=this.componentDef,_e,Nt=null;ke.findHostDirectiveDefs?(_e=[],Nt=new Map,ke.findHostDirectiveDefs(ke,_e,Nt),_e.push(ke)):_e=[ke];let ui=JP(q,m),Qi=ZP(ui,m,ke,_e,q,d,h);me=ug(D,ze),m&&tk(h,ke,m,i),n!==void 0&&nk(me,this.ngContentSelectors,n),se=ek(Qi,ke,_e,Nt,q,[ik]),Gg(D,q,null)}finally{mg()}return new Up(this.componentType,se,As(me,q),q,me)}},Up=class extends Ip{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ar(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Lg(s[B],s,r,e,n),this.previousInputValues.set(e,n);let o=Ci(this._tNode.index,s);Ug(o)}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function JP(t,e){let n=t[B],i=ze;return t[i]=e,Rs(n,i,2,"#host",null)}function ZP(t,e,n,i,r,s,o){let a=r[B];XP(i,t,e,o);let c=null;e!==null&&(c=Mg(e,r[ys]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=wu(r,NI(n),null,u,r[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Rp(a,t,i.length-1),Eu(r,d),r[t.index]=d}function XP(t,e,n,i){for(let r of t)e.mergedAttrs=No(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Wl(e,e.mergedAttrs,!0),n!==null&&uI(i,n,e))}function ek(t,e,n,i,r,s){let o=Ot(),a=r[B],c=Lt(o,r);kI(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=sr(r,a,d,o);Ii(h,r)}FI(a,r,o),c&&Ii(c,r);let l=sr(r,a,o.directiveStart+o.componentOffset,o);if(t[lt]=r[lt]=l,s!==null)for(let u of s)u(l,e);return Ng(a,o,t),l}function tk(t,e,n,i){if(i)cp(t,n,["ng-version","17.1.1"]);else{let{attrs:r,classes:s}=DO(e.selectors[0]);r&&cp(t,n,r),s&&s.length>0&&lI(t,n,s.join(" "))}}function nk(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function ik(){let t=Ot();cu(ie()[B],t)}function rk(t){return Object.getPrototypeOf(t.prototype).constructor}function Cn(t){let e=rk(t.type),n=!0,i=[t];for(;e;){let r;if(bi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=El(t.inputs),o.inputTransforms=El(t.inputTransforms),o.declaredInputs=El(t.declaredInputs),o.outputs=El(t.outputs);let a=r.hostBindings;a&&lk(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&ak(t,c),l&&ck(t,l),sk(t,r),qM(t.outputs,r.outputs),bi(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Cn&&(n=!1)}}e=Object.getPrototypeOf(e)}ok(i)}function sk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function ok(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=No(r.hostAttrs,n=No(n,r.hostAttrs))}}function El(t){return t===_s?{}:t===wt?[]:t}function ak(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function ck(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function lk(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function zg(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}function zI(t){let e=t[Fo]??[],i=t[Ke][Ce];for(let r of e)uk(r,i);t[Fo]=wt}function uk(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[Hl];for(;n<r;){let s=i.nextSibling;oI(e,i,!1),i=s,n++}}}function qI(t){zI(t);for(let e=nt;e<t.length;e++)Ql(t[e])}function Ql(t){let e=t[B];for(let n=ze;n<e.bindingStartIndex;n++)if(Tn(t[n])){let i=t[n];qI(i)}else Wn(t[n])&&Ql(t[n])}function dk(t){let e=t._views;for(let n of e){let i=VN(n);if(i!==null&&i[kt]!==null)if(Wn(i))Ql(i);else{let r=i[kt];Ql(r),qI(i)}}}var hk=new RegExp(`^(\\d+)*(${gI}|${pI})*(.*)`);function fk(t){let e=t.match(hk),[n,i,r,s]=e,o=i?parseInt(i,10):r,a=[];for(let[c,l,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[o,...a]}function pk(t){return!t.prev&&t.parent?.type===8}function Jf(t){return t.index-ze}function bu(t,e,n,i){let r=null,s=Jf(i),o=t.data[ON];if(o?.[s])r=mk(o[s],n);else if(e.firstChild===i)r=t.firstChild;else{let a=i.prev===null,c=i.prev??i.parent;if(pk(i)){let l=Jf(i.parent);r=bp(t,l)}else{let l=Lt(c,n);if(a)r=l.firstChild;else{let u=Jf(c),d=bp(t,u);if(c.type===2&&d){let f=Og(t,u)+1;r=Iu(f,d)}else r=l.nextSibling}}}return r}function Iu(t,e){let n=e;for(let i=0;i<t;i++)n=n.nextSibling;return n}function gk(t,e){let n=t;for(let i=0;i<e.length;i+=2){let r=e[i],s=e[i+1];for(let o=0;o<s;o++)switch(r){case Ep.FirstChild:n=n.firstChild;break;case Ep.NextSibling:n=n.nextSibling;break}}return n}function mk(t,e){let[n,...i]=fk(t),r;if(n===pI)r=e[Mt][kt];else if(n===gI)r=Gx(e[Mt][kt]);else{let s=Number(n);r=un(e[s+ze])}return gk(r,i)}function _k(t,e){let n=[];for(let i of e)for(let r=0;r<(i[mI]??1);r++){let s={data:i,firstChild:null};i[Hl]>0&&(s.firstChild=t,t=Iu(i[Hl],t)),n.push(s)}return[t,n]}var WI=()=>null;function yk(t,e){let n=t[Fo];return!e||n===null||n.length===0?null:n[0].data[MN]===e?n.shift():(zI(t),null)}function vk(){WI=yk}function $o(t,e){return WI(t,e)}function Du(t,e,n,i){let r=e.tView,o=t[L]&4096?4096:16,a=wu(t,r,n,o,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[Wo]=c;let l=t[En];return l!==null&&(a[En]=l.createEmbeddedView(r)),Gg(r,a,n),a}function KI(t,e){let n=nt+e;if(n<t.length)return t[n]}function Ho(t,e){return!e||e.firstChild===null||Bl(t)}function Tu(t,e,n,i=!0){let r=e[B];if(aN(r,e,t,n),i){let o=vp(n,t),a=e[Ce],c=Cg(a,t[Yn]);c!==null&&sN(r,t[Vt],a,e,c,o)}let s=e[ln];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function QI(t,e){let n=Bo(t,e);return n!==void 0&&fu(n[B],n),n}var Sn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wk;let t=e;return t})();function wk(){let t=Ot();return JI(t,ie())}var Ek=Sn,YI=class extends Ek{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=_g(this._hostTNode,this._hostLView);if(Rb(e)){let n=kl(e,this._hostLView),i=Pl(e),r=n[B].data[i+8];return new tr(r,n)}else return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=RE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=$o(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,Ho(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!vx(e),a;if(o)a=n;else{let m=n||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new cr(Kn(e)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let v=(o?l:this.parentInjector).get(ut,null);v&&(s=v)}let u=Kn(c.componentType??{}),d=$o(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,r,h,s);return this.insertImpl(f.hostView,a,Ho(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(VO(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ke],l=new YI(c,c[Vt],c[Ke]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Tu(o,r,s,i),e.attachToViewContainerRef(),Ub(Zf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=RE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Bo(this._lContainer,n);i&&(Vl(Zf(this._lContainer),n),fu(i[B],i))}detach(e){let n=this._adjustIndex(e,-1),i=Bo(this._lContainer,n);return i&&Vl(Zf(this._lContainer),n)!=null?new ar(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function RE(t){return t[Nl]}function Zf(t){return t[Nl]||(t[Nl]=[])}function JI(t,e){let n,i=e[t.index];return Tn(i)?n=i:(n=VI(i,e,null,t),e[t.index]=n,Eu(e,n)),ZI(n,e,t,i),new YI(n,t,e)}function bk(t,e){let n=t[Ce],i=n.createComment(""),r=Lt(e,t),s=Cg(n,r);return jl(n,s,i,fN(n,r),!1),i}var ZI=XI,qg=()=>!1;function Ik(t,e,n){return qg(t,e,n)}function XI(t,e,n,i){if(t[Yn])return;let r;n.type&8?r=un(i):r=bk(e,n),t[Yn]=r}function Dk(t,e,n){if(t[Yn]&&t[Fo])return!0;let i=n[ln],r=e.index-ze;if(!i||Wx(e)||yu(i,r))return!1;let o=bp(i,r),a=i.data[Rg]?.[r],[c,l]=_k(o,a);return t[Yn]=c,t[Fo]=l,!0}function Tk(t,e,n,i){qg(t,n,e)||XI(t,e,n,i)}function Ck(){ZI=Tk,qg=Dk}function Sk(t,e,n){return t[e]=n}function xi(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Ak(t,e,n,i,r,s,o,a,c){let l=e.consts,u=Rs(e,t,4,o||null,Es(l,a));Vg(e,n,u,Es(l,c)),cu(e,u);let d=u.tView=Fg(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ft(t,e,n,i,r,s,o,a){let c=ie(),l=it(),u=t+ze,d=l.firstCreatePass?Ak(u,l,c,e,n,i,r,s,o):l.data[u];ur(d,!1);let h=eD(l,c,d,t);au()&&pu(l,c,h,d),Ii(h,c);let f=VI(h,c,h,d);return c[u]=f,Eu(c,f),Ik(f,d,c),ou(d)&&Pg(l,c,d),o!=null&&kg(c,d,a),Ft}var eD=tD;function tD(t,e,n,i){return Ai(!0),e[Ce].createComment("")}function Rk(t,e,n,i){let r=e[ln],s=!r||Ts()||yu(r,i);if(Ai(s),s)return tD(t,e,n,i);let o=r.data[RN]?.[i]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=bu(r,t,e,n);_u(r,i,a);let c=Og(r,i);return Iu(c,a)}function Mk(){eD=Rk}function hr(t,e,n,i){let r=ie(),s=Qo();if(xi(r,s,e)){let o=it(),a=Tb();TP(a,r,t,e,n,i)}return hr}function Ok(t,e,n,i){return xi(t,Qo(),n)?e+nu(n)+i:ei}function bl(t,e){return t<<17|e<<2}function lr(t){return t>>17&32767}function xk(t){return(t&2)==2}function Nk(t,e){return t&131071|e<<17}function Bp(t){return t|2}function Is(t){return(t&131068)>>2}function Xf(t,e){return t&-131069|e<<2}function Pk(t){return(t&1)===1}function jp(t){return t|1}function kk(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=lr(o),c=Is(o);t[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Yo(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let h=lr(t[a+1]);t[i+1]=bl(h,a),h!==0&&(t[h+1]=Xf(t[h+1],i)),t[a+1]=Nk(t[a+1],i)}else t[i+1]=bl(a,0),a!==0&&(t[a+1]=Xf(t[a+1],i)),a=i;else t[i+1]=bl(c,0),a===0?a=i:t[c+1]=Xf(t[c+1],i),c=i;l&&(t[i+1]=Bp(t[i+1])),ME(t,u,i,!0),ME(t,u,i,!1),Fk(e,u,t,i,s),o=bl(a,c),s?e.classBindings=o:e.styleBindings=o}function Fk(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Yo(s,e)>=0&&(n[i+1]=jp(n[i+1]))}function ME(t,e,n,i){let r=t[n+1],s=e===null,o=i?lr(r):Is(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];Vk(c,e)&&(a=!0,t[o+1]=i?jp(l):Bp(l)),o=i?lr(l):Is(l)}a&&(t[n+1]=i?Bp(r):jp(r))}function Vk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Yo(t,e)>=0:!1}var an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Lk(t){return t.substring(an.key,an.keyEnd)}function Uk(t){return Bk(t),nD(t,iD(t,0,an.textEnd))}function nD(t,e){let n=an.textEnd;return n===e?-1:(e=an.keyEnd=jk(t,an.key=e,n),iD(t,e,n))}function Bk(t){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=t.length}function iD(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function jk(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function De(t,e,n){let i=ie(),r=Qo();if(xi(i,r,e)){let s=it(),o=Tb();fP(s,o,i,t,e,i[Ce],n,!1)}return De}function $p(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Lg(t,n,s[o],o,i)}function ti(t,e){return Hk(t,e,null,!0),ti}function Ms(t){Gk(Yk,$k,t,!0)}function $k(t,e){for(let n=Uk(e);n>=0;n=nD(e,n))vg(t,Lk(e),!0)}function Hk(t,e,n,i){let r=ie(),s=it(),o=yb(2);if(s.firstUpdatePass&&sD(s,t,o,i),e!==ei&&xi(r,o,e)){let a=s.data[Si()];oD(s,a,r,r[Ce],t,r[o+1]=Zk(e,n),i,o)}}function Gk(t,e,n,i){let r=it(),s=yb(2);r.firstUpdatePass&&sD(r,null,s,i);let o=ie();if(n!==ei&&xi(o,s,n)){let a=r.data[Si()];if(aD(a,i)&&!rD(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=rp(c,n||"")),$p(r,a,o,n,i)}else Jk(r,a,o,o[Ce],o[s+1],o[s+1]=Qk(t,e,n),i,s)}}function rD(t,e){return e>=t.expandoStartIndex}function sD(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Si()],o=rD(t,n);aD(s,i)&&e===null&&!o&&(e=!1),e=zk(r,s,e,i),kk(r,s,e,n,o,i)}}function zk(t,e,n,i){let r=ex(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=ep(null,t,e,n,i),n=Go(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=ep(r,t,e,n,i),s===null){let c=qk(t,e,i);c!==void 0&&Array.isArray(c)&&(c=ep(null,t,e,c[1],i),c=Go(c,e.attrs,i),Wk(t,e,i,c))}else s=Kk(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function qk(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Is(i)!==0)return t[lr(i)]}function Wk(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[lr(r)]=i}function Kk(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=Go(i,o,n)}return Go(i,e.attrs,n)}function ep(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=Go(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Go(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vg(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Qk(t,e,n){if(n==null||n==="")return wt;let i=[],r=Ss(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function Yk(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&vg(t,i,n)}function Jk(t,e,n,i,r,s,o,a){r===ei&&(r=wt);let c=0,l=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=c<r.length?r[c+1]:void 0,f=l<s.length?s[l+1]:void 0,m=null,v;u===d?(c+=2,l+=2,h!==f&&(m=d,v=f)):d===null||u!==null&&u<d?(c+=2,m=u):(l+=2,m=d,v=f),m!==null&&oD(t,e,n,i,m,v,o,a),u=c<r.length?r[c]:null,d=l<s.length?s[l]:null}}function oD(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Pk(l)?OE(c,e,n,r,Is(l),o):void 0;if(!Yl(u)){Yl(s)||xk(l)&&(s=OE(c,null,n,r,a,o));let d=hb(Si(),n);yN(i,o,d,r,s)}}function OE(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[r+1];h===ei&&(h=d?wt:void 0);let f=d?Gf(h,i):u===i?h:void 0;if(l&&!Yl(f)&&(f=Gf(c,i)),Yl(f)&&(a=f,o))return a;let m=t[r+1];r=o?lr(m):Is(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Gf(c,i))}return a}function Yl(t){return t!==void 0}function Zk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et(Ss(t)))),t}function aD(t,e){return(t.flags&(e?8:16))!==0}var Hp=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,n){this.attach(n,this.detach(e))}};function tp(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function Xk(t,e,n){let i,r,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),l=e[s],u=tp(s,c,s,l,n);if(u!==0){u<0&&t.updateValue(s,l),s++;continue}let d=t.at(o),h=e[a],f=tp(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let m=n(s,c),v=n(o,d),w=n(s,l);if(Object.is(w,v)){let D=n(a,h);Object.is(D,m)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(i??=new Jl,r??=NE(t,s,o,n),Gp(t,i,s,w))t.updateValue(s,l),s++,o++;else if(r.has(w))i.set(m,t.detach(s)),o--;else{let D=t.create(s,e[s]);t.attach(s,D),s++,o++}}for(;s<=a;)xE(t,i,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let l=t.at(s),u=c.value,d=tp(s,l,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,c=a.next();else{i??=new Jl,r??=NE(t,s,o,n);let h=n(s,u);if(Gp(t,i,s,h))t.updateValue(s,u),s++,o++,c=a.next();else if(!r.has(h))t.attach(s,t.create(s,u)),s++,o++,c=a.next();else{let f=n(s,l);i.set(f,t.detach(s)),o--}}}for(;!c.done;)xE(t,i,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(a=>{t.destroy(a)})}function Gp(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function xE(t,e,n,i,r){if(Gp(t,e,i,n(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function NE(t,e,n,i){let r=new Set;for(let s=e;s<=n;s++)r.add(i(s,t.at(s)));return r}var Jl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function fr(t,e,n){Oi("NgControlFlow");let i=ie(),r=Qo(),s=Kp(i,ze+t),o=0;if(xi(i,r,e)){let a=tt(null);try{if(QI(s,o),e!==-1){let c=Qp(i[B],ze+e),l=$o(s,c.tView.ssrId),u=Du(i,c,n,{dehydratedView:l});Tu(s,u,o,Ho(c,l))}}finally{tt(a)}}else{let a=KI(s,o);a!==void 0&&(a[lt]=n)}}var zp=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-nt}};function Cu(t){return t}var qp=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function Xo(t,e,n,i,r,s,o,a,c,l,u,d,h){Oi("NgControlFlow");let f=c!==void 0,m=ie(),v=a?o.bind(m[Mt][lt]):o,w=new qp(f,v);m[ze+t]=w,Ft(t+1,e,n,i,r,s),f&&Ft(t+2,c,l,u,d,h)}var Wp=class extends Hp{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-nt}at(e){return this.getLView(e)[lt].$implicit}attach(e,n){let i=n[ln];this.needsIndexUpdate||=e!==this.length,Tu(this.lContainer,n,e,Ho(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,eF(this.lContainer,e)}create(e,n){let i=$o(this.lContainer,this.templateTNode.tView.ssrId);return Du(this.hostLView,this.templateTNode,new zp(this.lContainer,n,e),{dehydratedView:i})}destroy(e){fu(e[B],e)}updateValue(e,n){this.getLView(e)[lt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[lt].$index=e}getLView(e){return tF(this.lContainer,e)}};function ea(t){let e=tt(null),n=Si();try{let i=ie(),r=i[B],s=i[n];if(s.liveCollection===void 0){let a=n+1,c=Kp(i,a),l=Qp(r,a);s.liveCollection=new Wp(c,i,l)}else s.liveCollection.reset();let o=s.liveCollection;if(Xk(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Qo(),c=o.length===0;if(xi(i,a,c)){let l=n+2,u=Kp(i,l);if(c){let d=Qp(r,l),h=$o(u,d.tView.ssrId),f=Du(i,d,void 0,{dehydratedView:h});Tu(u,f,0,Ho(d,h))}else QI(u,0)}}}finally{tt(e)}}function Kp(t,e){return t[e]}function eF(t,e){return Bo(t,e)}function tF(t,e){return KI(t,e)}function Qp(t,e){return ug(t,e)}function nF(t,e,n,i,r,s){let o=e.consts,a=Es(o,r),c=Rs(e,t,2,i,a);return Vg(e,n,c,Es(o,s)),c.attrs!==null&&Wl(c,c.attrs,!1),c.mergedAttrs!==null&&Wl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function M(t,e,n,i){let r=ie(),s=it(),o=ze+t,a=r[Ce],c=s.firstCreatePass?nF(o,s,r,e,n,i):s.data[o],l=cD(s,r,c,a,e,t);r[o]=l;let u=ou(c);return ur(c,!0),uI(a,l,c),(c.flags&32)!==32&&au()&&pu(s,r,l,c),jO()===0&&Ii(l,r),$O(),u&&(Pg(s,r,c),Ng(s,c,r)),i!==null&&kg(r,c),M}function C(){let t=Ot();hg()?fg():(t=t.parent,ur(t,!1));let e=t;GO(e)&&qO(),HO();let n=it();return n.firstCreatePass&&(cu(n,t),lg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ox(e)&&$p(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ax(e)&&$p(n,e,ie(),e.stylesWithoutHost,!1),C}function ue(t,e,n,i){return M(t,e,n,i),C(),ue}var cD=(t,e,n,i,r,s)=>(Ai(!0),Tg(i,r,Cb()));function iF(t,e,n,i,r,s){let o=e[ln],a=!o||Ts()||yu(o,s);if(Ai(a),a)return Tg(i,r,Cb());let c=bu(o,t,e,n);return vI(o,s)&&_u(o,s,c.nextSibling),o&&(Qb(n)||Yb(c))&&Ko(n)&&(zO(n),aI(c)),c}function rF(){cD=iF}function sF(t,e,n,i,r){let s=e.consts,o=Es(s,i),a=Rs(e,t,8,"ng-container",o);o!==null&&Wl(a,o,!0);let c=Es(s,r);return Vg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Wg(t,e,n){let i=ie(),r=it(),s=t+ze,o=r.firstCreatePass?sF(s,r,i,e,n):r.data[s];ur(o,!0);let a=lD(r,i,o,t);return i[s]=a,au()&&pu(r,i,a,o),Ii(a,i),ou(o)&&(Pg(r,i,o),Ng(r,o,i)),n!=null&&kg(i,o),Wg}function Kg(){let t=Ot(),e=it();return hg()?fg():(t=t.parent,ur(t,!1)),e.firstCreatePass&&(cu(e,t),lg(t)&&e.queries.elementEnd(t)),Kg}function Qg(t,e,n){return Wg(t,e,n),Kg(),Qg}var lD=(t,e,n,i)=>(Ai(!0),Xb(e[Ce],""));function oF(t,e,n,i){let r,s=e[ln],o=!s||Ts();if(Ai(o),o)return Xb(e[Ce],"");let a=bu(s,t,e,n),c=BN(s,i);return _u(s,i,a),r=Iu(c,a),r}function aF(){lD=oF}function It(){return ie()}var Zl="en-US";var cF=Zl;function lF(t){eO(t,"Expected localeId to be defined"),typeof t=="string"&&(cF=t.toLowerCase().replace(/_/g,"-"))}function pr(t){return!!t&&typeof t.then=="function"}function uD(t){return!!t&&typeof t.subscribe=="function"}function ne(t,e,n,i){let r=ie(),s=it(),o=Ot();return dF(s,r,r[Ce],o,t,e,i),ne}function uF(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Po],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function dF(t,e,n,i,r,s,o){let a=ou(i),l=t.firstCreatePass&&BI(t),u=e[lt],d=UI(e),h=!0;if(i.type&3||o){let v=Lt(i,e),w=o?o(v):v,D=d.length,q=o?me=>o(un(me[i.index])):i.index,se=null;if(!o&&a&&(se=uF(t,e,r,i.index)),se!==null){let me=se.__ngLastListenerFn__||se;me.__ngNextListenerFn__=s,se.__ngLastListenerFn__=s,h=!1}else{s=kE(i,e,u,s,!1);let me=n.listen(w,r,s);d.push(s,me),l&&l.push(r,q,D,D+1)}}else s=kE(i,e,u,s,!1);let f=i.outputs,m;if(h&&f!==null&&(m=f[r])){let v=m.length;if(v)for(let w=0;w<v;w+=2){let D=m[w],q=m[w+1],ke=e[D][q].subscribe(s),_e=d.length;d.push(s,ke),l&&l.push(r,i.index,_e,-(_e+1))}}}function PE(t,e,n,i){try{return vn(6,e,n),n(i)!==!1}catch(r){return jI(t,r),!1}finally{vn(7,e,n)}}function kE(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?Ci(t.index,e):e;Ug(a);let c=PE(e,n,i,o),l=s.__ngNextListenerFn__;for(;l;)c=PE(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Oe(t=1){return nx(t)}function hF(t,e){let n=null,i=yO(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?ZE(t,s,!0):EO(i,s))return r}return n}function Yg(t){let e=ie()[Mt][Vt];if(!e.projection){let n=t?t.length:1,i=e.projection=bx(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?hF(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Jg(t,e=0,n){let i=ie(),r=it(),s=Rs(r,ze+t,16,null,n||null);s.projection===null&&(s.projection=e),fg(),(!i[ln]||Ts())&&(s.flags&32)!==32&&mN(r,i,s)}function fF(){return this._results[Symbol.iterator]()}var Yp=class t{get changes(){return this._changes??=new ce}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=fF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=Ex(e);(this._changesDetected=!wx(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Dn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mF;let t=e;return t})(),pF=Dn,gF=class extends pF{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Du(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new ar(r)}};function mF(){return Su(Ot(),ie())}function Su(t,e){return t.type&4?new gF(e,t,As(t,e)):null}var Jp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Zp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)hD(e,n).matches!==null&&this.queries[n].setDirty()}},Xp=class{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}},eg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},tg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,_F(n,s)),this.matchTNodeWithReadOption(e,n,Sl(n,e,s,!1,!1))}else i===Dn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Sl(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Qe||r===Sn||r===Dn&&n.type&4)this.addMatch(n.index,-2);else{let s=Sl(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function _F(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function yF(t,e){return t.type&11?As(t,e):t.type&4?Su(t,e):null}function vF(t,e,n,i){return n===-1?yF(e,t):n===-2?wF(t,e,i):sr(t,t[B],n,e)}function wF(t,e,n){if(n===Qe)return As(e,t);if(n===Dn)return Su(e,t);if(n===Sn)return JI(e,t)}function dD(t,e,n,i){let r=e[En].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(vF(e,u,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function ng(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=dD(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=nt;d<u.length;d++){let h=u[d];h[Wo]===h[Ke]&&ng(h[B],h,l,i)}if(u[vs]!==null){let d=u[vs];for(let h=0;h<d.length;h++){let f=d[h];ng(f[B],f,l,i)}}}}}return i}function EF(t,e){return t[En].queries[e].queryList}function bF(t,e,n){let i=new Yp((n&4)===4);lP(t,e,i,i.destroy),e[En]===null&&(e[En]=new Zp),e[En].queries.push(new Jp(i))}function IF(t,e,n){t.queries===null&&(t.queries=new eg),t.queries.track(new tg(e,n))}function hD(t,e){return t.queries.getByIndex(e)}function fD(t,e,n){let i=it();i.firstCreatePass&&(IF(i,new Xp(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),bF(i,ie(),e)}function Zg(t){let e=ie(),n=it(),i=vb();pg(i+1);let r=hD(n,i);if(t.dirty&&FO(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=r.crossesNgTemplate?ng(n,e,i,[]):dD(n,e,r,i);t.reset(s,GN),t.notifyOnChanges()}return!0}return!1}function Xg(){return EF(ie(),vb())}function ta(t){let e=KO();return kO(e,ze+t)}function J(t,e=""){let n=ie(),i=it(),r=t+ze,s=i.firstCreatePass?Rs(i,r,1,e,null):i.data[r],o=pD(i,n,s,e,t);n[r]=o,au()&&pu(i,n,o,s),ur(s,!1)}var pD=(t,e,n,i,r)=>(Ai(!0),Zb(e[Ce],i));function DF(t,e,n,i,r){let s=e[ln],o=!s||Ts()||yu(s,r);return Ai(o),o?Zb(e[Ce],i):bu(s,t,e,n)}function TF(){pD=DF}function ni(t){return na("",t,""),ni}function na(t,e,n){let i=ie(),r=Ok(i,t,e,n);return r!==ei&&RP(i,Si(),r),na}function CF(t,e,n){let i=it();if(i.firstCreatePass){let r=bi(t);ig(n,i.data,i.blueprint,r,!0),ig(e,i.data,i.blueprint,r,!1)}}function ig(t,e,n,i,r){if(t=vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ig(t[s],e,n,i,r);else{let s=it(),o=ie(),a=Ot(),c=bs(t)?t:vt(t.provide),l=zb(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(bs(t)||!t.multi){let f=new rr(l,r,A),m=ip(c,e,r?u:u+h,d);m===-1?(fp(Fl(a,o),s,c),np(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[m]=f,o[m]=f)}else{let f=ip(c,e,u+h,d),m=ip(c,e,u,u+h),v=f>=0&&n[f],w=m>=0&&n[m];if(r&&!w||!r&&!v){fp(Fl(a,o),s,c);let D=RF(r?AF:SF,n.length,r,i,l);!r&&w&&(n[m].providerFactory=D),np(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=gD(n[r?m:f],l,!r&&i);np(s,t,f>-1?f:m,D)}!r&&i&&w&&n[m].componentProviders++}}}function np(t,e,n,i){let r=bs(e),s=kx(e);if(r||s){let c=(s?vt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function gD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ip(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function SF(t,e,n,i){return rg(this.multi,[])}function AF(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=sr(n,n[B],this.providerFactory.index,i);s=a.slice(0,o),rg(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],rg(r,s);return s}function rg(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function RF(t,e,n,i,r){let s=new rr(t,n,A);return s.multi=[],s.index=e,s.componentProviders=0,gD(s,r,i&&!n),s}function Os(t,e=[]){return n=>{n.providersResolver=(i,r)=>CF(i,r?r(t):t,e)}}var Di=class{},zo=class{};var Xl=class extends Di{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kl(this);let r=nb(e);this._bootstrapComponents=Kb(r.bootstrap),this._r3Injector=qb(e,n,[{provide:Di,useValue:this},{provide:vu,useValue:this.componentFactoryResolver},...i],Et(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eu=class extends zo{constructor(e){super(),this.moduleType=e}create(e){return new Xl(this.moduleType,e,[])}};function MF(t,e,n){return new Xl(t,e,n)}var sg=class extends Di{constructor(e){super(),this.componentFactoryResolver=new Kl(this),this.instance=null;let n=new Uo([...e.providers,{provide:Di,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],e.parent||du(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Au(t,e,n=null){return new sg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var OF=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=$b(!1,i.type),s=r.length>0?Au([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(N(ut))});let t=e;return t})();function gr(t){Oi("NgStandalone"),t.getStandaloneInjector=e=>e.get(OF).getOrCreateStandaloneInjector(t)}function em(t,e,n,i){return NF(ie(),QO(),t,e,n,i)}function xF(t,e){let n=t[e];return n===ei?void 0:n}function NF(t,e,n,i,r,s){let o=e+n;return xi(t,o,r)?Sk(t,o+1,s?i.call(s,r):i(r)):xF(t,o+1)}function Ru(t,e){return Su(t,e)}var Il=null;function PF(t){Il!==null&&(t.defaultEncapsulation!==Il.defaultEncapsulation||t.preserveWhitespaces!==Il.preserveWhitespaces)||(Il=t)}var Zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},mD=new Zn("17.1.1");var Mu=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),og=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ou=(()=>{let e=class e{compileModuleSync(i){return new eu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=nb(i),o=Kb(s.declarations).reduce((a,c)=>{let l=Kn(c);return l&&a.push(new cr(l)),a},[]);return new og(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kF=new R("compilerOptions");var ia=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new We(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tm=new R(""),ra=new R(""),xu=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,nm||(FF(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(N($),N(Nu),N(ra))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Nu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return nm?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function FF(t){nm=t}var nm,Pu=new R("Application Initializer"),_D=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=g(Pu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(pr(o))i.push(o);else if(uD(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xs=new R("appBootstrapListener");function VF(t,e,n){let i=new eu(n);return Promise.resolve(i)}function LF(){Aw(()=>{throw new O(600,!1)})}function UF(t){return t.isBoundToModule}function BF(t,e,n){try{let i=n();return pr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function yD(t,e){return Array.isArray(e)?e.reduce(yD,t):E(E({},t),e)}var Wt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(TI),this.afterRenderEffectManager=g(Hg),this.componentTypes=[],this.components=[],this.isStable=g(ia).hasPendingTasks.pipe(W(i=>!i)),this._injector=g(ut)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Gl;if(!this._injector.get(_D).done){let f=!s&&tb(i),m=!1;throw new O(405,m)}let a;s?a=i:a=this._injector.get(vu).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=UF(a)?void 0:this._injector.get(Di),l=r||a.selector,u=a.create(Ie.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(tm,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ml(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{try{let i=this.afterRenderEffectManager.execute()}catch(i){this.internalErrorHandler(i)}this._runningTick=!1}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Ml(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(xs,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Ml(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new O(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ml(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FE(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Dl;function im(t){Dl??=new WeakMap;let e=Dl.get(t);if(e)return e;let n=t.isStable.pipe(sn(i=>i)).toPromise().then(()=>{});return Dl.set(t,n),t.onDestroy(()=>Dl?.delete(t)),n}var jF=(()=>{let e=class e{constructor(){this.zone=g($),this.applicationRef=g(Wt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $F(t){return[{provide:$,useFactory:t},{provide:or,multi:!0,useFactory:()=>{let e=g(jF,{optional:!0});return()=>e.initialize()}},{provide:or,multi:!0,useFactory:()=>{let e=g(zF);return()=>{e.initialize()}}},{provide:TI,useFactory:HF}]}function HF(){let t=g($),e=g(In);return n=>t.runOutsideAngular(()=>e.handleError(n))}function GF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zF=(()=>{let e=class e{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=g($),this.pendingTasks=g(ia)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qF(){return typeof $localize<"u"&&$localize.locale||Zl}var ku=new R("LocaleId",{providedIn:"root",factory:()=>g(ku,Z.Optional|Z.SkipSelf)||qF()});var vD=new R("PlatformDestroyListeners"),wD=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=zP(r?.ngZone,GF({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=MF(i.moduleType,this.injector,$F(()=>s)),a=o.injector.get(In,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Ml(this._modules,o),c.unsubscribe()})}),BF(a,s,()=>{let c=o.injector.get(_D);return c.runInitializers(),c.donePromise.then(()=>{let l=o.injector.get(ku,Zl);return lF(l||Zl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=yD({},r);return VF(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(Wt);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new O(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(vD,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(N(Ie))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Oo=null,ED=new R("AllowMultipleToken");function WF(t){if(Oo&&!Oo.get(ED,!1))throw new O(400,!1);LF(),Oo=t;let e=t.get(wD);return YF(t),e}function rm(t,e,n=[]){let i=`Platform: ${e}`,r=new R(i);return(s=[])=>{let o=bD();if(!o||o.injector.get(ED,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):WF(KF(a,i))}return QF(r)}}function KF(t=[],e){return Ie.create({name:e,providers:[{provide:uu,useValue:"platform"},{provide:vD,useValue:new Set([()=>Oo=null])},...t]})}function QF(t){let e=bD();if(!e)throw new O(401,!1);return e}function bD(){return Oo?.get(wD)??null}function YF(t){t.get(bg,null)?.forEach(n=>n())}var ID=rm(null,"core",[]),DD=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(N(Wt))},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var VE=!1;function JF(){VE||(VE=!0,FN(),rF(),TF(),aF(),Mk(),Ck(),vk(),cP())}function ZF(t,e){return im(t)}function TD(){return Jo([{provide:wl,useFactory:()=>{let t=!0;return Ro()&&(t=!!g(dr,{optional:!0})?.get(_I,null)),t&&Oi("NgHydration"),t}},{provide:or,useValue:()=>{Ro()&&g(wl)&&(XF(),JF())},multi:!0},{provide:SI,useFactory:()=>Ro()&&g(wl)},{provide:xs,useFactory:()=>{if(Ro()&&g(wl)){let t=g(Wt),e=g(Ie);return()=>{ZF(t,e).then(()=>{$.assertInAngularZone(),dk(t)})}}return()=>{}},multi:!0}])}function XF(){let t=hu(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===PN){e=n;break}if(!e)throw new O(-507,!1)}function mr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _r(t,e){let n=Kn(t),i=e.elementInjector||du();return new cr(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function CD(t){let e=Kn(t);if(!e)return null;let n=new cr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var om=null;function An(){return om}function xD(t){om||(om=t)}var Fu=class{},Le=new R("DocumentToken"),dm=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>g(tV),providedIn:"platform"});let t=e;return t})(),ND=new R("Location Initialized"),tV=(()=>{let e=class e extends dm{constructor(){super(),this._doc=g(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(i){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function hm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function SD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function ii(t){return t&&t[0]!=="?"?"?"+t:t}var ri=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>g(fm),providedIn:"root"});let t=e;return t})(),PD=new R("appBaseHref"),fm=(()=>{let e=class e extends ri{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??g(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return hm(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ii(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ii(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ii(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(N(dm),N(PD,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kD=(()=>{let e=class e extends ri{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=hm(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ii(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ii(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(N(dm),N(PD,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Ns=(()=>{let e=class e{constructor(i){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=rV(SD(AD(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ii(r))}normalize(i){return e.stripTrailingSlash(iV(this._basePath,AD(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ii(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ii(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=ii,e.joinWithSlash=hm,e.stripTrailingSlash=SD,e.\u0275fac=function(r){return new(r||e)(N(ri))},e.\u0275prov=S({token:e,factory:()=>nV(),providedIn:"root"});let t=e;return t})();function nV(){return new Ns(N(ri))}function iV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function AD(t){return t.replace(/\/index.html$/,"")}function rV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function FD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var sm=/\s+/,RD=[],VD=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=RD,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(sm):RD}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(sm):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(sm).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(A(Qe),A(Ri))},e.\u0275dir=Ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Me.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var am=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},LD=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new am(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),MD(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);MD(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(A(Sn),A(Dn),A(xg))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function MD(t,e){t.context.$implicit=e.item}var UD=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new cm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){OD("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){OD("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(A(Sn),A(Dn))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),cm=class{constructor(){this.$implicit=null,this.ngIf=null}};function OD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}var pm=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(A(Sn))},e.\u0275dir=Ue({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[dn]});let t=e;return t})();var BD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})(),gm="browser",sV="server";function jD(t){return t===gm}function mm(t){return t===sV}var $D=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>jD(g(Ut))?new lm(g(Le),window):new um});let t=e;return t})(),lm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=oV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function oV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var um=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Vu=class{};var Uu=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var QD=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(QD||{}),ym=class{constructor(e,n=YD.Ok,i="OK"){this.headers=e.headers||new Uu,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Bu=class t extends ym{constructor(e={}){super(e),this.type=QD.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var YD=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(YD||{});var cV=new R("");var HD="b",GD="h",zD="s",qD="st",WD="u",KD="rt",Lu=new R(""),lV=["GET","HEAD"];function uV(t,e){let u=g(Lu),{isCacheActive:n}=u,i=Ew(u,["isCacheActive"]),{transferCache:r,method:s}=t;if(!n||s==="POST"&&!i.includePostRequests&&!r||s!=="POST"&&!lV.includes(s)||r===!1||i.filter?.(t)===!1)return e(t);let o=g(dr),a=hV(t),c=o.get(a,null),l=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(l=r.includeHeaders),c){let{[HD]:d,[KD]:h,[GD]:f,[zD]:m,[qD]:v,[WD]:w}=c,D=d;switch(h){case"arraybuffer":D=new TextEncoder().encode(d).buffer;break;case"blob":D=new Blob([d]);break}let q=new Uu(f);return x(new Bu({body:D,headers:q,status:m,statusText:v,url:w}))}return e(t).pipe(be(d=>{d instanceof Bu&&o.set(a,{[HD]:d.body,[GD]:dV(d.headers,l),[zD]:d.status,[qD]:d.statusText,[WD]:d.url||"",[KD]:t.responseType})}))}function dV(t,e){if(!e)return{};let n={};for(let i of e){let r=t.getAll(i);r!==null&&(n[i]=r)}return n}function hV(t){let{params:e,method:n,responseType:i,url:r}=t,s=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),o=n+"."+i+"."+r+"?"+s,a=fV(o);return a}function fV(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function JD(t){return[{provide:Lu,useFactory:()=>(Oi("NgHttpTransferCache"),E({isCacheActive:!0},t))},{provide:cV,useValue:uV,multi:!0,deps:[dr,Lu]},{provide:xs,multi:!0,useFactory:()=>{let e=g(Wt),n=g(Lu);return()=>{im(e).then(()=>{n.isCacheActive=!1})}}}]}var Em=class extends Fu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bm=class t extends Em{static makeCurrent(){xD(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pV();return n==null?null:gV(n)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FD(document.cookie,e)}},sa=null;function pV(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}function gV(t){return new URL(t,document.baseURI).pathname}var Im=class{addToWindow(e){bt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new O(5103,!1);return s},bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),bt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=bt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};bt.frameworkStabilizers||(bt.frameworkStabilizers=[]),bt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?An().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},mV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Dm=new R("EventManagerPlugins"),tT=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(N(Dm),N($))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),ju=class{constructor(e){this._doc=e}},vm="ng-app-id",nT=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mm(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${vm}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(vm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(vm,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(N(Le),N(Zo),N(Ig,8),N(Ut))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sm=/%COMP%/g,iT="%COMP%",_V=`_nghost-${iT}`,yV=`_ngcontent-${iT}`,vV=!0,wV=new R("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>vV});function EV(t){return yV.replace(Sm,t)}function bV(t){return _V.replace(Sm,t)}function rT(t,e){return e.map(n=>n.replace(Sm,t))}var ZD=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=mm(c),this.defaultRenderer=new oa(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bn.ShadowDom&&(r=oe(E({},r),{encapsulation:bn.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof $u?s.applyToHost(i):s instanceof aa&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case bn.Emulated:o=new $u(l,u,r,this.appId,d,a,c,h);break;case bn.ShadowDom:return new Tm(l,u,i,r,a,c,this.nonce,h);default:o=new aa(l,u,r,d,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(N(tT),N(nT),N(Zo),N(wV),N(Le),N(Ut),N($),N(Ig))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(XD(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(XD(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new O(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=wm[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=wm[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Jn.DashCase|Jn.Important)?e.style.setProperty(n,i,r&Jn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function XD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Tm=class extends oa{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=rT(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends oa{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?rT(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$u=class extends aa{constructor(e,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,n,i,s,o,a,c,l),this.contentAttr=EV(l),this.hostAttr=bV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},IV=(()=>{let e=class e extends ju{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(N(Le))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),eT=["alt","control","meta","shift"],DV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CV=(()=>{let e=class e extends ju{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),eT.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=DV[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),eT.forEach(a=>{if(a!==s){let c=TV[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(N(Le))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function SV(){bm.makeCurrent()}function AV(){return new In}function RV(){return Wb(document),document}var MV=[{provide:Ut,useValue:gm},{provide:bg,useValue:SV,multi:!0},{provide:Le,useFactory:RV,deps:[]}],sT=rm(ID,"browser",MV),OV=new R(""),xV=[{provide:ra,useClass:Im,deps:[]},{provide:tm,useClass:xu,deps:[$,Nu,ra]},{provide:xu,useClass:xu,deps:[$,Nu,ra]}],NV=[{provide:uu,useValue:"root"},{provide:In,useFactory:AV,deps:[]},{provide:Dm,useClass:IV,multi:!0,deps:[Le,$,Ut]},{provide:Dm,useClass:CV,multi:!0,deps:[Le]},ZD,nT,tT,{provide:jo,useExisting:ZD},{provide:Vu,useClass:mV,deps:[]},[]],oT=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Zo,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(N(OV,12))},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({providers:[...NV,...xV],imports:[BD,DD]});let t=e;return t})();function PV(){return new Am(N(Le))}var Am=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(N(Le))},e.\u0275prov=S({token:e,factory:function(r){let s=null;return r?s=new r:s=PV(),s},providedIn:"root"});let t=e;return t})();var Cm=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Cm||{});function aT(...t){let e=[],n=new Set,i=n.has(Cm.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:s}of t)n.add(s),r.length&&e.push(r);return Jo([[],TD(),n.has(Cm.NoHttpTransferCache)||i?[]:JD({}),e])}var mT=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(A(Ri),A(Qe))},e.\u0275dir=Ue({type:e});let t=e;return t})(),kV=(()=>{let e=class e extends mT{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Cs(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,features:[Cn]});let t=e;return t})(),Om=new R("NgValueAccessor");var FV={provide:Om,useExisting:Ti(()=>Ni),multi:!0};function VV(){let t=An()?An().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var LV=new R("CompositionEventMode"),Ni=(()=>{let e=class e extends mT{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!VV())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(A(Ri),A(Qe),A(LV,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ne("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Os([FV]),Cn]});let t=e;return t})();var xm=new R("NgValidators"),Nm=new R("NgAsyncValidators");function _T(t){return t!=null}function yT(t){return pr(t)?Ee(t):t}function vT(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function wT(t,e){return e.map(n=>n(t))}function UV(t){return!t.validate}function ET(t){return t.map(e=>UV(e)?e:n=>e.validate(n))}function BV(t){if(!t)return null;let e=t.filter(_T);return e.length==0?null:function(n){return vT(wT(n,e))}}function bT(t){return t!=null?BV(ET(t)):null}function jV(t){if(!t)return null;let e=t.filter(_T);return e.length==0?null:function(n){let i=wT(n,e).map(yT);return Pf(i).pipe(W(vT))}}function IT(t){return t!=null?jV(ET(t)):null}function lT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function DT(t){return t._rawValidators}function TT(t){return t._rawAsyncValidators}function Rm(t){return t?Array.isArray(t)?t:[t]:[]}function Gu(t,e){return Array.isArray(t)?t.includes(e):t===e}function uT(t,e){let n=Rm(e);return Rm(t).forEach(r=>{Gu(n,r)||n.push(r)}),n}function dT(t,e){return Rm(e).filter(n=>!Gu(t,n))}var zu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},yr=class extends zu{get formDirective(){return null}get path(){return null}},vr=class extends zu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},$V={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},a7=oe(E({},$V),{"[class.ng-submitted]":"isSubmitted"}),Fs=(()=>{let e=class e extends qu{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(A(vr,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&ti("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Cn]});let t=e;return t})(),Yu=(()=>{let e=class e extends qu{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(A(yr,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&ti("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Cn]});let t=e;return t})();var ca="VALID",Hu="INVALID",Ps="PENDING",la="DISABLED";function CT(t){return(Ju(t)?t.validators:t)||null}function HV(t){return Array.isArray(t)?bT(t):t||null}function ST(t,e){return(Ju(e)?e.asyncValidators:t)||null}function GV(t){return Array.isArray(t)?IT(t):t||null}function Ju(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function zV(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new O(1e3,"");if(!i[n])throw new O(1001,"")}function qV(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new O(1002,"")})}var Wu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ca}get invalid(){return this.status===Hu}get pending(){return this.status==Ps}get disabled(){return this.status===la}get enabled(){return this.status!==la}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dT(e,this._rawAsyncValidators))}hasValidator(e){return Gu(this._rawValidators,e)}hasAsyncValidator(e){return Gu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ps,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=la,this.errors=null,this._forEachChild(i=>{i.disable(oe(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ca,this._forEachChild(i=>{i.enable(oe(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ca||this.status===Ps)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?la:ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ps,this._hasOwnPendingAsyncValidator=!0;let n=yT(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?la:this.errors?Hu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ps)?Ps:this._anyControlsHaveStatus(Hu)?Hu:ca}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ju(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=GV(this._rawAsyncValidators)}},ks=class extends Wu{constructor(e,n,i){super(CT(n),ST(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){qV(this,!0,e),Object.keys(e).forEach(i=>{zV(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Zu=new R("CallSetDisabledState",{providedIn:"root",factory:()=>Xu}),Xu="always";function AT(t,e){return[...e.path,t]}function Mm(t,e,n=Xu){Pm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),KV(t,e),YV(t,e),QV(t,e),WV(t,e)}function hT(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Qu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ku(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function WV(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Pm(t,e){let n=DT(t);e.validator!==null?t.setValidators(lT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=TT(t);e.asyncValidator!==null?t.setAsyncValidators(lT(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Ku(e._rawValidators,r),Ku(e._rawAsyncValidators,r)}function Qu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=DT(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=TT(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Ku(e._rawValidators,i),Ku(e._rawAsyncValidators,i),n}function KV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&RT(t,e)})}function QV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&RT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function RT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YV(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function JV(t,e){t==null,Pm(t,e)}function ZV(t,e){return Qu(t,e)}function MT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function XV(t){return Object.getPrototypeOf(t.constructor)===kV}function eL(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function OT(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Ni?n=s:XV(s)?i=s:r=s}),r||i||n||null}function tL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function fT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hn=class extends Wu{constructor(e=null,n,i){super(CT(n),ST(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ju(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nL=t=>t instanceof hn;var iL={provide:vr,useExisting:Ti(()=>km)},gT=Promise.resolve(),km=(()=>{let e=class e extends vr{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new hn,this._registered=!1,this.name="",this.update=new ce,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=OT(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),MT(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Mm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){gT.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&mr(r);gT.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?AT(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(A(yr,9),A(xm,10),A(Nm,10),A(Om,10),A(Mi,8),A(Zu,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Me.None,"disabled","isDisabled"],model:[Me.None,"ngModel","model"],options:[Me.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Os([iL]),Cn,dn]});let t=e;return t})(),ed=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var rL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var xT=new R("NgModelWithFormControlWarning");var sL={provide:yr,useExisting:Ti(()=>ua)},ua=(()=>{let e=class e extends yr{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ce,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Mm(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){hT(i.control||null,i,!1),tL(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,eL(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(hT(r||null,i),nL(s)&&(Mm(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);JV(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&ZV(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pm(this.form,this),this._oldForm&&Qu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(A(xm,10),A(Nm,10),A(Zu,8))},e.\u0275dir=Ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&ne("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Me.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Os([sL]),Cn,dn]});let t=e;return t})();var oL={provide:vr,useExisting:Ti(()=>da)},da=(()=>{let e=class e extends vr{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ce,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=OT(this,o)}ngOnChanges(i){this._added||this._setUpControl(),MT(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return AT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(A(yr,13),A(xm,10),A(Nm,10),A(Om,10),A(xT,8))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""]],inputs:{name:[Me.None,"formControlName","name"],isDisabled:[Me.None,"disabled","isDisabled"],model:[Me.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Os([oL]),Cn,dn]});let t=e;return t})();var NT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[rL]});let t=e;return t})();var PT=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Zu,useValue:i.callSetDisabledState??Xu}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[NT]});let t=e;return t})(),kT=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:xT,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Zu,useValue:i.callSetDisabledState??Xu}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[NT]});let t=e;return t})();var FT=["*"];var cL=["dialog"];var VT={animation:!0,transitionTimerDelayMs:5},Bm=(()=>{let e=class e{constructor(){this.animation=VT.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lL(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function jm(t){return typeof t=="string"}function Vs(t){return t!=null}function LT(t){return t&&t.then}function ha(t){return(t||document.body).getBoundingClientRect()}function uL(t){return e=>new V(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var dL=()=>{},{transitionTimerDelayMs:hL}=VT,td=new Map,Kt=(t,e,n,i)=>{let r=i.context||{},s=td.get(e);if(s)switch(i.runningTransition){case"continue":return at;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),td.delete(e)}let o=n(e,i.animation,r)||dL;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),x(void 0).pipe(uL(t));let a=new ae,c=new ae,l=a.pipe(Lf(!0));td.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let u=lL(e);return t.runOutsideAngular(()=>{let d=Pt(e,"transitionend").pipe(Ge(l),He(({target:f})=>f===e)),h=kf(u+hL).pipe(Ge(l));Ff(h,d,c).pipe(Ge(l)).subscribe(()=>{td.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};function fL(t,e){if(typeof navigator>"u")return"0px";let{classList:n}=t,i=n.contains("show");i||n.add("show"),t.style[e]="";let r=t.getBoundingClientRect()[e]+"px";return i||n.remove("show"),r}var pL=(t,e,n)=>{let{direction:i,maxSize:r,dimension:s}=n,{classList:o}=t;function a(){o.add("collapse"),i==="show"?o.add("show"):o.remove("show")}if(!e){a();return}return r||(r=fL(t,s),n.maxSize=r,t.style[s]=i!=="show"?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),ha(t),o.add("collapsing")),t.style[s]=i==="show"?r:"0px",()=>{a(),o.remove("collapsing"),t.style[s]=""}},gL=(()=>{let e=class e{constructor(){this._ngbConfig=g(Bm),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UT=(()=>{let e=class e{constructor(){this._config=g(gL),this._element=g(Qe),this._zone=g($),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ce,this.horizontal=this._config.horizontal,this.shown=new ce,this.hidden=new ce}set collapsed(i){this._isCollapsed!==i&&(this._isCollapsed=i,this._afterInit&&this._runTransitionWithEvents(i,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(i=this._isCollapsed){this.collapsed=!i,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(i,r){return Kt(this._zone,this._element.nativeElement,pL,{animation:r,runningTransition:"stop",context:{direction:i?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(i,r){this._runTransition(i,r).subscribe(()=>{i?this.hidden.emit():this.shown.emit()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(r,s){r&2&&ti("collapse-horizontal",s.horizontal)},inputs:{animation:"animation",collapsed:[Me.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0});let t=e;return t})();var BT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var jT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var $T=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})(),HT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var rd=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(rd||{});var J7=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var mL=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $m(t){let e=Array.from(t.querySelectorAll(mL)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var GT=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=Pt(e,"focusin").pipe(Ge(n),W(s=>s.target));Pt(e,"keydown").pipe(Ge(n),He(s=>s.which===rd.Tab),_l(r)).subscribe(([s,o])=>{let[a,c]=$m(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Pt(e,"click").pipe(Ge(n),_l(r),W(s=>s[1])).subscribe(s=>s.focus())})};var Z7=new Date(1882,10,12),X7=new Date(2174,10,25);var eK=1e3*60*60*24;var Hm=1080,_L=24*Hm,yL=12*Hm+793,tK=29*_L+yL,nK=11*Hm+204;var zT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var qT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})(),Gm=(()=>{let e=class e{constructor(){this._ngbConfig=g(Bm),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rn=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var WT=(()=>{let e=class e{constructor(){this._document=g(Le)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let c=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${c+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vL=(()=>{let e=class e{constructor(){this._nativeElement=g(Qe).nativeElement,this._zone=g($)}ngOnInit(){this._zone.onStable.asObservable().pipe(ct(1)).subscribe(()=>{Kt(this._zone,this._nativeElement,(i,r)=>{r&&ha(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Kt(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(Ms("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),ti("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[gr],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),nd=class{update(e){}close(e){}dismiss(e){}},wL=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],EL=["animation","backdropClass"],Vm=class{_applyWindowOptions(e,n){wL.forEach(i=>{Vs(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){EL.forEach(i=>{Vs(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ge(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ge(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ae,this._dismissed=new ae,this._hidden=new ae,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();LT(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():x(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ls(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Lm=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(Lm||{}),bL=(()=>{let e=class e{constructor(){this._document=g(Le),this._elRef=g(Qe),this._zone=g($),this._closed$=new ae,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ce,this.shown=new ae,this.hidden=new ae}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":jm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ct(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=Kt(this._zone,i,()=>i.classList.remove("show"),r),o=Kt(this._zone,this._dialogEl.nativeElement,()=>{},r),a=ls(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=Kt(this._zone,this._elRef.nativeElement,(o,a)=>{a&&ha(o),o.classList.add("show")},i),s=Kt(this._zone,this._dialogEl.nativeElement,()=>{},i);ls(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Pt(i,"keydown").pipe(Ge(this._closed$),He(s=>s.which===rd.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Lm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;Pt(this._dialogEl.nativeElement,"mousedown").pipe(Ge(this._closed$),be(()=>r=!1),yt(()=>Pt(i,"mouseup").pipe(Ge(this._closed$),ct(1))),He(({target:s})=>i===s)).subscribe(()=>{r=!0}),Pt(i,"click").pipe(Ge(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(Lm.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=$m(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Kt(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&fD(cL,7),r&2){let o;Zg(o=Xg())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(hr("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Ms("modal d-block"+(s.windowClass?" "+s.windowClass:"")),ti("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[gr],ngContentSelectors:FT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,s){r&1&&(Yg(),M(0,"div",0,1)(2,"div",2),Jg(3),C()()),r&2&&Ms("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),IL=(()=>{let e=class e{constructor(){this._applicationRef=g(Wt),this._injector=g(Ie),this._environmentInjector=g(ut),this._document=g(Le),this._scrollBar=g(WT),this._activeWindowCmptHasChanged=new ae,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ce;let i=g($);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];GT(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:Vs(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new nd;i=s.injector||i;let c=i.get(ut,null)||this._environmentInjector,l=this._getContentRef(i,c,r,a,s),u=s.backdrop!==!1?this._attachBackdrop(o):void 0,d=this._attachWindowComponent(o,l.nodes),h=new Vm(d,l,u,s.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe(ct(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=_r(vL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=_r(bL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof Dn?this._createFromTemplateRef(s,o):jm(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new Rn([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new Rn([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new Rn([[r]])}_createFromComponent(i,r,s,o,a){let c=Ie.create({providers:[{provide:nd,useValue:o}],parent:i}),l=_r(s,{environmentInjector:r,elementInjector:c}),u=l.location.nativeElement;return a.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Rn([[u]],l.hostView,l)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zm=(()=>{let e=class e{constructor(){this._injector=g(Ie),this._modalStack=g(IL),this._config=g(Gm)}open(i,r={}){let s=E(oe(E({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({providers:[zm]});let t=e;return t})();var QT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var YT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var JT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var ZT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var XT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var eC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var tC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var nC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var iC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();var iK=new R("live announcer delay",{providedIn:"root",factory:()=>100});var rC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})(),DL=(()=>{let e=class e{constructor(){this._ngbConfig=g(Bm),this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),id=class{close(e){}dismiss(e){}},Um=class{get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ge(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ge(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._panelCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ae,this._dismissed=new ae,this._hidden=new ae,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),i&&i.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._panelCmptRef&&(this._closed.next(e),this._resolve(e),this._removeOffcanvasElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeOffcanvasElements()}dismiss(e){if(this._panelCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();LT(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeOffcanvasElements(){let e=this._panelCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():x(void 0);e.subscribe(()=>{let{nativeElement:i}=this._panelCmptRef.location;i.parentNode.removeChild(i),this._panelCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._panelCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ls(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},qm=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(qm||{}),TL=(()=>{let e=class e{constructor(){this._nativeElement=g(Qe).nativeElement,this._zone=g($),this.dismissEvent=new ce}ngOnInit(){this._zone.onStable.asObservable().pipe(ct(1)).subscribe(()=>{Kt(this._zone,this._nativeElement,(i,r)=>{r&&ha(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Kt(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(qm.BACKDROP_CLICK)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(r,s){r&1&&ne("mousedown",function(){return s.dismiss()}),r&2&&(Ms("offcanvas-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),ti("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[gr],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),CL=(()=>{let e=class e{constructor(){this._document=g(Le),this._elRef=g(Qe),this._zone=g($),this._closed$=new ae,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new ce,this.shown=new ae,this.hidden=new ae}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ct(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let i={animation:this.animation,runningTransition:"stop"},r=Kt(this._zone,this._elRef.nativeElement,s=>(s.classList.remove("showing"),s.classList.add("hiding"),()=>s.classList.remove("show","hiding")),i);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let i={animation:this.animation,runningTransition:"continue"};Kt(this._zone,this._elRef.nativeElement,(s,o)=>(o&&ha(s),s.classList.add("show","showing"),()=>s.classList.remove("showing")),i).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Pt(i,"keydown").pipe(Ge(this._closed$),He(r=>r.which===rd.Escape)).subscribe(r=>{this.keyboard&&requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(qm.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=$m(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(r,s){r&2&&(hr("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Ms("offcanvas offcanvas-"+s.position+(s.panelClass?" "+s.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[gr],ngContentSelectors:FT,decls:1,vars:0,template:function(r,s){r&1&&(Yg(),Jg(0))},encapsulation:2});let t=e;return t})(),SL=(()=>{let e=class e{constructor(){this._applicationRef=g(Wt),this._injector=g(Ie),this._document=g(Le),this._scrollBar=g(WT),this._activePanelCmptHasChanged=new ae,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new ce;let i=g($);this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&GT(i,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:Vs(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified offcanvas container "${s.container||"body"}" was not found in the DOM.`);s.scroll||this._hideScrollBar();let a=new id,c=this._getContentRef(s.injector||i,r,a),l=s.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,c.nodes),d=new Um(u,c,l,s.beforeDismiss);return this._registerOffcanvasRef(d),this._registerPanelCmpt(u),d.hidden.pipe(vi(()=>this._restoreScrollBar())).subscribe(),a.close=h=>{d.close(h)},a.dismiss=h=>{d.dismiss(h)},this._applyPanelOptions(u.instance,s),l&&l.instance&&(this._applyBackdropOptions(l.instance,s),l.changeDetectorRef.detectChanges()),u.changeDetectorRef.detectChanges(),d}get activeInstance(){return this._activeInstance}dismiss(i){this._offcanvasRef?.dismiss(i)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(i){let r=_r(TL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=_r(CL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyPanelOptions(i,r){this._panelAttributes.forEach(s=>{Vs(r[s])&&(i[s]=r[s])})}_applyBackdropOptions(i,r){this._backdropAttributes.forEach(s=>{Vs(r[s])&&(i[s]=r[s])}),i.static=r.backdrop==="static"}_getContentRef(i,r,s){return r?r instanceof Dn?this._createFromTemplateRef(r,s):jm(r)?this._createFromString(r):this._createFromComponent(i,r,s):new Rn([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new Rn([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new Rn([[r]])}_createFromComponent(i,r,s){let o=Ie.create({providers:[{provide:id,useValue:s}],parent:i}),a=_r(r,{environmentInjector:this._applicationRef.injector,elementInjector:o}),c=a.location.nativeElement;return this._applicationRef.attachView(a.hostView),new Rn([[c]],a.hostView,a)}_registerOffcanvasRef(i){let r=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=i,this._activeInstance.emit(this._offcanvasRef),i.result.then(r,r)}_registerPanelCmpt(i){this._panelCmpt=i,this._activePanelCmptHasChanged.next(),i.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sC=(()=>{let e=class e{constructor(){this._injector=g(Ie),this._offcanvasStack=g(SL),this._config=g(DL)}open(i,r={}){let s=E(oe(E({},this._config),{animation:this._config.animation}),r);return this._offcanvasStack.open(this._injector,i,s)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(i){this._offcanvasStack.dismiss(i)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})(),AL=[BT,jT,$T,HT,zT,qT,KT,QT,oC,YT,JT,ZT,XT,eC,tC,nC,iC,rC],aC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[AL,BT,jT,$T,HT,zT,qT,KT,QT,oC,YT,JT,ZT,XT,eC,tC,nC,iC,rC]});let t=e;return t})();var lC=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ML=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ML(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||d==null)throw new Km;let h=s<<2|a>>4;if(i.push(h),l!==64){let f=a<<4&240|l>>2;if(i.push(f),d!==64){let m=l<<6&192|d;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Km=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},OL=function(t){let e=lC(t);return uC.encodeByteArray(e,!0)},fa=function(t){return OL(t).replace(/\./g,"")},Ym=function(t){try{return uC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var NL=()=>xL().__FIREBASE_DEFAULTS__,PL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ym(t[1]);return e&&JSON.parse(e)},od=()=>{try{return NL()||PL()||kL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dC=t=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hC=t=>{let e=dC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Jm=()=>{var t;return(t=od())===null||t===void 0?void 0:t.config},fC=t=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${t}`]};var sd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function pC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function FL(){var t;let e=(t=od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){return!FL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ad(){try{return typeof indexedDB=="object"}catch{return!1}}function vC(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var VL="FirebaseError",Qt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=VL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}},si=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?LL(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Qt(r,a,i)}};function LL(t,e){return t.replace(UL,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var UL=/\{\$([^}]+)}/g;function Ls(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(cC(s)&&cC(o)){if(!Ls(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function cC(t){return t!==null&&typeof t=="object"}function Zm(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wC(t,e){let n=new Qm(t,e);return n.subscribe.bind(n)}var Qm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BL(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Wm),r.error===void 0&&(r.error=Wm),r.complete===void 0&&(r.complete=Wm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wm(){}var sK=4*60*60*1e3;function ht(t){return t&&t._delegate?t._delegate:t}var Yt=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wr="[DEFAULT]";var Xm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new sd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($L(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wr){return this.instances.has(e)}getOptions(e=wr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wr){return this.component?this.component.multipleInstances?e:wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jL(t){return t===wr?void 0:t}function $L(t){return t.instantiationMode==="EAGER"}var cd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Xm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var HL=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),GL={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},zL=ee.INFO,qL={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},WL=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=qL[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pi=class{constructor(e){this.name=e,this._logLevel=zL,this._logHandler=WL,this._userLogHandler=null,HL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var KL=(t,e)=>e.some(n=>t instanceof n),EC,bC;function QL(){return EC||(EC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YL(){return bC||(bC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IC=new WeakMap,t_=new WeakMap,DC=new WeakMap,e_=new WeakMap,i_=new WeakMap;function JL(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mn(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),i_.set(e,t),e}function ZL(t){if(t_.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});t_.set(t,e)}var n_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TC(t){n_=t(n_)}function XL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(ld(this),e,...n);return DC.set(i,e.sort?e.sort():[e]),Mn(i)}:YL().includes(t)?function(...e){return t.apply(ld(this),e),Mn(IC.get(this))}:function(...e){return Mn(t.apply(ld(this),e))}}function e2(t){return typeof t=="function"?XL(t):(t instanceof IDBTransaction&&ZL(t),KL(t,QL())?new Proxy(t,n_):t)}function Mn(t){if(t instanceof IDBRequest)return JL(t);if(e_.has(t))return e_.get(t);let e=e2(t);return e!==t&&(e_.set(t,e),i_.set(e,t)),e}var ld=t=>i_.get(t);function SC(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Mn(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Mn(o.result),c.oldVersion,c.newVersion,Mn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var t2=["get","getKey","getAll","getAllKeys","count"],n2=["put","add","delete","clear"],r_=new Map;function CC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(r_.get(e))return r_.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=n2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||t2.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return r_.set(e,s),s}TC(t=>oe(E({},t),{get:(e,n,i)=>CC(e,n)||t.get(e,n,i),has:(e,n)=>!!CC(e,n)||t.has(e,n)}));var o_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i2(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function i2(t){let e=t.getComponent();return e?.type==="VERSION"}var a_="@firebase/app",AC="0.9.26";var Er=new Pi("@firebase/app"),r2="@firebase/app-compat",s2="@firebase/analytics-compat",o2="@firebase/analytics",a2="@firebase/app-check-compat",c2="@firebase/app-check",l2="@firebase/auth",u2="@firebase/auth-compat",d2="@firebase/database",h2="@firebase/database-compat",f2="@firebase/functions",p2="@firebase/functions-compat",g2="@firebase/installations",m2="@firebase/installations-compat",_2="@firebase/messaging",y2="@firebase/messaging-compat",v2="@firebase/performance",w2="@firebase/performance-compat",E2="@firebase/remote-config",b2="@firebase/remote-config-compat",I2="@firebase/storage",D2="@firebase/storage-compat",T2="@firebase/firestore",C2="@firebase/firestore-compat",S2="firebase",A2="10.7.2";var c_="[DEFAULT]",R2={[a_]:"fire-core",[r2]:"fire-core-compat",[o2]:"fire-analytics",[s2]:"fire-analytics-compat",[c2]:"fire-app-check",[a2]:"fire-app-check-compat",[l2]:"fire-auth",[u2]:"fire-auth-compat",[d2]:"fire-rtdb",[h2]:"fire-rtdb-compat",[f2]:"fire-fn",[p2]:"fire-fn-compat",[g2]:"fire-iid",[m2]:"fire-iid-compat",[_2]:"fire-fcm",[y2]:"fire-fcm-compat",[v2]:"fire-perf",[w2]:"fire-perf-compat",[E2]:"fire-rc",[b2]:"fire-rc-compat",[I2]:"fire-gcs",[D2]:"fire-gcs-compat",[T2]:"fire-fst",[C2]:"fire-fst-compat","fire-js":"fire-js",[S2]:"fire-js-all"};var pa=new Map,l_=new Map;function M2(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){let e=t.name;if(l_.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;l_.set(e,t);for(let n of pa.values())M2(n,t);return!0}function f_(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ki=new si("app","Firebase",O2);var u_=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}};var Us=A2;function p_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:c_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ki.create("bad-app-name",{appName:String(r)});if(n||(n=Jm()),!n)throw ki.create("no-options");let s=pa.get(r);if(s){if(Ls(n,s.options)&&Ls(i,s.config))return s;throw ki.create("duplicate-app",{appName:r})}let o=new cd(r);for(let c of l_.values())o.addComponent(c);let a=new u_(n,i,o);return pa.set(r,a),a}function ma(t=c_){let e=pa.get(t);if(!e&&t===c_&&Jm())return p_();if(!e)throw ki.create("no-app",{appName:t});return e}function ud(){return Array.from(pa.values())}function Ye(t,e,n){var i;let r=(i=R2[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}Fi(new Yt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var x2="firebase-heartbeat-database",N2=1,ga="firebase-heartbeat-store",s_=null;function xC(){return s_||(s_=SC(x2,N2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),s_}function P2(t){return p(this,null,function*(){try{return yield(yield xC()).transaction(ga).objectStore(ga).get(NC(t))}catch(e){if(e instanceof Qt)Er.warn(e.message);else{let n=ki.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}})}function RC(t,e){return p(this,null,function*(){try{let i=(yield xC()).transaction(ga,"readwrite");yield i.objectStore(ga).put(e,NC(t)),yield i.done}catch(n){if(n instanceof Qt)Er.warn(n.message);else{let i=ki.create("idb-set",{originalErrorMessage:n?.message});Er.warn(i.message)}}})}function NC(t){return`${t.name}!${t.options.appId}`}var k2=1024,F2=30*24*60*60*1e3,d_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new h_(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=MC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=F2}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=MC(),{heartbeatsToSend:i,unsentEntries:r}=V2(this._heartbeatsCache.heartbeats),s=fa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function MC(){return new Date().toISOString().substring(0,10)}function V2(t,e=k2){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),OC(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),OC(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var h_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return ad()?vC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield P2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return RC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return RC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function OC(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}function L2(t){Fi(new Yt("platform-logger",e=>new o_(e),"PRIVATE")),Fi(new Yt("heartbeat",e=>new d_(e),"PRIVATE")),Ye(a_,AC,t),Ye(a_,AC,"esm2017"),Ye("fire-js","")}L2("");var U2="firebase",B2="10.7.2";Ye(U2,B2,"app");var js=new Zn("ANGULARFIRE2_VERSION");function m_(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ya=(t,e)=>{let n=e?[e]:ud(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},_a=class{constructor(){return ya(j2)}},j2="app-check";function Bs(){}var dd=class{zone;delegate;constructor(e,n=Of){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},g_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),n.pipe(be({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},va=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dd(Zone.current)),this.insideAngular=n.run(()=>new dd(Zone.current,Zc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(N($))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $2(t){return hd().ngZone.runOutsideAngular(()=>t())}function br(t){return hd().ngZone.run(()=>t())}function H2(t){return G2(hd())(t)}function G2(t){return function(n){return n=n.lift(new g_(t.ngZone)),n.pipe(pi(t.outsideAngular),fi(t.insideAngular))}}var z2=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),br(()=>t.apply(void 0,i))},Dt=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs))),i[s]=z2(i[s],n));let r=$2(()=>t.apply(this,i));if(!e)if(r instanceof V){let s=hd();return r.pipe(pi(s.outsideAngular),fi(s.insideAngular))}else return br(()=>r);return r instanceof V?r.pipe(H2):r instanceof Promise?br(()=>new Promise((s,o)=>r.then(a=>br(()=>s(a)),a=>br(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:br(()=>r)};var Ir=class{constructor(e){return e}},wa=class{constructor(){return ud()}};function q2(t){return t&&t.length===1?t[0]:new Ir(ma())}var __=new R("angularfire2._apps"),W2={provide:Ir,useFactory:q2,deps:[[new qt,__]]},K2={provide:wa,deps:[[new qt,__]]};function Q2(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ir(i)}}var Y2=(()=>{class t{constructor(n){Ye("angularfire",js.full,"core"),Ye("angularfire",js.full,"app"),Ye("angular",mD.full,n.toString())}static \u0275fac=function(i){return new(i||t)(N(Ut))};static \u0275mod=Y({type:t});static \u0275inj=Q({providers:[W2,K2]})}return t})();function PC(t,...e){return{ngModule:Y2,providers:[{provide:__,useFactory:Q2(t),multi:!0,deps:[$,Ie,va,...e]}]}}var kC=Dt(p_,!0);function $C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HC=$C,GC=new si("auth","Firebase",$C());var gd=new Pi("@firebase/auth");function Z2(t,...e){gd.logLevel<=ee.WARN&&gd.warn(`Auth (${Us}): ${t}`,...e)}function pd(t,...e){gd.logLevel<=ee.ERROR&&gd.error(`Auth (${Us}): ${t}`,...e)}function FC(t,...e){throw A_(t,...e)}function zC(t,...e){return A_(t,...e)}function X2(t,e,n){let i=Object.assign(Object.assign({},HC()),{[e]:n});return new si("auth","Firebase",i).create(e,{appName:t.name})}function A_(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return GC.create(t,...e)}function pe(t,e,...n){if(!t)throw A_(e,...n)}function Ea(t){let e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function md(t,e){t||Ea(e)}function eU(){return VC()==="http:"||VC()==="https:"}function VC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||mC()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Tr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,md(n>e,"Short delay should be less than long delay!"),this.isMobile=gC()||_C()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function iU(t,e){md(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _d=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sU=new Tr(3e4,6e4);function qC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dd(s,o,a,c){return p(this,arguments,function*(t,e,n,i,r={}){return WC(t,r,()=>p(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let d=Zm(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),_d.fetch()(KC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function WC(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},rU),e);try{let r=new w_(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw fd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw fd(t,"user-disabled",o);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw X2(t,u,l);FC(t,u)}}catch(r){if(r instanceof Qt)throw r;FC(t,"network-request-failed",{message:String(r)})}})}function KC(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?iU(t.config,r):`${t.config.apiScheme}://${r}`}var w_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(zC(this.auth,"network-request-failed")),sU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fd(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=zC(t,e,i);return r.customData._tokenResponse=n,r}function oU(t,e){return p(this,null,function*(){return Dd(t,"POST","/v1/accounts:delete",e)})}function aU(t,e){return p(this,null,function*(){return Dd(t,"POST","/v1/accounts:lookup",e)})}function ba(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function R_(t,e=!1){return p(this,null,function*(){let n=ht(t),i=yield n.getIdToken(e),r=QC(i);pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:ba(y_(r.auth_time)),issuedAtTime:ba(y_(r.iat)),expirationTime:ba(y_(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function y_(t){return Number(t)*1e3}function QC(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ym(n);return r?JSON.parse(r):(pd("Failed to decode base64 JWT payload"),null)}catch(r){return pd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function cU(t){let e=QC(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function E_(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Qt&&lU(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function lU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var b_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var yd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vd(t){return p(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield E_(t,aU(n,{idToken:i}));pe(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dU(s.providerUserInfo):[],a=uU(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yd(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function M_(t){return p(this,null,function*(){let e=ht(t);yield vd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function uU(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dU(t){return t.map(e=>{var{providerId:n}=e,i=xf(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function hU(t,e){return p(this,null,function*(){let n=yield WC(t,{},()=>p(this,null,function*(){let i=Zm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=KC(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_d.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function fU(t,e){return p(this,null,function*(){return Dd(t,"POST","/v2/accounts:revokeToken",qC(t,e))})}var wd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return pe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield hU(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(pe(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(pe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ea("not implemented")}};function Vi(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ed=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yd(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield E_(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return R_(this,e)}reload(){return M_(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield vd(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield E_(this,oU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:se,emailVerified:me,isAnonymous:ke,providerData:_e,stsTokenManager:Nt}=n;pe(se&&Nt,e,"internal-error");let ui=wd.fromJSON(this.name,Nt);pe(typeof se=="string",e,"internal-error"),Vi(d,e.name),Vi(h,e.name),pe(typeof me=="boolean",e,"internal-error"),pe(typeof ke=="boolean",e,"internal-error"),Vi(f,e.name),Vi(m,e.name),Vi(v,e.name),Vi(w,e.name),Vi(D,e.name),Vi(q,e.name);let Qi=new t({uid:se,auth:e,email:h,emailVerified:me,displayName:d,isAnonymous:ke,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:ui,createdAt:D,lastLoginAt:q});return _e&&Array.isArray(_e)&&(Qi.providerData=_e.map(Hc=>Object.assign({},Hc))),w&&(Qi._redirectEventId=w),Qi}static _fromIdTokenResponse(e,n,i=!1){return p(this,null,function*(){let r=new wd;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield vd(s),s})}};var LC=new Map;function Dr(t){md(t instanceof Function,"Expected a class definition");let e=LC.get(t);return e?(md(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LC.set(t,e),e)}var pU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,i){return p(this,null,function*(){this.storage[n]=i})}_get(n){return p(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),I_=pU;function v_(t,e,n){return`firebase:${t}:${e}:${n}`}var bd=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=v_(this.userKey,r.apiKey,s),this.fullPersistenceKey=v_("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ed._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return p(this,null,function*(){if(!n.length)return new t(Dr(I_),e,i);let r=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||Dr(I_),o=v_(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=Ed._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function UC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wU(e))return"Blackberry";if(EU(e))return"Webos";if(mU(e))return"Safari";if((e.includes("chrome/")||_U(e))&&!e.includes("edge/"))return"Chrome";if(vU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function gU(t=dt()){return/firefox\//i.test(t)}function mU(t=dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _U(t=dt()){return/crios\//i.test(t)}function yU(t=dt()){return/iemobile/i.test(t)}function vU(t=dt()){return/android/i.test(t)}function wU(t=dt()){return/blackberry/i.test(t)}function EU(t=dt()){return/webos/i.test(t)}function YC(t,e=[]){let n;switch(t){case"Browser":n=UC(dt());break;case"Worker":n=`${UC(dt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${i}`}var D_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function bU(n){return p(this,arguments,function*(t,e={}){return Dd(t,"GET","/v2/passwordPolicy",qC(t,e))})}var IU=6,T_=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var C_=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Id(this),this.idTokenSubscription=new Id(this),this.beforeStateQueue=new D_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield bd.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nU()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?ht(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield bU(this),n=new T_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new si("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield fU(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Dr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=yield bd.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Z2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function DU(t){return ht(t)}var Id=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function TU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function CU(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}var XK=TU("rcb"),eQ=new Tr(3e4,6e4);var tQ=new Tr(2e3,1e4);var nQ=10*60*1e3;var iQ=new Tr(3e4,6e4);var rQ=new Tr(5e3,15e3);var sQ=encodeURIComponent("fac");var BC="@firebase/auth",jC="1.5.1";var S_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function AU(t){Fi(new Yt("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(t)},l=new C_(i,r,s,c);return CU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fi(new Yt("auth-internal",e=>{let n=DU(e.getProvider("auth").getImmediate());return(i=>new S_(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(BC,jC,SU(t)),Ye(BC,jC,"esm2017")}var RU=5*60,oQ=fC("authIdTokenMaxAge")||RU;AU("Browser");var AB="auth";var Td=class{constructor(){return ya(AB)}};var RB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pn={},b,Z_=Z_||{},U=RB||self;function Ud(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MB(t){return Object.prototype.hasOwnProperty.call(t,O_)&&t[O_]||(t[O_]=++OB)}var O_="closure_uid_"+(1e9*Math.random()>>>0),OB=0;function xB(t,e,n){return t.call.apply(t.bind,arguments)}function NB(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ft=xB:ft=NB,ft.apply(null,arguments)}function Cd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Li(){this.s=this.s,this.o=this.o}var PB=0;Li.prototype.s=!1;Li.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PB!=0)&&MB(this)};Li.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var l1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function X_(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function JC(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(Ud(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var kB=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};U.addEventListener("test",n,e),U.removeEventListener("test",n,e)}catch{}return t}();function Aa(t){return/^[\s\xa0]*$/.test(t)}function Bd(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function On(t){return Bd().indexOf(t)!=-1}function ey(t){return ey[" "](t),t}ey[" "]=function(){};function FB(t,e){var n=Dj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var VB=On("Opera"),zs=On("Trident")||On("MSIE"),u1=On("Edge"),F_=u1||zs,d1=On("Gecko")&&!(Bd().toLowerCase().indexOf("webkit")!=-1&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),LB=Bd().toLowerCase().indexOf("webkit")!=-1&&!On("Edge");function h1(){var t=U.document;return t?t.documentMode:void 0}var V_;e:{if(Sd="",Ad=function(){var t=Bd();if(d1)return/rv:([^\);]+)(\)|;)/.exec(t);if(u1)return/Edge\/([\d\.]+)/.exec(t);if(zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LB)return/WebKit\/(\S+)/.exec(t);if(VB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ad&&(Sd=Ad?Ad[1]:""),zs&&(Rd=h1(),Rd!=null&&Rd>parseFloat(Sd))){V_=String(Rd);break e}V_=Sd}var Sd,Ad,Rd,L_;U.document&&zs?(x_=h1(),L_=x_||parseInt(V_,10)||void 0):L_=void 0;var x_,UB=L_;function Ra(t,e){if(pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(d1){e:{try{ey(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:BB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ra.$.h.call(this)}}Ze(Ra,pt);var BB={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Va="closure_listenable_"+(1e6*Math.random()|0),jB=0;function $B(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++jB,this.fa=this.ia=!1}function jd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ty(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function HB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function f1(t){let e={};for(let n in t)e[n]=t[n];return e}var ZC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p1(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<ZC.length;s++)n=ZC[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function $d(t){this.src=t,this.g={},this.h=0}$d.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=B_(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new $B(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function U_(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=l1(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(jd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function B_(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var ny="closure_lm_"+(1e6*Math.random()|0),N_={};function g1(t,e,n,i,r){if(i&&i.once)return _1(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)g1(t,e[s],n,i,r);return null}return n=sy(n),t&&t[Va]?t.O(e,n,Fa(i)?!!i.capture:!!i,r):m1(t,e,n,!1,i,r)}function m1(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Fa(r)?!!r.capture:!!r,a=ry(t);if(a||(t[ny]=a=new $d(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=GB(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)kB||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(v1(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GB(){function t(n){return e.call(t.src,t.listener,n)}let e=zB;return t}function _1(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_1(t,e[s],n,i,r);return null}return n=sy(n),t&&t[Va]?t.P(e,n,Fa(i)?!!i.capture:!!i,r):m1(t,e,n,!0,i,r)}function y1(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)y1(t,e[s],n,i,r);else i=Fa(i)?!!i.capture:!!i,n=sy(n),t&&t[Va]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=B_(s,n,i,r),-1<n&&(jd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ry(t))&&(e=t.g[e.toString()],t=-1,e&&(t=B_(e,n,i,r)),(n=-1<t?e[t]:null)&&iy(n))}function iy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Va])U_(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(v1(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ry(e))?(U_(n,t),n.h==0&&(n.src=null,e[ny]=null)):jd(t)}}}function v1(t){return t in N_?N_[t]:N_[t]="on"+t}function zB(t,e){if(t.fa)t=!0;else{e=new Ra(e,this);var n=t.listener,i=t.la||t.src;t.ia&&iy(t),t=n.call(i,e)}return t}function ry(t){return t=t[ny],t instanceof $d?t:null}var P_="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(t){return typeof t=="function"?t:(t[P_]||(t[P_]=function(e){return t.handleEvent(e)}),t[P_])}function Je(){Li.call(this),this.i=new $d(this),this.S=this,this.J=null}Ze(Je,Li);Je.prototype[Va]=!0;Je.prototype.removeEventListener=function(t,e,n,i){y1(this,t,e,n,i)};function st(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new pt(e,t);else if(e instanceof pt)e.target=e.target||t;else{var r=e;e=new pt(i,t),p1(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Md(o,i,!0,e)&&r}if(o=e.g=t,r=Md(o,i,!0,e)&&r,r=Md(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Md(o,i,!1,e)&&r}Je.prototype.N=function(){if(Je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)jd(n[i]);delete t.g[e],t.h--}}this.J=null};Je.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Je.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Md(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&U_(t.i,o),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var oy=U.JSON.stringify,j_=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function qB(){var t=ay;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $_=class{constructor(){this.h=this.g=null}add(e,n){let i=w1.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},w1=new j_(()=>new H_,t=>t.reset()),H_=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function WB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function KB(t){U.setTimeout(()=>{throw t},0)}var Ma,Oa=!1,ay=new $_,E1=()=>{let t=U.Promise.resolve(void 0);Ma=()=>{t.then(QB)}},QB=()=>{for(var t;t=qB();){try{t.h.call(t.g)}catch(n){KB(n)}var e=w1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oa=!1};function Hd(t,e){Je.call(this),this.h=t||1,this.g=e||U,this.j=ft(this.qb,this),this.l=Date.now()}Ze(Hd,Je);b=Hd.prototype;b.ga=!1;b.T=null;b.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),st(this,"tick"),this.ga&&(cy(this),this.start()))}};b.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}b.N=function(){Hd.$.N.call(this),cy(this),delete this.g};function ly(t,e,n){if(typeof t=="function")n&&(t=ft(t,n));else if(t&&typeof t.handleEvent=="function")t=ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function b1(t){t.g=ly(()=>{t.g=null,t.i&&(t.i=!1,b1(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var G_=class extends Li{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b1(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function xa(t){Li.call(this),this.h=t,this.g={}}Ze(xa,Li);var XC=[];function I1(t,e,n,i){Array.isArray(n)||(n&&(XC[0]=n.toString()),n=XC);for(var r=0;r<n.length;r++){var s=g1(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function D1(t){ty(t.g,function(e,n){this.g.hasOwnProperty(n)&&iy(e)},t),t.g={}}xa.prototype.N=function(){xa.$.N.call(this),D1(this)};xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gd(){this.g=!0}Gd.prototype.Ea=function(){this.g=!1};function YB(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function JB(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Hs(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+XB(t,n)+(i?" "+i:"")})}function ZB(t,e){t.info(function(){return"TIMEOUT: "+e})}Gd.prototype.info=function(){};function XB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return oy(n)}catch{return e}}var Rr={},e1=null;function zd(){return e1=e1||new Je}Rr.Ta="serverreachability";function T1(t){pt.call(this,Rr.Ta,t)}Ze(T1,pt);function Na(t){let e=zd();st(e,new T1(e))}Rr.STAT_EVENT="statevent";function C1(t,e){pt.call(this,Rr.STAT_EVENT,t),this.stat=e}Ze(C1,pt);function Tt(t){let e=zd();st(e,new C1(e,t))}Rr.Ua="timingevent";function S1(t,e){pt.call(this,Rr.Ua,t),this.size=e}Ze(S1,pt);function La(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var qd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},A1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uy(){}uy.prototype.h=null;function t1(t){return t.h||(t.h=t.i())}function R1(){}var Ua={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dy(){pt.call(this,"d")}Ze(dy,pt);function hy(){pt.call(this,"c")}Ze(hy,pt);var z_;function Wd(){}Ze(Wd,uy);Wd.prototype.g=function(){return new XMLHttpRequest};Wd.prototype.i=function(){return{}};z_=new Wd;function Ba(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new xa(this),this.P=ej,t=F_?125:void 0,this.V=new Hd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M1}function M1(){this.i=null,this.g="",this.h=!1}var ej=45e3,O1={},q_={};b=Ba.prototype;b.setTimeout=function(t){this.P=t};function W_(t,e,n){t.L=1,t.A=Qd(ai(e)),t.u=n,t.S=!0,x1(t,null)}function x1(t,e){t.G=Date.now(),ja(t),t.B=ai(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),B1(n.i,"t",i),t.o=0,n=t.l.J,t.h=new M1,t.g=aS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new G_(ft(t.Pa,t,t.g),t.O)),I1(t.U,t.g,"readystatechange",t.nb),e=t.I?f1(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Na(),YB(t.j,t.v,t.B,t.m,t.W,t.u)}b.nb=function(t){t=t.target;let e=this.M;e&&xn(t)==3?e.l():this.Pa(t)};b.Pa=function(t){try{if(t==this.g)e:{let u=xn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||F_||this.g&&(this.h.h||this.g.ja()||s1(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Na(3):Na(2)),Kd(this);var n=this.g.da();this.ca=n;t:if(N1(this)){var i=s1(this.g);t="";var r=i.length,s=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Sa(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,JB(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Aa(a)){var l=a;break t}}l=null}if(n=l)Hs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,K_(this,n);else{this.i=!1,this.s=3,Tt(12),Cr(this),Sa(this);break e}}this.S?(P1(this,u,o),F_&&this.i&&u==3&&(I1(this.U,this.V,"tick",this.mb),this.V.start())):(Hs(this.j,this.m,o,null),K_(this,o)),u==4&&Cr(this),this.i&&!this.J&&(u==4?iS(this.l,this):(this.i=!1,ja(this)))}else Ej(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Cr(this),Sa(this)}}}catch{}finally{}};function N1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function P1(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=tj(t,n),r==q_){e==4&&(t.s=4,Tt(14),i=!1),Hs(t.j,t.m,null,"[Incomplete Response]");break}else if(r==O1){t.s=4,Tt(15),Hs(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Hs(t.j,t.m,r,null),K_(t,r);N1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Tt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yy(e),e.M=!0,Tt(11))):(Hs(t.j,t.m,n,"[Invalid Chunked Response]"),Cr(t),Sa(t))}b.mb=function(){if(this.g){var t=xn(this.g),e=this.g.ja();this.o<e.length&&(Kd(this),P1(this,t,e),this.i&&t!=4&&ja(this))}};function tj(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?q_:(n=Number(e.substring(n,i)),isNaN(n)?O1:(i+=1,i+n>e.length?q_:(e=e.slice(i,i+n),t.o=i+n,e)))}b.cancel=function(){this.J=!0,Cr(this)};function ja(t){t.Y=Date.now()+t.P,k1(t,t.P)}function k1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=La(ft(t.lb,t),e)}function Kd(t){t.C&&(U.clearTimeout(t.C),t.C=null)}b.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(ZB(this.j,this.B),this.L!=2&&(Na(),Tt(17)),Cr(this),this.s=2,Sa(this)):k1(this,this.Y-t)};function Sa(t){t.l.H==0||t.J||iS(t.l,t)}function Cr(t){Kd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,cy(t.V),D1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function K_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Q_(n.i,t))){if(!t.K&&Q_(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)kd(n),Zd(n);else break e;_y(n),Tt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=La(ft(n.ib,n),6e3));if(1>=H1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sr(n,11)}else if((t.K||n.g==t)&&kd(n),!Aa(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=i.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(fy(s,s.h),s.h=null))}if(i.F){let v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.Da=v,we(i.I,i.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=oS(i,i.J?i.pa:null,i.Y),o.K){G1(i.i,o);var a=o,c=i.L;c&&a.setTimeout(c),a.C&&(Kd(a),ja(a)),i.g=o}else tS(i);0<n.j.length&&Xd(n)}else l[0]!="stop"&&l[0]!="close"||Sr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Sr(n,7):my(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Na(4)}catch{}}function nj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ud(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function ij(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ud(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function F1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ud(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ij(t),i=nj(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var V1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Ar(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ar){this.h=t.h,Nd(this,t.j),this.s=t.s,this.g=t.g,Pd(this,t.m),this.l=t.l;var e=t.i,n=new Pa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),n1(this,n),this.o=t.o}else t&&(e=String(t).match(V1))?(this.h=!1,Nd(this,e[1]||"",!0),this.s=Ta(e[2]||""),this.g=Ta(e[3]||"",!0),Pd(this,e[4]),this.l=Ta(e[5]||"",!0),n1(this,e[6]||"",!0),this.o=Ta(e[7]||"")):(this.h=!1,this.i=new Pa(null,this.h))}Ar.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,i1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,i1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?aj:oj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,lj)),t.join("")};function ai(t){return new Ar(t)}function Nd(t,e,n){t.j=n?Ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function n1(t,e,n){e instanceof Pa?(t.i=e,uj(t.i,t.h)):(n||(e=Ca(e,cj)),t.i=new Pa(e,t.h))}function we(t,e,n){t.i.set(e,n)}function Qd(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var i1=/[#\/\?@]/g,oj=/[#\?:]/g,aj=/[#\?]/g,cj=/[#\?@]/g,lj=/#/g;function Pa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ui(t){t.g||(t.g=new Map,t.h=0,t.i&&rj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}b=Pa.prototype;b.add=function(t,e){Ui(this),this.i=null,t=qs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function L1(t,e){Ui(t),e=qs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function U1(t,e){return Ui(t),e=qs(t,e),t.g.has(e)}b.forEach=function(t,e){Ui(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};b.ta=function(){Ui(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};b.Z=function(t){Ui(this);let e=[];if(typeof t=="string")U1(this,t)&&(e=e.concat(this.g.get(qs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};b.set=function(t,e){return Ui(this),this.i=null,t=qs(this,t),U1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};b.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function B1(t,e,n){L1(t,e),0<n.length&&(t.i=null,t.g.set(qs(t,e),X_(n)),t.h+=n.length)}b.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function qs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uj(t,e){e&&!t.j&&(Ui(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(L1(this,i),B1(this,r,n))},t)),t.j=e}var dj=class{constructor(t,e){this.g=t,this.map=e}};function j1(t){this.l=t||hj,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hj=10;function $1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function H1(t){return t.h?1:t.g?t.g.size:0}function Q_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fy(t,e){t.g?t.g.add(e):t.h=e}function G1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}j1.prototype.cancel=function(){if(this.i=z1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function z1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return X_(t.i)}var fj=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function pj(){this.g=new fj}function gj(t,e,n){let i=n||"";try{F1(t,function(r,s){let o=r;Fa(r)&&(o=oy(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function mj(t,e){let n=new Gd;if(U.Image){let i=new Image;i.onload=Cd(Od,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Cd(Od,n,i,"TestLoadImage: error",!1,e),i.onabort=Cd(Od,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Cd(Od,n,i,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Od(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function $a(t){this.l=t.ec||null,this.j=t.ob||!1}Ze($a,uy);$a.prototype.g=function(){return new Yd(this.l,this.j)};$a.prototype.i=function(t){return function(){return t}}({});function Yd(t,e){Je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=py,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(Yd,Je);var py=0;b=Yd.prototype;b.open=function(t,e){if(this.readyState!=py)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ka(this)};b.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};b.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=py};b.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function q1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}b.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ha(this):ka(this),this.readyState==3&&q1(this)}};b.Za=function(t){this.g&&(this.response=this.responseText=t,Ha(this))};b.Ya=function(t){this.g&&(this.response=t,Ha(this))};b.ka=function(){this.g&&Ha(this)};function Ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ka(t)}b.setRequestHeader=function(t,e){this.v.append(t,e)};b.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};b.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ka(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _j=U.JSON.parse;function xe(t){Je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W1,this.L=this.M=!1}Ze(xe,Je);var W1="",yj=/^https?$/i,vj=["POST","PUT"];b=xe.prototype;b.Oa=function(t){this.M=t};b.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():z_.g(),this.C=this.u?t1(this.u):t1(z_),this.g.onreadystatechange=ft(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){r1(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=U.FormData&&t instanceof U.FormData,!(0<=l1(vj,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Y1(this),0<this.B&&((this.L=wj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.ua,this)):this.A=ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){r1(this,s)}};function wj(t){return zs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}b.ua=function(){typeof Z_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))};function r1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,K1(t),Jd(t)}function K1(t){t.F||(t.F=!0,st(t,"complete"),st(t,"error"))}b.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,st(this,"complete"),st(this,"abort"),Jd(this))};b.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jd(this,!0)),xe.$.N.call(this)};b.La=function(){this.s||(this.G||this.v||this.l?Q1(this):this.kb())};b.kb=function(){Q1(this)};function Q1(t){if(t.h&&typeof Z_<"u"&&(!t.C[1]||xn(t)!=4||t.da()!=2)){if(t.v&&xn(t)==4)ly(t.La,0,t);else if(st(t,"readystatechange"),xn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(V1)[1]||null;!r&&U.self&&U.self.location&&(r=U.self.location.protocol.slice(0,-1)),i=!yj.test(r?r.toLowerCase():"")}n=i}if(n)st(t,"complete"),st(t,"success");else{t.m=6;try{var s=2<xn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",K1(t)}}finally{Jd(t)}}}}function Jd(t,e){if(t.g){Y1(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||st(t,"ready");try{n.onreadystatechange=i}catch{}}}function Y1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}b.isActive=function(){return!!this.g};function xn(t){return t.g?t.g.readyState:0}b.da=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}};b.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};b.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_j(e)}};function s1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Ej(t){let e={};t=(t.g&&2<=xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Aa(t[i]))continue;var n=WB(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}HB(e,function(i){return i.join(", ")})}b.Ia=function(){return this.m};b.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function J1(t){let e="";return ty(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function gy(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=J1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Z1(t){this.Ga=0,this.j=[],this.l=new Gd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new j1(t&&t.concurrentRequestLimit),this.Ja=new pj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}b=Z1.prototype;b.ra=8;b.H=1;function my(t){if(X1(t),t.H==3){var e=t.W++,n=ai(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),Ga(t,n),e=new Ba(t,t.l,e),e.L=2,e.A=Qd(ai(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.A,n=!0),n||(e.g=aS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ja(e)}sS(t)}function Zd(t){t.g&&(yy(t),t.g.cancel(),t.g=null)}function X1(t){Zd(t),t.u&&(U.clearTimeout(t.u),t.u=null),kd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function Xd(t){if(!$1(t.i)&&!t.m){t.m=!0;var e=t.Na;Ma||E1(),Oa||(Ma(),Oa=!0),ay.add(e,t),t.C=0}}function bj(t,e){return H1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=La(ft(t.Na,t,e),rS(t,t.C)),t.C++,!0)}b.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Ba(this,this.l,t),s=this.s;if(this.U&&(s?(s=f1(s),p1(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eS(this,r,e),n=ai(this.I),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),Ga(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(J1(s)))+"&"+e:this.o&&gy(n,this.o,s)),fy(this.i,r),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),r.aa=!0,W_(r,n,null)):W_(r,n,e),this.H=2}}else this.H==3&&(t?o1(this,t):this.j.length==0||$1(this.i)||o1(this))};function o1(t,e){var n;e?n=e.m:n=t.W++;let i=ai(t.I);we(i,"SID",t.K),we(i,"RID",n),we(i,"AID",t.V),Ga(t,i),t.o&&t.s&&gy(i,t.o,t.s),n=new Ba(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fy(t.i,n),W_(n,i,e)}function Ga(t,e){t.na&&ty(t.na,function(n,i){we(e,i,n)}),t.h&&F1({},function(n,i){we(e,i,n)})}function eS(t,e,n){n=Math.min(t.j.length,n);var i=t.h?ft(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=s,0>l)s=Math.max(0,r[c].g-100),a=!1;else try{gj(u,o,"req"+l+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function tS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ma||E1(),Oa||(Ma(),Oa=!0),ay.add(e,t),t.A=0}}function _y(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=La(ft(t.Ma,t),rS(t,t.A)),t.A++,!0)}b.Ma=function(){if(this.u=null,nS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=La(ft(this.jb,this),t)}};b.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tt(10),Zd(this),nS(this))};function yy(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function nS(t){t.g=new Ba(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ai(t.wa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.V),we(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&we(e,"TO",t.qa),we(e,"TYPE","xmlhttp"),Ga(t,e),t.o&&t.s&&gy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Qd(ai(e)),n.u=null,n.S=!0,x1(n,t)}b.ib=function(){this.v!=null&&(this.v=null,Zd(this),_y(this),Tt(19))};function kd(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function iS(t,e){var n=null;if(t.g==e){kd(t),yy(t),t.g=null;var i=2}else if(Q_(t.i,e))n=e.F,G1(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=zd(),st(i,new S1(i,n)),Xd(t)}else tS(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&bj(t,e)||i==2&&_y(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Sr(t,5);break;case 4:Sr(t,10);break;case 3:Sr(t,6);break;default:Sr(t,2)}}}function rS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Sr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=ft(t.pb,t);n||(n=new Ar("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Nd(n,"https"),Qd(n)),mj(n.toString(),i)}else Tt(2);t.H=0,t.h&&t.h.za(e),sS(t),X1(t)}b.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tt(2)):(this.l.info("Failed to ping google.com"),Tt(1))};function sS(t){if(t.H=0,t.ma=[],t.h){let e=z1(t.i);(e.length!=0||t.j.length!=0)&&(JC(t.ma,e),JC(t.ma,t.j),t.i.i.length=0,X_(t.j),t.j.length=0),t.h.ya()}}function oS(t,e,n){var i=n instanceof Ar?ai(n):new Ar(n);if(i.g!="")e&&(i.g=e+"."+i.g),Pd(i,i.m);else{var r=U.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ar(null);i&&Nd(s,i),e&&(s.g=e),r&&Pd(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&we(i,n,e),we(i,"VER",t.ra),Ga(t,i),i}function aS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new xe(new $a({ob:n})):new xe(t.va),e.Oa(t.J),e}b.isActive=function(){return!!this.h&&this.h.isActive(this)};function cS(){}b=cS.prototype;b.Ba=function(){};b.Aa=function(){};b.za=function(){};b.ya=function(){};b.isActive=function(){return!0};b.Va=function(){};function Fd(){if(zs&&!(10<=Number(UB)))throw Error("Environmental error: no available transport.")}Fd.prototype.g=function(t,e){return new Bt(t,e)};function Bt(t,e){Je.call(this),this.g=new Z1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Aa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Aa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ws(this)}Ze(Bt,Je);Bt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oS(t,null,t.Y),Xd(t)};Bt.prototype.close=function(){my(this.g)};Bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=oy(t),t=n);e.j.push(new dj(e.fb++,t)),e.H==3&&Xd(e)};Bt.prototype.N=function(){this.g.h=null,delete this.j,my(this.g),delete this.g,Bt.$.N.call(this)};function lS(t){dy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(lS,dy);function uS(){hy.call(this),this.status=1}Ze(uS,hy);function Ws(t){this.g=t}Ze(Ws,cS);Ws.prototype.Ba=function(){st(this.g,"a")};Ws.prototype.Aa=function(t){st(this.g,new lS(t))};Ws.prototype.za=function(t){st(this.g,new uS)};Ws.prototype.ya=function(){st(this.g,"b")};function Ij(){this.blockSize=-1}function fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ze(fn,Ij);fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function k_(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}fn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)k_(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){k_(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){k_(this,i),r=0;break}}this.h=r,this.i+=e};fn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function ge(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var Dj={};function vy(t){return-128<=t&&128>t?FB(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return Gs;if(0>t)return rt(Nn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Y_;return new ge(e,0)}function dS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return rt(dS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),i=Gs,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=Nn(Math.pow(e,s)),i=i.R(s).add(Nn(o))):(i=i.R(n),i=i.add(Nn(o)))}return i}var Y_=4294967296,Gs=vy(0),J_=vy(1),a1=vy(16777216);b=ge.prototype;b.ea=function(){if(Jt(this))return-rt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Y_+i)*e,e*=Y_}return t};b.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(oi(this))return"0";if(Jt(this))return"-"+rt(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,i="";;){var r=Ld(n,e).g;n=Vd(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,oi(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};b.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function oi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Jt(t){return t.h==-1}b.X=function(t){return t=Vd(this,t),Jt(t)?-1:oi(t)?0:1};function rt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new ge(n,~t.h).add(J_)}b.abs=function(){return Jt(this)?rt(this):this};b.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function Vd(t,e){return t.add(rt(e))}b.R=function(t){if(oi(this)||oi(t))return Gs;if(Jt(this))return Jt(t)?rt(this).R(rt(t)):rt(rt(this).R(t));if(Jt(t))return rt(this.R(rt(t)));if(0>this.X(a1)&&0>t.X(a1))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=o*c,xd(n,2*i+2*r),n[2*i+2*r+1]+=s*c,xd(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,xd(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,xd(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new ge(n,0)};function xd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Da(t,e){this.g=t,this.h=e}function Ld(t,e){if(oi(e))throw Error("division by zero");if(oi(t))return new Da(Gs,Gs);if(Jt(t))return e=Ld(rt(t),e),new Da(rt(e.g),rt(e.h));if(Jt(e))return e=Ld(t,rt(e)),new Da(rt(e.g),e.h);if(30<t.g.length){if(Jt(t)||Jt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=J_,i=e;0>=i.X(t);)n=c1(n),i=c1(i);var r=$s(n,1),s=$s(i,1);for(i=$s(i,2),n=$s(n,2);!oi(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=$s(i,1),n=$s(n,1)}return e=Vd(t,r.R(e)),new Da(r,e)}for(r=Gs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Nn(n),o=s.R(e);Jt(o)||0<o.X(t);)n-=i,s=Nn(n),o=s.R(e);oi(s)&&(s=J_),r=r.add(s),t=Vd(t,o)}return new Da(r,t)}b.gb=function(t){return Ld(this,t).h};b.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new ge(n,this.h&t.h)};b.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new ge(n,this.h|t.h)};b.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new ge(n,this.h^t.h)};function c1(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new ge(n,t.h)}function $s(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ge(r,t.h)}Fd.prototype.createWebChannel=Fd.prototype.g;Bt.prototype.send=Bt.prototype.u;Bt.prototype.open=Bt.prototype.m;Bt.prototype.close=Bt.prototype.close;qd.NO_ERROR=0;qd.TIMEOUT=8;qd.HTTP_ERROR=6;A1.COMPLETE="complete";R1.EventType=Ua;Ua.OPEN="a";Ua.CLOSE="b";Ua.ERROR="c";Ua.MESSAGE="d";Je.prototype.listen=Je.prototype.O;xe.prototype.listenOnce=xe.prototype.P;xe.prototype.getLastError=xe.prototype.Sa;xe.prototype.getLastErrorCode=xe.prototype.Ia;xe.prototype.getStatus=xe.prototype.da;xe.prototype.getResponseJson=xe.prototype.Wa;xe.prototype.getResponseText=xe.prototype.ja;xe.prototype.send=xe.prototype.ha;xe.prototype.setWithCredentials=xe.prototype.Oa;fn.prototype.digest=fn.prototype.l;fn.prototype.reset=fn.prototype.reset;fn.prototype.update=fn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=Nn;ge.fromString=dS;var hS=pn.createWebChannelTransport=function(){return new Fd},fS=pn.getStatEventTarget=function(){return zd()},eh=pn.ErrorCode=qd,pS=pn.EventType=A1,gS=pn.Event=Rr,wy=pn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},YQ=pn.FetchXmlHttpFactory=$a,za=pn.WebChannel=R1,mS=pn.XhrIo=xe,_S=pn.Md5=fn,Mr=pn.Integer=ge;var yS="@firebase/firestore";var Xe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");var fo="10.7.2";var Fr=new Pi("@firebase/firestore");function qa(){return Fr.logLevel}function I(t,...e){if(Fr.logLevel<=ee.DEBUG){let n=e.map(s0);Fr.debug(`Firestore (${fo}): ${t}`,...n)}}function Ln(t,...e){if(Fr.logLevel<=ee.ERROR){let n=e.map(s0);Fr.error(`Firestore (${fo}): ${t}`,...n)}}function eo(t,...e){if(Fr.logLevel<=ee.WARN){let n=e.map(s0);Fr.warn(`Firestore (${fo}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function F(t="Unexpected state"){let e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+t;throw Ln(e),new Error(e)}function ve(t,e){t||F()}function G(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var sh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ty=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}},Cy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Sy=class{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xt,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve(typeof i.accessToken=="string"),new sh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new Xe(e)}},Ay=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ry=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Ay(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},My=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Oy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new My(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Tj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Tj(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function le(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var ot=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var H=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ah=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&F(),i===void 0?i=e.length-n:i>e.length-n&&F(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Re=class t extends ah{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new T(_.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},Cj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class t extends ah{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return Cj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new T(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new T(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new T(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var P=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var xy=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};xy.UNKNOWN_ID=-1;function Sj(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=H.fromTimestamp(i===1e9?new ot(n+1,0):new ot(n,i));return new Vr(r,P.empty(),e)}function Aj(t){return new Vr(t.readTime,t.key,-1)}var Vr=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(H.min(),P.empty(),-1)}static max(){return new t(H.max(),P.empty(),-1)}};function Rj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=P.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}var Mj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ny=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function pc(t){return p(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==Mj)throw t;I("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var Py=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Xt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new kr(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=o0(i.target.error);this.V.reject(new kr(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new kr(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Fy(n)}},ch=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(dt())===12.2&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),Or(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ad())return!1;if(t.C())return!0;let e=dt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return p(this,null,function*(){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new kr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new T(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new T(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new kr(e,o))},r.onupgradeneeded=s=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,r.transaction,s.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=Py.open(this.db,e,s?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),y.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(I("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},ky=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Or(this.k.delete())}},kr=class extends T{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function gc(t){return t.name==="IndexedDbTransactionError"}var Fy=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(I("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Or(i)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),Or(this.store.add(e))}get(e){return Or(this.store.get(e)).next(n=>(n===void 0&&(n=null),I("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),Or(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),Or(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new y((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(i),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new y((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(e,n){I("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new y((i,r)=>{n.onerror=s=>{let o=o0(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){let i=[];return new y((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let c=new ky(a),l=n(a.primaryKey,a.value,c);if(l instanceof y){let u=l.catch(d=>(c.done(),y.reject(d)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>y.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Or(t){return new y((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=o0(i.target.error);n(r)}})}var vS=!1;function o0(t){let e=ch.S(dt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vS||(vS=!0,setTimeout(()=>{throw i},0)),i}}return t}var YS=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Vh(t){return t==null}function Za(t){return t===0&&1/t==-1/0}function Oj(t){return typeof t=="number"&&Number.isInteger(t)&&!Za(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oY=[...xj,"documentOverlays"],Nj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pj=Nj,aY=[...Pj,"indexConfiguration","indexState","indexEntries"];function wS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}},Js=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kn=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();let e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}};kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,n,i,r,s){return this}insert(e,n,i){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},lh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class t{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt($t.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var uh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(ve(!!t),typeof t=="string"){let e=0,n=kj.exec(t);if(ve(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}function a0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c0(t){let e=t.mapValue.fields.__previous_value__;return a0(e)?c0(e):e}function Xa(t){let e=ji(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}var Vy=class{constructor(e,n,i,r,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},dh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var th={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a0(t)?4:ZS(t)?9007199254740991:10:F()}function Un(t,e){if(t===e)return!0;let n=Lr(t);if(n!==Lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ji(r.timestampValue),a=ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return $i(r.bytesValue).isEqual($i(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ne(r.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ne(r.integerValue)===Ne(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Ne(r.doubleValue),a=Ne(s.doubleValue);return o===a?Za(o)===Za(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(wS(o)!==wS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Un(o[c],a[c])))return!1;return!0}(t,e);default:return F()}}function ec(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function no(t,e){if(t===e)return 0;let n=Lr(t),i=Lr(e);if(n!==i)return le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ne(s.integerValue||s.doubleValue),c=Ne(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ES(t.timestampValue,e.timestampValue);case 4:return ES(Xa(t),Xa(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(s,o){let a=$i(s),c=$i(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=le(a[l],c[l]);if(u!==0)return u}return le(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=le(Ne(s.latitude),Ne(o.latitude));return a!==0?a:le(Ne(s.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=no(a[l],c[l]);if(u)return u}return le(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===th.mapValue&&o===th.mapValue)return 0;if(s===th.mapValue)return 1;if(o===th.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=le(c[d],u[d]);if(h!==0)return h;let f=no(a[c[d]],l[u[d]]);if(f!==0)return f}return le(c.length,u.length)}(t.mapValue,e.mapValue);default:throw F()}}function ES(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);let n=ji(t),i=ji(e),r=le(n.seconds,i.seconds);return r!==0?r:le(n.nanos,i.nanos)}function io(t){return Ly(t)}function Ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=ji(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return P.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=Ly(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Ly(n.fields[o])}`;return r+"}"}(t.mapValue):F()}function bS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uy(t){return!!t&&"integerValue"in t}function l0(t){return!!t&&"arrayValue"in t}function IS(t){return!!t&&"nullValue"in t}function DS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ka(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=$t.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ka(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ih(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Gr(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(Ka(this.value))}};function XS(t){let e=[];return Gr(t.fields,(n,i)=>{let r=new $t([n]);if(ih(i)){let s=XS(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Zt(e)}var gn=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,H.min(),H.min(),H.min(),jt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,H.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,H.min(),H.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,H.min(),H.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ro=class{constructor(e,n){this.position=e,this.inclusive=n}};function TS(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=P.comparator(P.fromName(o.referenceValue),n.key):i=no(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function CS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}var so=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Fj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hh=class{},$e=class t extends hh{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new jy(e,n,i):n==="array-contains"?new Gy(e,i):n==="in"?new zy(e,i):n==="not-in"?new qy(e,i):n==="array-contains-any"?new Wy(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new $y(e,i):new Hy(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mn=class t extends hh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return eA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function eA(t){return t.op==="and"}function tA(t){return Vj(t)&&eA(t)}function Vj(t){for(let e of t.filters)if(e instanceof mn)return!1;return!0}function By(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+io(t.value);if(tA(t))return t.filters.map(e=>By(e)).join(",");{let e=t.filters.map(n=>By(n)).join(",");return`${t.op}(${e})`}}function nA(t,e){return t instanceof $e?function(i,r){return r instanceof $e&&i.op===r.op&&i.field.isEqual(r.field)&&Un(i.value,r.value)}(t,e):t instanceof mn?function(i,r){return r instanceof mn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&nA(o,r.filters[a]),!0):!1}(t,e):void F()}function iA(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"}(t):"Filter"}var jy=class extends $e{constructor(e,n,i){super(e,n,i),this.key=P.fromName(i.referenceValue)}matches(e){let n=P.comparator(e.key,this.key);return this.matchesComparison(n)}},$y=class extends $e{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Hy=class extends $e{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>P.fromName(i.referenceValue))}var Gy=class extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return l0(n)&&ec(n.arrayValue,this.value)}},zy=class extends $e{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}},qy=class extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}},Wy=class extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!l0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ec(this.value.arrayValue,i))}};var Ky=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function SS(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Ky(t,e,n,i,r,s,o)}function u0(t){let e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>By(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>io(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>io(i)).join(",")),e.ce=n}return e.ce}function d0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CS(t.startAt,e.startAt)&&CS(t.endAt,e.endAt)}function Qy(t){return P.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ur=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Lj(t,e,n,i,r,s,o,a){return new Ur(t,e,n,i,r,s,o,a)}function Lh(t){return new Ur(t)}function AS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sA(t){return t.collectionGroup!==null}function Qa(t){let e=G(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt($t.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new so(s,i))}),n.has($t.keyField().canonicalString())||e.le.push(new so($t.keyField(),i))}return e.le}function Fn(t){let e=G(t);return e.he||(e.he=Uj(e,Qa(t))),e.he}function Uj(t,e){if(t.limitType==="F")return SS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new so(r.field,s)});let n=t.endAt?new ro(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ro(t.startAt.position,t.startAt.inclusive):null;return SS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Yy(t,e){let n=t.filters.concat([e]);return new Ur(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jy(t,e,n){return new Ur(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uh(t,e){return d0(Fn(t),Fn(e))&&t.limitType===e.limitType}function oA(t){return`${u0(Fn(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>iA(r)).join(", ")}]`),Vh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>io(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>io(r)).join(",")),`Target(${i})`}(Fn(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):P.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Qa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=TS(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,Qa(i),r)||i.endAt&&!function(o,a,c){let l=TS(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,Qa(i),r))}(t,e)}function Bj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aA(t){return(e,n)=>{let i=!1;for(let r of Qa(t)){let s=jj(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function jj(t,e,n){let i=t.field.isKeyField()?P.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?no(c,l):F()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return F()}}var Hi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return JS(this.inner)}size(){return this.innerSize}};var $j=new Pe(P.comparator);function li(){return $j}var cA=new Pe(P.comparator);function Wa(...t){let e=cA;for(let n of t)e=e.insert(n.key,n);return e}function lA(t){let e=cA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function xr(){return Ya()}function uA(){return Ya()}function Ya(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}var Hj=new Pe(P.comparator),Gj=new mt(P.comparator);function te(...t){let e=Gj;for(let n of t)e=e.add(n);return e}var zj=new mt(le);function qj(){return zj}function dA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Za(e)?"-0":e}}function hA(t){return{integerValue:""+t}}function Wj(t,e){return Oj(e)?hA(e):dA(t,e)}var oo=class{constructor(){this._=void 0}};function Kj(t,e,n){return t instanceof ao?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&a0(s)&&(s=c0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Br?pA(t,e):t instanceof jr?gA(t,e):function(r,s){let o=fA(r,s),a=RS(o)+RS(r.Ie);return Uy(o)&&Uy(r.Ie)?hA(a):dA(r.serializer,a)}(t,e)}function Qj(t,e,n){return t instanceof Br?pA(t,e):t instanceof jr?gA(t,e):n}function fA(t,e){return t instanceof co?function(i){return Uy(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var ao=class extends oo{},Br=class extends oo{constructor(e){super(),this.elements=e}};function pA(t,e){let n=mA(e);for(let i of t.elements)n.some(r=>Un(r,i))||n.push(i);return{arrayValue:{values:n}}}var jr=class extends oo{constructor(e){super(),this.elements=e}};function gA(t,e){let n=mA(e);for(let i of t.elements)n=n.filter(r=>!Un(r,i));return{arrayValue:{values:n}}}var co=class extends oo{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function RS(t){return Ne(t.integerValue||t.doubleValue)}function mA(t){return l0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yj(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Br&&r instanceof Br||i instanceof jr&&r instanceof jr?to(i.elements,r.elements,Un):i instanceof co&&r instanceof co?Un(i.Ie,r.Ie):i instanceof ao&&r instanceof ao}(t.transform,e.transform)}var Zy=class{constructor(e,n){this.version=e,this.transformResults=n}},ci=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function rh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var lo=class{};function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tc(t.key,ci.none()):new $r(t.key,t.data,ci.none());{let n=t.data,i=jt.empty(),r=new mt($t.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Bn(t.key,i,new Zt(r.toArray()),ci.none())}}function Jj(t,e,n){t instanceof $r?function(r,s,o){let a=r.value.clone(),c=OS(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(r,s,o){if(!rh(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=OS(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(yA(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,i){return t instanceof $r?function(s,o,a,c){if(!rh(s.precondition,o))return a;let l=s.value.clone(),u=xS(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Bn?function(s,o,a,c){if(!rh(s.precondition,o))return a;let l=xS(s.fieldTransforms,c,o),u=o.data;return u.setAll(yA(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return rh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Zj(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=fA(i.transform,r||null);s!=null&&(n===null&&(n=jt.empty()),n.set(i.field,s))}return n||null}function MS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&to(i,r,(s,o)=>Yj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $r=class extends lo{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Bn=class extends lo{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function yA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function OS(t,e,n){let i=new Map;ve(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Qj(o,a,n[r]))}return i}function xS(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,Kj(s,o,e))}return i}var tc=class extends lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Xy=class extends lo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ev=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Jj(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ja(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ja(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=uA();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=_A(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(H.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,i)=>MS(n,i))&&to(this.baseMutations,e.baseMutations,(n,i)=>MS(n,i))}},tv=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ve(e.mutations.length===i.length);let r=function(){return Hj}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var nv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var iv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,re;function Xj(t){switch(t){default:return F();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function vA(t){if(t===void 0)return Ln("GRPC error has no .code"),_.UNKNOWN;switch(t){case Be.OK:return _.OK;case Be.CANCELLED:return _.CANCELLED;case Be.UNKNOWN:return _.UNKNOWN;case Be.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Be.INTERNAL:return _.INTERNAL;case Be.UNAVAILABLE:return _.UNAVAILABLE;case Be.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Be.NOT_FOUND:return _.NOT_FOUND;case Be.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Be.ABORTED:return _.ABORTED;case Be.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Be.DATA_LOSS:return _.DATA_LOSS;default:return F()}}(re=Be||(Be={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";var NS=null;function e$(){return new TextEncoder}var t$=new Mr([4294967295,4294967295],0);function PS(t){let e=e$().encode(t),n=new _S;return n.update(e),new Uint8Array(n.digest())}function kS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mr([n,i],0),new Mr([r,s],0)]}var rv=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Nr(`Invalid padding: ${n}`);if(i<0)throw new Nr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Nr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Nr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Mr.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Mr.fromNumber(i)));return r.compare(t$)===1&&(r=new Mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=PS(e),[i,r]=kS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=PS(e),[i,r]=kS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Nr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var fh=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(H.min(),r,new Pe(le),li(),te())}},nc=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,te(),te(),te())}};var Zs=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},ph=class{constructor(e,n){this.targetId=e,this.fe=n}},gh=class{constructor(e,n,i=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},mh=class{constructor(){this.ge=0,this.pe=VS(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=te(),n=te(),i=te();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:F()}}),new nc(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=VS()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ve(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},sv=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=li(),this.Qe=FS(),this.Ke=new Pe(le)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let s=r.target;if(Qy(s))if(i===0){let o=new P(s.path);this.We(n,o,gn.newNoDocument(o,H.min()))}else ve(i===1);else{let o=this.Ze(n);if(o!==i){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}NS?.tt(function(u,d,h,f,m){var v,w,D,q,se,me;let ke={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},_e=d.unchangedNames;return _e&&(ke.bloomFilter={applied:m===0,hashCount:(v=_e?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(q=(D=(w=_e?.bits)===null||w===void 0?void 0:w.bitmap)===null||D===void 0?void 0:D.length)!==null&&q!==void 0?q:0,padding:(me=(se=_e?.bits)===null||se===void 0?void 0:se.padding)!==null&&me!==void 0?me:0,mightContain:Nt=>{var ui;return(ui=f?.mightContain(Nt))!==null&&ui!==void 0&&ui}}),ke}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=$i(i).toUint8Array()}catch(c){if(c instanceof uh)return eo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rv(o,r,s)}catch(c){return eo(c instanceof Nr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Qy(a.target)){let c=new P(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,gn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=te();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let r=new fh(e,n,this.Ke,this.qe,i);return this.qe=li(),this.Qe=FS(),this.Ke=new Pe(le),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new mh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new mt(le),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||I("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function FS(){return new Pe(P.comparator)}function VS(){return new Pe(P.comparator)}var n$={asc:"ASCENDING",desc:"DESCENDING"},i$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r$={and:"AND",or:"OR"},ov=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function av(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s$(t,e){return _h(t,e.toTimestamp())}function Vn(t){return ve(!!t),H.fromTimestamp(function(n){let i=ji(n);return new ot(i.seconds,i.nanos)}(t))}function h0(t,e){return cv(t,e).canonicalString()}function cv(t,e){let n=function(r){return new Re(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EA(t){let e=Re.fromString(t);return ve(CA(e)),e}function lv(t,e){return h0(t.databaseId,e.path)}function Ey(t,e){let n=EA(e);if(n.get(1)!==t.databaseId.projectId)throw new T(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(IA(n))}function bA(t,e){return h0(t.databaseId,e)}function o$(t){let e=EA(t);return e.length===4?Re.emptyPath():IA(e)}function uv(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LS(t,e,n){return{name:lv(t,e),fields:n.value.mapValue.fields}}function a$(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(ve(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(ve(u===void 0||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?_.UNKNOWN:vA(l.code);return new T(u,l.message||"")}(o);n=new gh(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Ey(t,i.document.name),s=Vn(i.document.updateTime),o=i.document.createTime?Vn(i.document.createTime):H.min(),a=new jt({mapValue:{fields:i.document.fields}}),c=gn.newFoundDocument(r,s,o,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new Zs(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Ey(t,i.document),s=i.readTime?Vn(i.readTime):H.min(),o=gn.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Zs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Ey(t,i.document),s=i.removedTargetIds||[];n=new Zs([],s,r,null)}else{if(!("filter"in e))return F();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new iv(r,s),a=i.targetId;n=new ph(a,o)}}return n}function c$(t,e){let n;if(e instanceof $r)n={update:LS(t,e.key,e.value)};else if(e instanceof tc)n={delete:lv(t,e.key)};else if(e instanceof Bn)n={update:LS(t,e.key,e.data),updateMask:_$(e.fieldMask)};else{if(!(e instanceof Xy))return F();n={verify:lv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Br)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof co)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw F()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:s$(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:F()}(t,e.precondition)),n}function l$(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Vn(r.updateTime):Vn(s);return o.isEqual(H.min())&&(o=Vn(s)),new Zy(o,r.transformResults||[])}(n,e))):[]}function u$(t,e){return{documents:[bA(t,e.path)]}}function d$(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=bA(t,r);let s=function(l){if(l.length!==0)return TA(mn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Qs(h.field),direction:p$(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=av(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function h$(t){let e=o$(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){ve(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=DA(d);return h instanceof mn&&tA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new so(Ys(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Vh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new ro(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,f=d.values||[];return new ro(f,h)}(n.endAt)),Lj(e,r,o,s,a,"F",c,l)}function f$(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Ys(n.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ys(n.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ys(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ys(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Ys(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(i=>DA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return F()}}(n.compositeFilter.op))}(t):F()}function p$(t){return n$[t]}function g$(t){return i$[t]}function m$(t){return r$[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return $t.fromServerFormat(t.fieldPath)}function TA(t){return t instanceof $e?function(n){if(n.op==="=="){if(DS(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(IS(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DS(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(IS(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:g$(n.op),value:n.value}}}(t):t instanceof mn?function(n){let i=n.getFilters().map(r=>TA(r));return i.length===1?i[0]:{compositeFilter:{op:m$(n.op),filters:i}}}(t):F()}function _$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ic=class t{constructor(e,n,i,r,s=H.min(),o=H.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dv=class{constructor(e){this.ct=e}};function y$(t){let e=h$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jy(e,e.limit,"L"):e}var yh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ne(e.integerValue));else if("doubleValue"in e){let i=Ne(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Za(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft($i(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?ZS(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):F()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),P.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};yh.bt=new yh;var hv=class{constructor(){this._n=new fv}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Vr.min())}updateCollectionGroup(e,n,i){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},fv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new mt(Re.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new mt(Re.comparator)).toArray()}};var lY=new Uint8Array(0);var Pn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);var rc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var pv=class{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var gv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var mv=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ja(i.mutation,r,Zt.empty(),ot.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,te()).next(()=>i))}getLocalViewOfDocuments(e,n,i=te()){let r=xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Wa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,te()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=li(),o=Ya(),a=function(){return Ya()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Bn)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Ja(u.mutation,l,u.mutation.getFieldMask(),ot.now())):o.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new gv(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Ya(),r=new Pe((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||Zt.empty();u=a.applyToLocalView(l,u),i.set(c,u);let d=(r.get(a.batchId)||te()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=uA();u.forEach(h=>{if(!s.has(h)){let f=_A(n.get(h),i.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return y.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return P.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):y.resolve(xr()),a=-1,c=s;return o.next(l=>y.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?y.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,te())).next(u=>({batchId:a,changes:lA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(i=>{let r=Wa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Wa();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let l=function(d,h){return new Ur(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,gn.newInvalidDocument(u)))});let a=Wa();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&Ja(u.mutation,l,Zt.empty(),ot.now()),Bh(n,l)&&(a=a.insert(c,l))}),a})}};var _v=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Vn(r.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:y$(r.bundledQuery),readTime:Vn(r.readTime)}}(n)),y.resolve()}};var yv=class{constructor(){this.overlays=new Pe(P.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let i=xr();return y.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),y.resolve()}getOverlaysForCollection(e,n,i){let r=xr(),s=n.length+1,o=new P(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return y.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Pe((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=s.get(l.largestBatchId);u===null&&(u=xr(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=xr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return y.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new nv(n,i));let s=this.hr.get(n);s===void 0&&(s=te(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var sc=class{constructor(){this.Pr=new mt(je.Ir),this.Tr=new mt(je.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new je(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new je(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new P(new Re([])),i=new je(n,e),r=new je(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new P(new Re([])),i=new je(n,e),r=new je(n,e+1),s=te();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},je=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return P.comparator(e.key,n.key)||le(e.pr,n.pr)}static Er(e,n){return le(e.pr,n.pr)||P.comparator(e.key,n.key)}};var vv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mt(je.Ir)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ev(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new je(n,0),r=new je(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new mt(le);return n.forEach(r=>{let s=new je(r,0),o=new je(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),y.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;P.isDocumentKey(s)||(s=s.child(""));let o=new je(new P(s),0),a=new mt(le);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),y.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return y.forEach(n.mutations,r=>{let s=new je(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new je(n,0),r=this.wr.firstAfterOrEqual(i);return y.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wv=class{constructor(e){this.vr=e,this.docs=function(){return new Pe(P.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return y.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let i=li();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gn.newInvalidDocument(r))}),y.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=li(),o=n.path,a=new P(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Rj(Aj(u),i)<=0||(r.has(u.key)||Bh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,i,r){F()}Fr(e,n){return y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Ev(this)}getSize(e){return y.resolve(this.size)}},Ev=class extends pv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var bv=class{constructor(e){this.persistence=e,this.Mr=new Hi(n=>u0(n),d0),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Or=0,this.Nr=new sc,this.targetCount=0,this.Br=rc.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),y.waitFor(s).next(()=>r)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return y.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),y.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return y.resolve(i)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}};var Iv=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new YS(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new bv(this),this.indexManager=new hv,this.remoteDocumentCache=function(r){return new wv(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new dv(n),this.$r=new _v(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new vv(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){I("MemoryPersistence","Starting transaction:",e);let r=new Dv(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return y.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},Dv=class extends Ny{constructor(e){super(),this.currentSequenceNumber=e}},Tv=class t{constructor(e){this.persistence=e,this.zr=new sc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw F()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),y.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,i=>{let r=P.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,H.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Cv=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=te(),r=te();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var Sv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Av=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return yC()?8:ch.v(dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Sv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(qa()<=ee.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(qa()<=ee.DEBUG&&I("QueryEngine","Query:",Ks(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(qa()<=ee.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(n))):y.resolve())}ji(e,n){if(AS(n))return y.resolve(null);let i=Fn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Jy(n,null,"F"),i=Fn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=te(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,Jy(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return AS(n)||r.isEqual(H.min())?y.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?y.resolve(null):(qa()<=ee.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ks(n)),this.es(e,o,n,Sj(r,-1)).next(a=>a))})}Zi(e,n){let i=new mt(aA(e));return n.forEach((r,s)=>{Bh(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return qa()<=ee.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.zi.getDocumentsMatchingQuery(e,n,Vr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Rv=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Pe(le),this.rs=new Hi(s=>u0(s),d0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function v$(t,e,n,i){return new Rv(t,e,n,i)}function SA(t,e){return p(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=te();for(let l of r){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function w$(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),f=y.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(c,m)).next(v=>{let w=l.docVersions.get(m);ve(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=te();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function AA(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function E$(t,e){let n=G(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let h=r.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(St.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(v,w,D){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(h,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let c=li(),l=te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(b$(s,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(H.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=r,s))}function b$(t,e,n){let i=te(),r=te();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=li();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(H.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function I$(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function D$(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,y.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new ic(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Mv(t,e,n){return p(this,null,function*(){let i=G(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!gc(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function US(t,e,n){let i=G(t),r=H.min(),s=te();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let d=G(c),h=d.rs.get(u);return h!==void 0?y.resolve(d.ns.get(h)):d.Qr.getTargetData(l,u)}(i,o,Fn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:H.min(),n?s:te())).next(a=>(T$(i,Bj(e),a),{documents:a,hs:s})))}function T$(t,e,n){let i=t.ss.get(e)||H.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var vh=class{constructor(){this.activeTargetIds=qj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ov=class{constructor(){this.no=new vh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vh,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xv=class{io(e){}shutdown(){}};var wh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nh=null;function by(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}var C$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Nv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var gt="WebChannelConnection",Pv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get wo(){return!1}So(n,i,r,s,o){let a=by(),c=this.bo(n,i.toUriEncodedString());I("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,r).then(u=>(I("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,s,o,a){return this.So(n,i,r,s,o)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}bo(n,i){let r=C$[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let s=by();return new Promise((o,a)=>{let c=new mS;c.setWithCredentials(!0),c.listenOnce(pS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case eh.NO_ERROR:let u=c.getResponseJson();I(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case eh.TIMEOUT:I(gt,`RPC '${e}' ${s} timed out`),a(new T(_.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:let d=c.getStatus();if(I(gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(w){let D=w.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(D)>=0?D:_.UNKNOWN}(f.status);a(new T(m,f.message))}else a(new T(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(_.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{I(gt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);I(gt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=by(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hS(),a=fS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=s.join("");I(gt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,f=!1,m=new Nv({lo:w=>{f?I(gt,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(h||(I(gt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),I(gt,`RPC '${e}' stream ${r} sending:`,w),d.send(w))},ho:()=>d.close()}),v=(w,D,q)=>{w.listen(D,se=>{try{q(se)}catch(me){setTimeout(()=>{throw me},0)}})};return v(d,za.EventType.OPEN,()=>{f||I(gt,`RPC '${e}' stream ${r} transport opened.`)}),v(d,za.EventType.CLOSE,()=>{f||(f=!0,I(gt,`RPC '${e}' stream ${r} transport closed`),m.Vo())}),v(d,za.EventType.ERROR,w=>{f||(f=!0,eo(gt,`RPC '${e}' stream ${r} transport errored:`,w),m.Vo(new T(_.UNAVAILABLE,"The operation could not be completed")))}),v(d,za.EventType.MESSAGE,w=>{var D;if(!f){let q=w.data[0];ve(!!q);let se=q,me=se.error||((D=se[0])===null||D===void 0?void 0:D.error);if(me){I(gt,`RPC '${e}' stream ${r} received error:`,me);let ke=me.status,_e=function(Qi){let Hc=Be[Qi];if(Hc!==void 0)return vA(Hc)}(ke),Nt=me.message;_e===void 0&&(_e=_.INTERNAL,Nt="Unknown error status: "+ke+" with message "+me.message),f=!0,m.Vo(new T(_e,Nt)),d.close()}else I(gt,`RPC '${e}' stream ${r} received:`,q),m.mo(q)}}),v(a,gS.STAT_EVENT,w=>{w.stat===wy.PROXY?I(gt,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===wy.NOPROXY&&I(gt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}};function Iy(){return typeof document<"u"?document:null}function jh(t){return new ov(t,!0)}var Eh=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&I("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var bh=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Eh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new T(_.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kv=class extends bh{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=a$(this.serializer,e),i=function(s){if(!("targetChange"in s))return H.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?H.min():o.readTime?Vn(o.readTime):H.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=uv(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Qy(c)?{documents:u$(s,c)}:{query:d$(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wA(s,o.resumeToken);let l=av(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(H.min())>0){a.readTime=_h(s,o.snapshotVersion.toTimestamp());let l=av(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=f$(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=uv(this.serializer),n.removeTarget=e,this.t_(n)}},Fv=class extends bh{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=l$(e.writeResults,e.commitTime),i=Vn(e.commitTime);return this.listener.T_(i,n)}return ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=uv(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>c$(this.serializer,i))};this.t_(n)}};var Vv=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new T(_.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,cv(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(_.UNKNOWN,s.toString())})}vo(e,n,i,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,cv(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(_.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Lv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ln(n),this.g_=!1):I("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Uv=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{i.enqueueAndForget(()=>p(this,null,function*(){zr(this)&&(I("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let l=G(c);l.v_.add(4),yield mc(l),l.x_.set("Unknown"),l.v_.delete(4),yield $h(l)})}(this))}))}),this.x_=new Lv(i,r)}};function $h(t){return p(this,null,function*(){if(zr(t))for(let e of t.F_)yield e(!0)})}function mc(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function RA(t,e){let n=G(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),g0(n)?p0(n):po(n).Jo()&&f0(n,e))}function MA(t,e){let n=G(t),i=po(n);n.C_.delete(e),i.Jo()&&OA(n,e),n.C_.size===0&&(i.Jo()?i.Xo():zr(n)&&n.x_.set("Unknown"))}function f0(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(t).c_(e)}function OA(t,e){t.O_.Oe(e),po(t).l_(e)}function p0(t){t.O_=new sv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),po(t).start(),t.x_.p_()}function g0(t){return zr(t)&&!po(t).Ho()&&t.C_.size>0}function zr(t){return G(t).v_.size===0}function xA(t){t.O_=void 0}function S$(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{f0(t,e)})})}function A$(t,e){return p(this,null,function*(){xA(t),g0(t)?(t.x_.S_(e),p0(t)):t.x_.set("Unknown")})}function R$(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof gh&&e.state===2&&e.cause)try{yield function(r,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ih(t,i)}else if(e instanceof Zs?t.O_.$e(e):e instanceof ph?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(H.min()))try{let i=yield AA(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.C_.get(l);u&&s.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.C_.get(c);if(!u)return;s.C_.set(c,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),OA(s,c);let d=new ic(u.target,c,l,u.sequenceNumber);f0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){I("RemoteStore","Failed to raise snapshot:",i),yield Ih(t,i)}})}function Ih(t,e,n){return p(this,null,function*(){if(!gc(e))throw e;t.v_.add(1),yield mc(t),t.x_.set("Offline"),n||(n=()=>AA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield $h(t)}))})}function NA(t,e){return e().catch(n=>Ih(t,n,e))}function Hh(t){return p(this,null,function*(){let e=G(t),n=Gi(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;M$(e);)try{let r=yield I$(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,O$(e,r)}catch(r){yield Ih(e,r)}PA(e)&&kA(e)})}function M$(t){return zr(t)&&t.D_.length<10}function O$(t,e){t.D_.push(e);let n=Gi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function PA(t){return zr(t)&&!Gi(t).Ho()&&t.D_.length>0}function kA(t){Gi(t).start()}function x$(t){return p(this,null,function*(){Gi(t).d_()})}function N$(t){return p(this,null,function*(){let e=Gi(t);for(let n of t.D_)e.I_(n.mutations)})}function P$(t,e,n){return p(this,null,function*(){let i=t.D_.shift(),r=tv.from(i,e,n);yield NA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Hh(t)})}function k$(t,e){return p(this,null,function*(){e&&Gi(t).P_&&(yield function(i,r){return p(this,null,function*(){if(function(o){return Xj(o)&&o!==_.ABORTED}(r.code)){let s=i.D_.shift();Gi(i).Zo(),yield NA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Hh(i)}})}(t,e)),PA(t)&&kA(t)})}function BS(t,e){return p(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let i=zr(n);n.v_.add(3),yield mc(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield $h(n)})}function F$(t,e){return p(this,null,function*(){let n=G(t);e?(n.v_.delete(2),yield $h(n)):e||(n.v_.add(2),yield mc(n),n.x_.set("Unknown"))})}function po(t){return t.N_||(t.N_=function(n,i,r){let s=G(n);return s.R_(),new kv(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:S$.bind(null,t),To:A$.bind(null,t),u_:R$.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),g0(t)?p0(t):t.x_.set("Unknown")):(yield t.N_.stop(),xA(t))}))),t.N_}function Gi(t){return t.B_||(t.B_=function(n,i,r){let s=G(n);return s.R_(),new Fv(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:x$.bind(null,t),To:k$.bind(null,t),E_:N$.bind(null,t),T_:P$.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.B_.Zo(),yield Hh(t)):(yield t.B_.stop(),t.D_.length>0&&(I("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var Bv=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function m0(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),gc(t))return new T(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Dh=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||P.comparator(n.key,i.key):(n,i)=>P.comparator(n.key,i.key),this.keyedMap=Wa(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Th=class{constructor(){this.L_=new Pe(P.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):F():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},uo=class t{constructor(e,n,i,r,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Dh.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var jv=class{constructor(){this.q_=void 0,this.Q_=[]}},$v=class{constructor(){this.queries=new Hi(e=>oA(e),Uh),this.onlineState="Unknown",this.K_=new Set}};function _0(t,e){return p(this,null,function*(){let n=G(t),i=e.query,r=!1,s=n.queries.get(i);if(s||(r=!0,s=new jv),r)try{s.q_=yield n.onListen(i)}catch(o){let a=m0(o,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&v0(n)})}function y0(t,e){return p(this,null,function*(){let n=G(t),i=e.query,r=!1,s=n.queries.get(i);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),r=s.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function V$(t,e){let n=G(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(r)&&(i=!0);o.q_=r}}i&&v0(n)}function L$(t,e,n){let i=G(t),r=i.queries.get(e);if(r)for(let s of r.Q_)s.onError(n);i.queries.delete(e)}function v0(t){t.K_.forEach(e=>{e.next()})}var oc=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new uo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Ch=class{constructor(e){this.key=e}},Sh=class{constructor(e){this.key=e}},Hv=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=te(),this.mutatedKeys=te(),this.ua=aA(e),this.ca=new Dh(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new Th,r=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let h=r.get(u),f=Bh(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),w=!1;h&&f?h.data.isEqual(f.data)?m!==v&&(i.track({type:3,doc:f}),w=!0):this.Ia(h,f)||(i.track({type:2,doc:f}),w=!0,(c&&this.ua(f,c)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),w=!0):h&&!f&&(i.track({type:1,doc:h}),w=!0,(c||l)&&(a=!0)),w&&(f?(o=o.add(f),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{ca:o,Pa:i,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((u,d)=>function(f,m){let v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return v(f)-v(m)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(i),r=r!=null&&r;let a=n&&!r?this.Ea():[],c=this.aa.size===0&&this.current&&!r?1:0,l=c!==this._a;return this._a=c,o.length!==0||l?{snapshot:new uo(this.query,e.ca,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Th,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=te(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Sh(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Ch(i))}),n}Ra(e){this.oa=e.hs,this.aa=te();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return uo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},Gv=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},zv=class{constructor(e){this.key=e,this.ma=!1}},qv=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Hi(a=>oA(a),Uh),this.pa=new Map,this.ya=new Set,this.wa=new Pe(P.comparator),this.Sa=new Map,this.ba=new sc,this.Da={},this.Ca=new Map,this.va=rc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function U$(t,e){return p(this,null,function*(){let n=Q$(t),i,r,s=n.ga.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Va();else{let o=yield D$(n.localStore,Fn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield B$(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&RA(n.remoteStore,o)}return r})}function B$(t,e,n,i,r){return p(this,null,function*(){t.Ma=(d,h,f)=>function(v,w,D,q){return p(this,null,function*(){let se=w.view.ha(D);se.Xi&&(se=yield US(v.localStore,w.query,!1).then(({documents:Nt})=>w.view.ha(Nt,se)));let me=q&&q.targetChanges.get(w.targetId),ke=q&&q.targetMismatches.get(w.targetId)!=null,_e=w.view.applyChanges(se,v.isPrimaryClient,me,ke);return $S(v,w.targetId,_e.da),_e.snapshot})}(t,d,h,f);let s=yield US(t.localStore,e,!0),o=new Hv(e,s.hs),a=o.ha(s.documents),c=nc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);$S(t,n,l.da);let u=new Gv(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot})}function j$(t,e){return p(this,null,function*(){let n=G(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(s=>!Uh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Mv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),MA(n.remoteStore,i.targetId),Wv(n,i.targetId)}).catch(pc))):(Wv(n,i.targetId),yield Mv(n.localStore,i.targetId,!0))})}function $$(t,e,n){return p(this,null,function*(){let i=Y$(t);try{let r=yield function(o,a){let c=G(o),l=ot.now(),u=a.reduce((f,m)=>f.add(m.key),te()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=li(),v=te();return c.os.getEntries(f,u).next(w=>{m=w,m.forEach((D,q)=>{q.isValidDocument()||(v=v.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;let D=[];for(let q of a){let se=Zj(q,d.get(q.key).overlayedDocument);se!=null&&D.push(new Bn(q.key,se,XS(se.value.mapValue),ci.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,D,a)}).next(w=>{h=w;let D=w.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(f,w.batchId,D)})}).then(()=>({batchId:h.batchId,changes:lA(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.Da[o.currentUser.toKey()];l||(l=new Pe(le)),l=l.insert(a,c),o.Da[o.currentUser.toKey()]=l}(i,r.batchId,n),yield _c(i,r.changes),yield Hh(i.remoteStore)}catch(r){let s=m0(r,"Failed to persist write");n.reject(s)}})}function FA(t,e){return p(this,null,function*(){let n=G(t);try{let i=yield E$(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Sa.get(s);o&&(ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ma=!0:r.modifiedDocuments.size>0?ve(o.ma):r.removedDocuments.size>0&&(ve(o.ma),o.ma=!1))}),yield _c(n,i,e)}catch(i){yield pc(i)}})}function jS(t,e,n){let i=G(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=G(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.U_(a)&&(l=!0)}),l&&v0(c)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function H$(t,e,n){return p(this,null,function*(){let i=G(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),s=r&&r.key;if(s){let o=new Pe(P.comparator);o=o.insert(s,gn.newNoDocument(s,H.min()));let a=te().add(s),c=new fh(H.min(),new Map,new Pe(le),o,a);yield FA(i,c),i.wa=i.wa.remove(s),i.Sa.delete(e),w0(i)}else yield Mv(i.localStore,e,!1).then(()=>Wv(i,e,n)).catch(pc)})}function G$(t,e){return p(this,null,function*(){let n=G(t),i=e.batch.batchId;try{let r=yield w$(n.localStore,e);LA(n,i,null),VA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield _c(n,r)}catch(r){yield pc(r)}})}function z$(t,e,n){return p(this,null,function*(){let i=G(t);try{let r=yield function(o,a){let c=G(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(ve(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);LA(i,e,n),VA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield _c(i,r)}catch(r){yield pc(r)}})}function VA(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function LA(t,e,n){let i=G(t),r=i.Da[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function Wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||UA(t,i)})}function UA(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(MA(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),w0(t))}function $S(t,e,n){for(let i of n)i instanceof Ch?(t.ba.addReference(i.key,e),q$(t,i)):i instanceof Sh?(I("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||UA(t,i.key)):F()}function q$(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(I("SyncEngine","New document in limbo: "+n),t.ya.add(i),w0(t))}function w0(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new P(Re.fromString(e)),i=t.va.next();t.Sa.set(i,new zv(n)),t.wa=t.wa.insert(n,i),RA(t.remoteStore,new ic(Fn(Lh(n.path)),i,"TargetPurposeLimboResolution",YS._e))}}function _c(t,e,n){return p(this,null,function*(){let i=G(t),r=[],s=[],o=[];i.ga.isEmpty()||(i.ga.forEach((a,c)=>{o.push(i.Ma(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=Cv.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),i.fa.u_(r),yield function(c,l){return p(this,null,function*(){let u=G(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(l,h=>y.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>y.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!gc(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=u.ns.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,v)}}})}(i.localStore,s))})}function W$(t,e){return p(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let i=yield SA(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new T(_.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield _c(n,i.us)}})}function K$(t,e){let n=G(t),i=n.Sa.get(e);if(i&&i.ma)return te().add(i.key);{let r=te(),s=n.pa.get(e);if(!s)return r;for(let o of s){let a=n.ga.get(o);r=r.unionWith(a.view.la)}return r}}function Q$(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H$.bind(null,e),e.fa.u_=V$.bind(null,e.eventManager),e.fa.xa=L$.bind(null,e.eventManager),e}function Y$(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z$.bind(null,e),e}var Ah=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return v$(this.persistence,new Av,e.initialUser,this.serializer)}createPersistence(e){return new Iv(Tv.Hr,this.serializer)}createSharedClientState(e){return new Ov}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Kv=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W$.bind(null,this.syncEngine),yield F$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new $v}()}createDatastore(e){let n=jh(e.databaseInfo.databaseId),i=function(s){return new Pv(s)}(e.databaseInfo);return function(s,o,a,c){return new Vv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Uv(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jS(this.syncEngine,n,0),function(){return wh.D()?new wh:new xv}())}createSyncEngine(e,n){return function(r,s,o,a,c,l,u){let d=new qv(r,s,o,a,c,l);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(i){return p(this,null,function*(){let r=G(i);I("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield mc(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var ac=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Qv=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Xe.UNAUTHENTICATED,this.clientId=oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>p(this,null,function*(){I("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=m0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Dy(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>p(this,null,function*(){i.isEqual(r)||(yield SA(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function HS(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Z$(t);I("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>BS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>BS(e.remoteStore,r)),t._onlineComponents=e})}function J$(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Z$(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!J$(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),yield Dy(t,new Ah)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield Dy(t,new Ah);return t._offlineComponents})}function BA(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield HS(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield HS(t,new Kv))),t._onlineComponents})}function X$(t){return BA(t).then(e=>e.syncEngine)}function Rh(t){return p(this,null,function*(){let e=yield BA(t),n=e.eventManager;return n.onListen=U$.bind(null,e.syncEngine),n.onUnlisten=j$.bind(null,e.syncEngine),n})}function eH(t,e,n={}){let i=new Xt;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,l){let u=new ac({next:h=>{o.enqueueAndForget(()=>y0(s,d));let f=h.docs.has(a);!f&&h.fromCache?l.reject(new T(_.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?l.reject(new T(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new oc(Lh(a.path),u,{includeMetadataChanges:!0,Z_:!0});return _0(s,d)}(yield Rh(t),t.asyncQueue,e,n,i)})),i.promise}function tH(t,e,n={}){let i=new Xt;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,l){let u=new ac({next:h=>{o.enqueueAndForget(()=>y0(s,d)),h.fromCache&&c.source==="server"?l.reject(new T(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new oc(a,u,{includeMetadataChanges:!0,Z_:!0});return _0(s,d)}(yield Rh(t),t.asyncQueue,e,n,i)})),i.promise}function jA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var GS=new Map;function $A(t,e,n){if(!n)throw new T(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nH(t,e,n,i){if(e===!0&&i===!0)throw new T(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zS(t){if(!P.isDocumentKey(t))throw new T(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qS(t){if(P.isDocumentKey(t))throw new T(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function en(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Gh(t);throw new T(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Mh=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new T(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new T(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ho=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ty;switch(i.type){case"firstParty":return new Ry(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new T(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=GS.get(n);i&&(I("ComponentProvider","Removing Datastore"),GS.delete(n),i.terminate())}(this),Promise.resolve()}};function HA(t,e,n,i={}){var r;let s=(t=en(t,ho))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Xe.MOCK_USER;else{a=pC(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new T(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Xe(l)}t._authCredentials=new Cy(new sh(a,c))}}var Hr=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ct=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Bi=class t extends Hr{constructor(e,n,i){super(e,n,Lh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new P(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GA(t,e,...n){if(t=ht(t),$A("collection","path",e),t instanceof ho){let i=Re.fromString(e,...n);return qS(i),new Bi(t,null,i)}{if(!(t instanceof Ct||t instanceof Bi))throw new T(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Re.fromString(e,...n));return qS(i),new Bi(t.firestore,null,i)}}function E0(t,e,...n){if(t=ht(t),arguments.length===1&&(e=oh.newId()),$A("doc","path",e),t instanceof ho){let i=Re.fromString(e,...n);return zS(i),new Ct(t,null,new P(i))}{if(!(t instanceof Ct||t instanceof Bi))throw new T(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Re.fromString(e,...n));return zS(i),new Ct(t.firestore,t instanceof Bi?t.converter:null,new P(i))}}var Yv=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Eh(this,"async_queue_retry"),this._u=()=>{let n=Iy();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Iy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Iy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Xt;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!gc(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ln("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=Bv.createAndSchedule(this,e,n,i,s=>this.lu(s));return this.nu.push(r),r}au(){this.ru&&F()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function WS(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var jn=class extends ho{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Yv}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qA(this),this._firestoreClient.terminate()}};function zA(t,e){let n=typeof t=="object"?t:ma(),i=typeof t=="string"?t:e||"(default)",r=f_(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=hC("firestore");s&&HA(r,...s)}return r}function zh(t){return t._firestoreClient||qA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qA(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,l,u){return new Vy(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Qv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(St.fromBase64String(e))}catch(n){throw new T(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var At=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lc=class{constructor(e){this._methodName=e}};var uc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}};var iH=/^__.*__$/,Jv=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new $r(e,this.data,n,this.fieldTransforms)}},Oh=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function WA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var Zv=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return xh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(WA(this.du)&&iH.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},Xv=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||jh(e)}Su(e,n,i,r=!1){return new Zv({du:e,methodName:n,wu:i,path:$t.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function b0(t){let e=t._freezeSettings(),n=jh(t._databaseId);return new Xv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rH(t,e,n,i,r,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,r);I0("Data must be an object, but it was:",o,i);let a=KA(i,o),c,l;if(s.merge)c=new Zt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=e0(e,d,n);if(!o.contains(h))throw new T(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YA(u,h)||u.push(h)}c=new Zt(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Jv(new jt(a),c,l)}var dc=class t extends lc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function sH(t,e,n,i){let r=t.Su(1,e,n);I0("Data must be an object, but it was:",r,i);let s=[],o=jt.empty();Gr(i,(c,l)=>{let u=D0(e,c,n);l=ht(l);let d=r.fu(u);if(l instanceof dc)s.push(u);else{let h=yc(l,d);h!=null&&(s.push(u),o.set(u,h))}});let a=new Zt(s);return new Oh(o,a,r.fieldTransforms)}function oH(t,e,n,i,r,s){let o=t.Su(1,e,n),a=[e0(e,i,n)],c=[r];if(s.length%2!=0)throw new T(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(e0(e,s[h])),c.push(s[h+1]);let l=[],u=jt.empty();for(let h=a.length-1;h>=0;--h)if(!YA(l,a[h])){let f=a[h],m=c[h];m=ht(m);let v=o.fu(f);if(m instanceof dc)l.push(f);else{let w=yc(m,v);w!=null&&(l.push(f),u.set(f,w))}}let d=new Zt(l);return new Oh(u,d,o.fieldTransforms)}function aH(t,e,n,i=!1){return yc(n,t.Su(i?4:3,e))}function yc(t,e){if(QA(t=ht(t)))return I0("Unsupported field value:",e,t),KA(t,e);if(t instanceof lc)return function(i,r){if(!WA(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=yc(a,r.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Wj(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=ot.fromDate(i);return{timestampValue:_h(r.serializer,s)}}if(i instanceof ot){let s=new ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_h(r.serializer,s)}}if(i instanceof uc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cc)return{bytesValue:wA(r.serializer,i._byteString)};if(i instanceof Ct){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h0(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${Gh(i)}`)}(t,e)}function KA(t,e){let n={};return JS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,(i,r)=>{let s=yc(r,e.Ru(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function QA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof uc||t instanceof cc||t instanceof Ct||t instanceof lc)}function I0(t,e,n){if(!QA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Gh(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function e0(t,e,n){if((e=ht(e))instanceof At)return e._internalPath;if(typeof e=="string")return D0(t,e);throw xh("Field path arguments must be of type string or ",t,!1,void 0,n)}var cH=new RegExp("[~\\*/\\[\\]]");function D0(t,e,n){if(e.search(cH)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new At(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xh(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new T(_.INVALID_ARGUMENT,a+t+c)}function YA(t,e){return t.some(n=>n.isEqual(e))}var Nh=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new t0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},t0=class extends Nh{data(){return super.data()}};function T0(t,e){return typeof e=="string"?D0(t,e):e instanceof At?e._internalPath:e._delegate._internalPath}function JA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new T(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hc=class{},n0=class extends hc{};function ZA(t,e,...n){let i=[];e instanceof hc&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof i0).length,a=s.filter(c=>c instanceof Ph).length;if(o>1||o>0&&a>0)throw new T(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Ph=class t extends n0{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return XA(e._query,n),new Hr(e.firestore,e.converter,Yy(e._query,n))}_parse(e){let n=b0(e.firestore);return function(s,o,a,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new T(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){QS(d,u);let f=[];for(let m of d)f.push(KS(c,s,m));h={arrayValue:{values:f}}}else h=KS(c,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||QS(d,u),h=aH(a,o,d,u==="in"||u==="not-in");return $e.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function vc(t,e,n){let i=e,r=T0("where",t);return Ph._create(r,i,n)}var i0=class t extends hc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:mn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)XA(o,c),o=Yy(o,c)}(e._query,n),new Hr(e.firestore,e.converter,Yy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function KS(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new T(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sA(e)&&n.indexOf("/")!==-1)throw new T(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Re.fromString(n));if(!P.isDocumentKey(i))throw new T(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bS(t,new P(i))}if(n instanceof Ct)return bS(t,n._key);throw new T(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function QS(t,e){if(!Array.isArray(t)||t.length===0)throw new T(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new T(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new T(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var r0=class{convertValue(e,n="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Gr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new uc(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=c0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){let n=ji(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Re.fromString(e);ve(CA(i));let r=new dh(i.get(1),i.get(3)),s=new P(i.popFirst(5));return r.isEqual(n)||Ln(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function lH(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Pr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kh=class extends Nh{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Xs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(T0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Xs=class extends kh{data(e={}){return super.data(e)}},Fh=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Pr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Xs(this._firestore,this._userDataWriter,i.key,i,new Pr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Xs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Pr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Xs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Pr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:uH(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function eR(t){t=en(t,Ct);let e=en(t.firestore,jn);return eH(zh(e),t._key).then(n=>oR(e,t,n))}var fc=class extends r0{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}};function tR(t){t=en(t,Hr);let e=en(t.firestore,jn),n=zh(e),i=new fc(e);return JA(t._query),tH(n,t._query).then(r=>new Fh(e,i,t,r))}function nR(t,e,n,...i){t=en(t,Ct);let r=en(t.firestore,jn),s=b0(r),o;return o=typeof(e=ht(e))=="string"||e instanceof At?oH(s,"updateDoc",t._key,e,n,i):sH(s,"updateDoc",t._key,e),C0(r,[o.toMutation(t._key,ci.exists(!0))])}function iR(t){return C0(en(t.firestore,jn),[new tc(t._key,ci.none())])}function rR(t,e){let n=en(t.firestore,jn),i=E0(t),r=lH(t.converter,e);return C0(n,[rH(b0(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then(()=>i)}function sR(t,...e){var n,i,r;t=ht(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||WS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(WS(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let c,l,u;if(t instanceof Ct)l=en(t.firestore,jn),u=Lh(t._key.path),c={next:d=>{e[o]&&e[o](oR(l,t,d))},error:e[o+1],complete:e[o+2]};else{let d=en(t,Hr);l=en(d.firestore,jn),u=d._query;let h=new fc(l);c={next:f=>{e[o]&&e[o](new Fh(l,h,d,f))},error:e[o+1],complete:e[o+2]},JA(t._query)}return function(h,f,m,v){let w=new ac(v),D=new oc(f,w,m);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return _0(yield Rh(h),D)})),()=>{w.La(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return y0(yield Rh(h),D)}))}}(zh(l),u,a,c)}function C0(t,e){return function(i,r){let s=new Xt;return i.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return $$(yield X$(i),r,s)})),s.promise}(zh(t),e)}function oR(t,e,n){let i=n.docs.get(e._key),r=new fc(t);return new kh(t,r,e._key,i,new Pr(n.hasPendingWrites,n.fromCache),e.converter)}function aR(){return new dc("deleteField")}(function(e,n=!0){(function(r){fo=r})(Us),Fi(new Yt("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new jn(new Sy(i.getProvider("auth-internal")),new Oy(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new T(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(l.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ye(yS,"4.4.1",e),Ye(yS,"4.4.1","esm2017")})();var _n=class{constructor(e){return e}},cR="firestore",S0=class{constructor(){return ya(cR)}};var A0=new R("angularfire2.firestore-instances");function dH(t,e){let n=m_(cR,t,e);return n&&new _n(n)}function hH(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new _n(i)}}var fH={provide:S0,deps:[[new qt,A0]]},pH={provide:_n,useFactory:dH,deps:[[new qt,A0],Ir]},gH=(()=>{class t{constructor(){Ye("angularfire",js.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Y({type:t});static \u0275inj=Q({providers:[pH,fH]})}return t})();function lR(t,...e){return{ngModule:gH,providers:[{provide:A0,useFactory:hH(t),multi:!0,deps:[$,Ie,va,wa,[new qt,Td],[new qt,_a],...e]}]}}var qh=Dt(rR,!0);var go=Dt(GA,!0);var Wh=Dt(iR,!0),Kh=Dt(aR,!0);var yn=Dt(E0,!0);var mo=Dt(eR,!0);var R0=Dt(tR,!0);var uR=Dt(zA,!0);var dR=Dt(sR,!0);var M0=Dt(ZA,!0);var wc=Dt(nR,!0);var z="primary",kc=Symbol("RouteTitle"),k0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Eo(t){return new k0(t)}function mH(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function _H(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$n(t[n],e[n]))return!1;return!0}function $n(t,e){let n=t?F0(t):void 0,i=e?F0(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!wR(t[r],e[r]))return!1;return!0}function F0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function wR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function ER(t){return t.length>0?t[t.length-1]:null}function Ki(t){return Nf(t)?t:pr(t)?Ee(Promise.resolve(t)):x(t)}var yH={exact:IR,subset:DR},bR={exact:vH,subset:wH,ignored:()=>!0};function hR(t,e,n){return yH[n.paths](t.root,e.root,n.matrixParams)&&bR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function vH(t,e){return $n(t,e)}function IR(t,e,n){if(!Wr(t.segments,e.segments)||!Jh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!IR(t.children[i],e.children[i],n))return!1;return!0}function wH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wR(t[n],e[n]))}function DR(t,e,n){return TR(t,e,e.segments,n)}function TR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Wr(r,n)||e.hasChildren()||!Jh(r,n,i))}else if(t.segments.length===n.length){if(!Wr(t.segments,n)||!Jh(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!DR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Wr(t.segments,r)||!Jh(t.segments,r,i)||!t.children[z]?!1:TR(t.children[z],e,s,i)}}function Jh(t,e,n){return e.every((i,r)=>bR[n](t[r].parameters,i.parameters))}var zi=class{constructor(e=new de([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){return IH.serialize(this)}},de=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zh(this)}},qr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Eo(this.parameters),this._parameterMap}toString(){return SR(this)}};function EH(t,e){return Wr(t,e)&&t.every((n,i)=>$n(n.parameters,e[i].parameters))}function Wr(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function bH(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===z&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==z&&(n=n.concat(e(r,i)))}),n}var Fc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>new Sc,providedIn:"root"});let t=e;return t})(),Sc=class{parse(e){let n=new L0(e);return new zi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ec(e.root,!0)}`,i=CH(e.queryParams),r=typeof e.fragment=="string"?`#${DH(e.fragment)}`:"";return`${n}${i}${r}`}},IH=new Sc;function Zh(t){return t.segments.map(e=>SR(e)).join("/")}function Ec(t,e){if(!t.hasChildren())return Zh(t);if(e){let n=t.children[z]?Ec(t.children[z],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==z&&i.push(`${r}:${Ec(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=bH(t,(i,r)=>r===z?[Ec(t.children[z],!1)]:[`${r}:${Ec(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${Zh(t)}/${n[0]}`:`${Zh(t)}/(${n.join("//")})`}}function CR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qh(t){return CR(t).replace(/%3B/gi,";")}function DH(t){return encodeURI(t)}function V0(t){return CR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xh(t){return decodeURIComponent(t)}function fR(t){return Xh(t.replace(/\+/g,"%20"))}function SR(t){return`${V0(t.path)}${TH(t.parameters)}`}function TH(t){return Object.entries(t).map(([e,n])=>`;${V0(e)}=${V0(n)}`).join("")}function CH(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Qh(n)}=${Qh(r)}`).join("&"):`${Qh(n)}=${Qh(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var SH=/^[^\/()?;#]+/;function O0(t){let e=t.match(SH);return e?e[0]:""}var AH=/^[^\/()?;=#]+/;function RH(t){let e=t.match(AH);return e?e[0]:""}var MH=/^[^=?&#]+/;function OH(t){let e=t.match(MH);return e?e[0]:""}var xH=/^[^&#]+/;function NH(t){let e=t.match(xH);return e?e[0]:""}var L0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[z]=new de(e,n)),i}parseSegment(){let e=O0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new qr(Xh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=RH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=O0(this.remaining);r&&(i=r,this.capture(i))}e[Xh(n)]=Xh(i)}parseQueryParam(e){let n=OH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=NH(this.remaining);o&&(i=o,this.capture(i))}let r=fR(n),s=fR(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=O0(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new O(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[z]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function AR(t){return t.segments.length>0?new de([],{[z]:t}):t}function RR(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=RR(r);if(i===z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new de(t.segments,e);return PH(n)}function PH(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new de(t.segments.concat(e.segments),e.children)}return t}function bo(t){return t instanceof zi}function kH(t,e,n=null,i=null){let r=MR(t);return OR(r,e,n,i)}function MR(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new de(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=AR(i);return e??r}function OR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return x0(r,r,r,n,i);let s=FH(e);if(s.toRoot())return x0(r,r,new de([],{}),n,i);let o=VH(s,r,t),a=o.processChildren?Dc(o.segmentGroup,o.index,s.commands):NR(o.segmentGroup,o.index,s.commands);return x0(r,o.segmentGroup,a,n,i)}function ef(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ac(t){return typeof t=="object"&&t!=null&&t.outlets}function x0(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=xR(t,e,n);let a=AR(RR(o));return new zi(a,s,r)}function xR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=xR(s,e,n)}),new de(t.segments,i)}var tf=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&ef(i[0]))throw new O(4003,!1);let r=i.find(Ac);if(r&&r!==ER(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tf(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new tf(n,e,i)}var vo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function VH(t,e,n){if(t.isAbsolute)return new vo(e,!0,0);if(!n)return new vo(e,!1,NaN);if(n.parent===null)return new vo(n,!0,0);let i=ef(t.commands[0])?0:1,r=n.segments.length-1+i;return LH(n,r,t.numberOfDoubleDots)}function LH(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new vo(i,!1,r-s)}function UH(t){return Ac(t[0])?t[0].outlets:{[z]:t}}function NR(t,e,n){if(t??=new de([],{}),t.segments.length===0&&t.hasChildren())return Dc(t,e,n);let i=BH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new de(t.segments.slice(0,i.pathIndex),{});return s.children[z]=new de(t.segments.slice(i.pathIndex),t.children),Dc(s,0,r)}else return i.match&&r.length===0?new de(t.segments,{}):i.match&&!t.hasChildren()?U0(t,e,n):i.match?Dc(t,0,r):U0(t,e,n)}function Dc(t,e,n){if(n.length===0)return new de(t.segments,{});{let i=UH(n),r={};if(Object.keys(i).some(s=>s!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let s=Dc(t.children[z],e,n);return new de(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=NR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new de(t.segments,r)}}function BH(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Ac(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!gR(c,l,o))return s;i+=2}else{if(!gR(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function U0(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Ac(s)){let c=jH(s.outlets);return new de(i,c)}if(r===0&&ef(n[0])){let c=t.segments[e];i.push(new qr(c.path,pR(n[0]))),r++;continue}let o=Ac(s)?s.outlets[z]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&ef(a)?(i.push(new qr(o,pR(a))),r+=2):(i.push(new qr(o,{})),r++)}return new de(i,{})}function jH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=U0(new de([],{}),0,i))}),e}function pR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function gR(t,e,n){return t==n.path&&$n(e,n.parameters)}var Tc="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),nn=class{constructor(e,n){this.id=e,this.url=n}},Io=class extends nn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hn=class extends nn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tn||{}),nf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(nf||{}),qi=class extends nn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wi=class extends nn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=et.NavigationSkipped}},Rc=class extends nn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rf=class extends nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B0=class extends nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j0=class extends nn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$0=class extends nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},H0=class extends nn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},G0=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},z0=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},q0=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W0=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K0=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Q0=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sf=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Mc=class{},Oc=class{constructor(e){this.url=e}};var Y0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vc,this.attachRef=null}},Vc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Y0,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),of=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=J0(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=J0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Z0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Z0(e,this._root).map(n=>n.value)}};function J0(t,e){if(t===e.value)return e;for(let n of e.children){let i=J0(t,n);if(i)return i}return null}function Z0(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Z0(t,n);if(i.length)return i.unshift(e),i}return[]}var Ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function yo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var af=class extends of{constructor(e,n){super(e),this.snapshot=n,cw(this,e)}toString(){return this.snapshot.toString()}};function PR(t){let e=$H(t),n=new We([new qr("",{})]),i=new We({}),r=new We({}),s=new We({}),o=new We(""),a=new Gt(n,i,s,o,r,z,t,e.root);return a.snapshot=e.root,new af(new Ht(a,[]),e)}function $H(t){let e={},n={},i={},r="",s=new xc([],e,i,r,n,z,t,null,{});return new cf("",new Ht(s,[]))}var Gt=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(l=>l[kc]))??x(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>Eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>Eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function aw(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),r?.data),t._resolvedData)}:i={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},r&&FR(r)&&(i.resolve[kc]=r.title),i}var xc=class{get title(){return this.data?.[kc]}constructor(e,n,i,r,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cf=class extends of{constructor(e,n){super(n),this.url=e,cw(this,n)}toString(){return kR(this._root)}};function cw(t,e){e.value._routerState=t,e.children.forEach(n=>cw(t,n))}function kR(t){let e=t.children.length>0?` { ${t.children.map(kR).join(", ")} } `:"";return`${t.value}${e}`}function N0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$n(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$n(e.params,n.params)||t.paramsSubject.next(n.params),_H(e.url,n.url)||t.urlSubject.next(n.url),$n(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function X0(t,e){let n=$n(t.params,e.params)&&EH(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||X0(t.parent,e.parent))}function FR(t){return typeof t.title=="string"||t.title===null}var lw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=g(Vc),this.location=g(Sn),this.changeDetector=g(Mi),this.environmentInjector=g(ut),this.inputBinder=g(ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new ew(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dn]});let t=e;return t})(),ew=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Gt?this.route:e===Vc?this.childContexts:this.parent.get(e,n)}},ff=new R(""),mR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=as([r.queryParams,r.params,r.data]).pipe(yt(([o,a,c],l)=>(c=E(E(E({},o),a),c),l===0?x(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=CD(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function HH(t,e,n){let i=Nc(t,e._root,n?n._root:void 0);return new af(i,e)}function Nc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=GH(t,e,n);return new Ht(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Nc(t,a)),o}}let i=zH(e.value),r=e.children.map(s=>Nc(t,s));return new Ht(i,r)}}function GH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Nc(t,i,r);return Nc(t,i)})}function zH(t){return new Gt(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var VR="ngNavigationCancelingError";function LR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=UR(!1,tn.Redirect,e);return r.url=n,r.navigationBehaviorOptions=i,r}function UR(t,e,n){let i=new Error("NavigationCancelingError: "+(t||""));return i[VR]=!0,i.cancellationCode=e,n&&(i.url=n),i}function qH(t){return BR(t)&&bo(t.url)}function BR(t){return t&&t[VR]}var WH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[gr],decls:1,vars:0,template:function(r,s){r&1&&ue(0,"router-outlet")},dependencies:[lw],encapsulation:2});let t=e;return t})();function KH(t,e){return t.providers&&!t._injector&&(t._injector=Au(t.providers,e,`Route: ${t.path}`)),t._injector??e}function uw(t){let e=t.children&&t.children.map(uw),n=e?oe(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=WH),n}function Gn(t){return t.outlet||z}function QH(t,e){let n=t.filter(i=>Gn(i)===e);return n.push(...t.filter(i=>Gn(i)!==e)),n}function Lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var YH=(t,e,n,i)=>W(r=>(new tw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),tw=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),N0(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=yo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=yo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=yo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=yo(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Q0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new W0(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(N0(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),N0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Lc(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},lf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wo=class{constructor(e,n){this.component=e,this.route=n}};function JH(t,e,n){let i=t._root,r=e?e._root:null;return bc(i,r,n,[i.value])}function ZH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function To(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!jE(t)?t:e.get(t):i}function bc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=yo(e);return t.children.forEach(o=>{XH(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Cc(a,n.getContext(o),r)),r}function XH(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=e3(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new lf(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?bc(t,e,a?a.children:null,i,r):bc(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new wo(a.outlet.component,o))}else o&&Cc(e,a,r),r.canActivateChecks.push(new lf(i)),s.component?bc(t,null,a?a.children:null,i,r):bc(t,null,n,i,r);return r}function e3(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wr(t.url,e.url)||!$n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!X0(t,e)||!$n(t.queryParams,e.queryParams);case"paramsChange":default:return!X0(t,e)}}function Cc(t,e,n){let i=yo(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Cc(o,e.children.getContext(s),n):Cc(o,null,n):Cc(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new wo(e.outlet.component,r)):n.canDeactivateChecks.push(new wo(null,r)):n.canDeactivateChecks.push(new wo(null,r))}function Uc(t){return typeof t=="function"}function t3(t){return typeof t=="boolean"}function n3(t){return t&&Uc(t.canLoad)}function i3(t){return t&&Uc(t.canActivate)}function r3(t){return t&&Uc(t.canActivateChild)}function s3(t){return t&&Uc(t.canDeactivate)}function o3(t){return t&&Uc(t.canMatch)}function jR(t){return t instanceof qn||t?.name==="EmptyError"}var Yh=Symbol("INITIAL_VALUE");function Do(){return yt(t=>as(t.map(e=>e.pipe(ct(1),ml(Yh)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===Yh)return Yh;if(n===!1||n instanceof zi)return n}return!0}),He(e=>e!==Yh),ct(1)))}function a3(t,e){return Te(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?x(oe(E({},n),{guardsResult:!0})):c3(o,i,r,t).pipe(Te(a=>a&&t3(a)?l3(i,s,t,e):x(a)),W(a=>oe(E({},n),{guardsResult:a})))})}function c3(t,e,n,i){return Ee(t).pipe(Te(r=>p3(r.component,r.route,n,e,i)),sn(r=>r!==!0,!0))}function l3(t,e,n,i){return Ee(e).pipe(_i(r=>gi(d3(r.route.parent,i),u3(r.route,i),f3(t,r.path,n),h3(t,r.route,n))),sn(r=>r!==!0,!0))}function u3(t,e){return t!==null&&e&&e(new K0(t)),x(!0)}function d3(t,e){return t!==null&&e&&e(new q0(t)),x(!0)}function h3(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return x(!0);let r=i.map(s=>fl(()=>{let o=Lc(e)??n,a=To(s,o),c=i3(a)?a.canActivate(e,t):Xn(o,()=>a(e,t));return Ki(c).pipe(sn())}));return x(r).pipe(Do())}function f3(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ZH(o)).filter(o=>o!==null).map(o=>fl(()=>{let a=o.guards.map(c=>{let l=Lc(o.node)??n,u=To(c,l),d=r3(u)?u.canActivateChild(i,t):Xn(l,()=>u(i,t));return Ki(d).pipe(sn())});return x(a).pipe(Do())}));return x(s).pipe(Do())}function p3(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return x(!0);let o=s.map(a=>{let c=Lc(e)??r,l=To(a,c),u=s3(l)?l.canDeactivate(t,e,n,i):Xn(c,()=>l(t,e,n,i));return Ki(u).pipe(sn())});return x(o).pipe(Do())}function g3(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return x(!0);let s=r.map(o=>{let a=To(o,t),c=n3(a)?a.canLoad(e,n):Xn(t,()=>a(e,n));return Ki(c)});return x(s).pipe(Do(),$R(i))}function $R(t){return Tf(be(e=>{if(bo(e))throw LR(t,e)}),W(e=>e===!0))}function m3(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return x(!0);let s=r.map(o=>{let a=To(o,t),c=o3(a)?a.canMatch(e,n):Xn(t,()=>a(e,n));return Ki(c)});return x(s).pipe(Do(),$R(i))}var Pc=class{constructor(e){this.segmentGroup=e||null}},uf=class extends Error{constructor(e){super(),this.urlTree=e}};function _o(t){return ss(new Pc(t))}function _3(t){return ss(new O(4e3,!1))}function y3(t){return ss(UR(!1,tn.GuardRejected))}var nw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return x(i);if(r.numberOfChildren>1||!r.children[z])return _3(e.redirectTo);r=r.children[z]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new uf(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new zi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new de(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},iw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v3(t,e,n,i,r){let s=dw(t,e,n);return s.matched?(i=KH(e,i),m3(i,e,n,r).pipe(W(o=>o===!0?s:E({},iw)))):x(s)}function dw(t,e,n){if(e.path==="**")return w3(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},iw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||mH)(n,t,e);if(!r)return E({},iw);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?E(E({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function w3(t){return{matched:!0,parameters:t.length>0?ER(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function _R(t,e,n,i){return n.length>0&&I3(t,n,i)?{segmentGroup:new de(e,b3(i,new de(n,t.children))),slicedSegments:[]}:n.length===0&&D3(t,n,i)?{segmentGroup:new de(t.segments,E3(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new de(t.segments,t.children),slicedSegments:n}}function E3(t,e,n,i){let r={};for(let s of n)if(pf(t,e,s)&&!i[Gn(s)]){let o=new de([],{});r[Gn(s)]=o}return E(E({},i),r)}function b3(t,e){let n={};n[z]=e;for(let i of t)if(i.path===""&&Gn(i)!==z){let r=new de([],{});n[Gn(i)]=r}return n}function I3(t,e,n){return n.some(i=>pf(t,e,i)&&Gn(i)!==z)}function D3(t,e,n){return n.some(i=>pf(t,e,i))}function pf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T3(t,e,n,i){return Gn(t)!==i&&(i===z||!pf(e,n,t))?!1:dw(e,t,n).matched}function C3(t,e,n){return e.length===0&&!t.children[n]}var rw=class{};function S3(t,e,n,i,r,s,o="emptyOnly"){return new sw(t,e,n,i,r,o,s).recognize()}var A3=31,sw=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new nw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=_R(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let i=new xc([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),r=new Ht(i,n),s=new cf("",r),o=kH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,z).pipe(mi(i=>{if(i instanceof uf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Pc?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=aw(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(W(s=>s instanceof Ht?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Ee(r).pipe(_i(s=>{let o=i.children[s],a=QH(n,s);return this.processSegmentGroup(e,a,o,s)}),Bf((s,o)=>(s.push(...o),s)),yi(null),Uf(),Te(s=>{if(s===null)return _o(i);let o=HR(s);return R3(o),x(o)}))}processSegment(e,n,i,r,s,o){return Ee(n).pipe(_i(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(mi(c=>{if(c instanceof Pc)return x(null);throw c}))),sn(a=>!!a),mi(a=>{if(jR(a))return C3(i,r,s)?x(new rw):_o(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return T3(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):_o(r):_o(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=dw(n,r,s);if(!a)return _o(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A3&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(Te(h=>this.processSegment(e,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=v3(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(yt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(yt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new xc(u,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,O3(i),Gn(i),i.component??i._loadedComponent??null,i,x3(i)),{segmentGroup:m,slicedSegments:v}=_R(n,u,d,c);if(v.length===0&&m.hasChildren())return this.processChildren(l,c,m).pipe(W(D=>D===null?null:new Ht(f,D)));if(c.length===0&&v.length===0)return x(new Ht(f,[]));let w=Gn(i)===s;return this.processSegment(l,c,m,v,w?z:s,!0).pipe(W(D=>new Ht(f,D instanceof Ht?[D]:[])))}))):_o(n)))}getChildConfig(e,n,i){return n.children?x({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?x({routes:n._loadedRoutes,injector:n._loadedInjector}):g3(e,n,i,this.urlSerializer).pipe(Te(r=>r?this.configLoader.loadChildren(e,n).pipe(be(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):y3(n))):x({routes:[],injector:e})}};function R3(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function M3(t){let e=t.value.routeConfig;return e&&e.path===""}function HR(t){let e=[],n=new Set;for(let i of t){if(!M3(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=HR(i.children);e.push(new Ht(i.value,r))}return e.filter(i=>!n.has(i))}function O3(t){return t.data||{}}function x3(t){return t.resolve||{}}function N3(t,e,n,i,r,s){return Te(o=>S3(t,e,n,i,o.extractedUrl,r,s).pipe(W(({state:a,tree:c})=>oe(E({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function P3(t,e){return Te(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return x(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of GR(c))o.add(l);let a=0;return Ee(o).pipe(_i(c=>s.has(c)?k3(c,i,t,e):(c.data=aw(c,c.parent,t).resolve,x(void 0))),be(()=>a++),us(1),Te(c=>a===o.size?x(n):at))})}function GR(t){let e=t.children.map(n=>GR(n)).flat();return[t,...e]}function k3(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!FR(r)&&(s[kc]=r.title),F3(s,t,e,i).pipe(W(o=>(t._resolvedData=o,t.data=aw(t,t.parent,n).resolve,null)))}function F3(t,e,n,i){let r=F0(t);if(r.length===0)return x({});let s={};return Ee(r).pipe(Te(o=>V3(t[o],e,n,i).pipe(sn(),be(a=>{s[o]=a}))),us(1),Vf(s),mi(o=>jR(o)?at:ss(o)))}function V3(t,e,n,i){let r=Lc(e)??i,s=To(t,r),o=s.resolve?s.resolve(e,n):Xn(r,()=>s(e,n));return Ki(o)}function P0(t){return yt(e=>{let n=t(e);return n?Ee(n).pipe(W(()=>e)):x(e)})}var zR=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(i){return i.data[kc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>g(L3),providedIn:"root"});let t=e;return t})(),L3=(()=>{let e=class e extends zR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(N(Am))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bc=new R("",{providedIn:"root",factory:()=>({})}),df=new R("ROUTES"),hw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Ou)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return x(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ki(i.loadComponent()).pipe(W(qR),be(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),vi(()=>{this.componentLoaders.delete(i)})),s=new es(r,()=>new ae).pipe(Xr());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return x({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=U3(r,this.compiler,i,this.onLoadEndListener).pipe(vi(()=>{this.childrenLoaders.delete(r)})),a=new es(o,()=>new ae).pipe(Xr());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U3(t,e,n,i){return Ki(t.loadChildren()).pipe(W(qR),Te(r=>r instanceof zo||Array.isArray(r)?x(r):Ee(e.compileModuleAsync(r))),W(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(df,[],{optional:!0,self:!0}).flat()),{routes:o.map(uw),injector:s}}))}function B3(t){return t&&typeof t=="object"&&"default"in t}function qR(t){return B3(t)?t.default:t}var fw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>g(j3),providedIn:"root"});let t=e;return t})(),j3=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WR=new R(""),KR=new R("");function $3(t,e,n){let i=t.get(KR),r=t.get(Le);return t.get($).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),H3(t))),{onViewTransitionCreated:c}=i;return c&&Xn(t,()=>c({transition:a,from:e,to:n})),o})}function H3(t){return new Promise(e=>{$g(e,{injector:t})})}var pw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ae,this.transitionAbortSubject=new ae,this.configLoader=g(hw),this.environmentInjector=g(ut),this.urlSerializer=g(Fc),this.rootContexts=g(Vc),this.location=g(Ns),this.inputBindingEnabled=g(ff,{optional:!0})!==null,this.titleStrategy=g(zR),this.options=g(Bc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(fw),this.createViewTransition=g(WR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>x(void 0),this.rootComponentType=null;let i=s=>this.events.next(new G0(s)),r=s=>this.events.next(new z0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(oe(E(E({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new We({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(He(o=>o.id!==0),W(o=>oe(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{this.currentTransition=o;let a=!1,c=!1;return x(o).pipe(be(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?oe(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yt(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.rawUrl),h,nf.IgnoredSameUrlNavigation)),l.resolve(null),at}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return x(l).pipe(yt(h=>{let f=this.transitions?.getValue();return this.events.next(new Io(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?at:Promise.resolve(h)}),N3(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),be(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=oe(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new rf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:v,extras:w}=l,D=new Io(h,this.urlSerializer.serialize(f),m,v);this.events.next(D);let q=PR(this.rootComponentType).snapshot;return this.currentTransition=o=oe(E({},l),{targetSnapshot:q,urlAfterRedirects:f,extras:oe(E({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,x(o)}else{let h="";return this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.extractedUrl),h,nf.IgnoredByUrlHandlingStrategy)),l.resolve(null),at}}),be(l=>{let u=new B0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),W(l=>(this.currentTransition=o=oe(E({},l),{guards:JH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),a3(this.environmentInjector,l=>this.events.next(l)),be(l=>{if(o.guardsResult=l.guardsResult,bo(l.guardsResult))throw LR(this.urlSerializer,l.guardsResult);let u=new j0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),He(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",tn.GuardRejected),!1)),P0(l=>{if(l.guards.canActivateChecks.length)return x(l).pipe(be(u=>{let d=new $0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),yt(u=>{let d=!1;return x(u).pipe(P3(this.paramsInheritanceStrategy,this.environmentInjector),be({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",tn.NoDataFromResolver)}}))}),be(u=>{let d=new H0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),P0(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(be(f=>{d.component=f}),W(()=>{})));for(let f of d.children)h.push(...u(f));return h};return as(u(l.targetSnapshot.root)).pipe(yi(null),ct(1))}),P0(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Ee(d).pipe(W(()=>o)):x(o)}),W(l=>{let u=HH(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=oe(E({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),be(()=>{this.events.next(new Mc)}),YH(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ct(1),be({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ge(this.transitionAbortSubject.pipe(be(l=>{throw l}))),vi(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",tn.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),mi(l=>{if(c=!0,BR(l))this.events.next(new qi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),qH(l)?this.events.next(new Oc(l.url)):o.resolve(!1);else{this.events.next(new Rc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return at}))}))}cancelNavigationTransition(i,r,s){let o=new qi(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G3(t){return t!==Tc}var z3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>g(q3),providedIn:"root"});let t=e;return t})(),ow=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},q3=(()=>{let e=class e extends ow{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Cs(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:()=>g(W3),providedIn:"root"});let t=e;return t})(),W3=(()=>{let e=class e extends QR{constructor(){super(...arguments),this.location=g(Ns),this.urlSerializer=g(Fc),this.options=g(Bc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(fw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=PR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Io)this.stateMemento=this.createStateMemento();else if(i instanceof Wi)this.rawUrlTree=r.initialUrl;else if(i instanceof rf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Mc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof qi&&(i.code===tn.GuardRejected||i.code===tn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Rc?this.restoreHistory(r,!0):i instanceof Hn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Cs(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ic=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ic||{});function YR(t,e){t.events.pipe(He(n=>n instanceof Hn||n instanceof qi||n instanceof Rc||n instanceof Wi),W(n=>n instanceof Hn||n instanceof Wi?Ic.COMPLETE:(n instanceof qi?n.code===tn.Redirect||n.code===tn.SupersededByNewNavigation:!1)?Ic.REDIRECTING:Ic.FAILED),He(n=>n!==Ic.REDIRECTING),ct(1)).subscribe(()=>{e()})}function K3(t){throw t}var Q3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Y3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(Mu),this.stateManager=g(QR),this.options=g(Bc,{optional:!0})||{},this.pendingTasks=g(ia),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(pw),this.urlSerializer=g(Fc),this.location=g(Ns),this.urlHandlingStrategy=g(fw),this._events=new ae,this.errorHandler=this.options.errorHandler||K3,this.navigated=!1,this.routeReuseStrategy=g(z3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(df,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(ff,{optional:!0}),this.eventsSubscription=new Fe,this.isNgZoneEnabled=g($)instanceof $&&$.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qi&&r.code!==tn.Redirect&&r.code!==tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Hn)this.navigated=!0;else if(r instanceof Oc){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||G3(s.source)};this.scheduleNavigation(a,Tc,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Z3(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=E({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(uw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=MR(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return OR(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=bo(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Tc,null,r)}navigate(i,r={skipLocationChange:!1}){return J3(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=E({},Q3):r===!1?s=E({},Y3):s=r,bo(i))return hR(this.currentUrlTree,i,s);let o=this.parseUrl(i);return hR(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return YR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J3(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function Z3(t){return!(t instanceof Mc)&&!(t instanceof Oc)}var gf=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ae,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof Hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let i=this.href===null?null:hI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(A(xt),A(Gt),lu("tabindex"),A(Ri),A(Qe),A(ri))},e.\u0275dir=Ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&ne("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&hr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Me.HasDecoratorInputTransform,"preserveFragment","preserveFragment",mr],skipLocationChange:[Me.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",mr],replaceUrl:[Me.HasDecoratorInputTransform,"replaceUrl","replaceUrl",mr],routerLink:"routerLink"},standalone:!0,features:[zg,dn]});let t=e;return t})();var hf=class{};var X3=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(He(i=>i instanceof Hn),_i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Au(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ee(s).pipe(cs())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=x(null);let o=s.pipe(Te(a=>a===null?x(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ee([o,a]).pipe(cs())}else return o})}};e.\u0275fac=function(r){return new(r||e)(N(xt),N(Ou),N(ut),N(hf),N(hw))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JR=new R(""),e4=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Io?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Hn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Wi&&i.code===nf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof sf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){RI()},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function t4(t){return t.routerState.root}function jc(t,e){return{\u0275kind:t,\u0275providers:e}}function n4(){let t=g(Ie);return e=>{let n=t.get(Wt);if(e!==n.components[0])return;let i=t.get(xt),r=t.get(ZR);t.get(gw)===1&&i.initialNavigation(),t.get(XR,null,Z.Optional)?.setUpPreloading(),t.get(JR,null,Z.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ZR=new R("",{factory:()=>new ae}),gw=new R("",{providedIn:"root",factory:()=>1});function i4(){return jc(2,[{provide:gw,useValue:0},{provide:Pu,multi:!0,deps:[Ie],useFactory:e=>{let n=e.get(ND,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(xt),s=e.get(ZR);YR(r,()=>{i(!0)}),e.get(pw).afterPreactivation=()=>(i(!0),s.closed?x(void 0):s),r.initialNavigation()}))}}])}function r4(){return jc(3,[{provide:Pu,multi:!0,useFactory:()=>{let e=g(xt);return()=>{e.setUpLocationChangeListener()}}},{provide:gw,useValue:2}])}var XR=new R("");function s4(t){return jc(0,[{provide:XR,useExisting:X3},{provide:hf,useExisting:t}])}function o4(){return jc(8,[mR,{provide:ff,useExisting:mR}])}function a4(t){let e=[{provide:WR,useValue:$3},{provide:KR,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return jc(9,e)}var yR=new R("ROUTER_FORROOT_GUARD"),c4=[Ns,{provide:Fc,useClass:Sc},xt,Vc,{provide:Gt,useFactory:t4,deps:[xt]},hw,[]],mw=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[c4,[],{provide:df,multi:!0,useValue:i},{provide:yR,useFactory:h4,deps:[[xt,new qt,new wg]]},{provide:Bc,useValue:r||{}},r?.useHash?u4():d4(),l4(),r?.preloadingStrategy?s4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?f4(r):[],r?.bindToComponentInputs?o4().\u0275providers:[],r?.enableViewTransitions?a4().\u0275providers:[],p4()]}}static forChild(i){return{ngModule:e,providers:[{provide:df,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(N(yR,8))},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({});let t=e;return t})();function l4(){return{provide:JR,useFactory:()=>{let t=g($D),e=g($),n=g(Bc),i=g(pw),r=g(Fc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new e4(r,i,t,e,n)}}}function u4(){return{provide:ri,useClass:kD}}function d4(){return{provide:ri,useClass:fm}}function h4(t){return"guarded"}function f4(t){return[t.initialNavigation==="disabled"?r4().\u0275providers:[],t.initialNavigation==="enabledBlocking"?i4().\u0275providers:[]]}var vR=new R("");function p4(){return[{provide:vR,useFactory:n4},{provide:xs,multi:!0,useExisting:vR}]}var eM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-first"]],decls:6,vars:0,consts:[[1,"h1"],[1,"h3"],["type","button",1,"btn","btn-primary"]],template:function(r,s){r&1&&(M(0,"h1",0),J(1,"Deixe seu app o melhor poss\xEDvel"),C(),M(2,"h3",1),J(3,"O Firebase \xE9 uma plataforma de desenvolvimento de aplicativos que ajuda voc\xEA a criar e desenvolver aplicativos e jogos que os usu\xE1rios amam. Com o apoio do Google e a confian\xE7a de milh\xF5es de empresas no mundo todo."),C(),M(4,"button",2),J(5,"COME\xC7AR"),C())}});let t=e;return t})();var zn=(()=>{let e=class e{constructor(){this.firestore=g(_n)}getUser(){return p(this,null,function*(){var i=yield this.getLocalStoregeUser();if(i==null)return yield null;var r=yield this.getFirebaseUser(i?.id);return r==null?yield null:yield r})}createUser(i){return p(this,null,function*(){var r=yield this.setFirebaseUser(i),r=yield this.editFirebaseUser(r?.id,r);return yield this.setLocalStoregeUser(r),yield r})}updateUser(i,r){return p(this,null,function*(){var s=yield this.editFirebaseUser(i,r);return yield this.setLocalStoregeUser(s),yield s})}deleteUser(i){return p(this,null,function*(){yield this.removeFirebaseUser(i),yield this.removeLocalStoregeUser()})}loginUser(i,r){return p(this,null,function*(){var s=yield this.queryLoginFirebaseUser(i,r);return yield this.setLocalStoregeUser(s),yield s})}checkLoginUser(){return p(this,null,function*(){var i=yield this.getLocalStoregeUser();if(i==null)return yield!1;var r=yield this.getFirebaseUser(i?.id);return r==null?yield!1:yield!0})}getFirebaseUser(i){return p(this,null,function*(){let r=yield yn(this.firestore,"users",i),o=yield(yield mo(r)).data();return o.id=yield r.id,yield o})}setFirebaseUser(i){return p(this,null,function*(){let r=yield go(this.firestore,"users"),s=yield qh(r,i),a=yield(yield mo(s)).data();a.id=yield s.id;var c=yield{id:s.id??"",name:a?.name??"",email:a?.email??"",password:a?.password??"",rooms:a?.rooms??[]};return yield c})}editFirebaseUser(i,r){return p(this,null,function*(){var s=yield r;let o=yield yn(this.firestore,"users",i);return yield wc(o,s),yield r})}editFirebaseUserFild(i,r,s){return p(this,null,function*(){let o=yield yn(this.firestore,"users",i);yield wc(o,r,s)})}removeFirebaseUser(i){return p(this,null,function*(){let r=yield yn(this.firestore,"users",i);yield Wh(r)})}queryLoginFirebaseUser(i,r){return p(this,null,function*(){let s=yield go(this.firestore,"users"),o=yield[vc("email","==",i),vc("password","==",r)],a=yield M0(s,...o),c=yield R0(a);var l,u=0;return(yield c).forEach(d=>{u++;var h=d.data();l={id:h.id??"",name:h.name??"",email:h.email??"",password:h.password??""}}),u==1?l:null})}checkEmailExistFirebase(i){return p(this,null,function*(){let r=yield go(this.firestore,"users"),s=yield M0(r,vc("email","==",i)),o=R0(s);var a=0;return(yield o).forEach(c=>{a++}),a>0})}getLocalStoregeUser(){return p(this,null,function*(){var i=(yield JSON.parse(localStorage.getItem("user")??""))??null;return yield i})}setLocalStoregeUser(i){return p(this,null,function*(){localStorage.setItem("user",JSON.stringify(i))})}removeLocalStoregeUser(){return p(this,null,function*(){localStorage.removeItem("user")})}getUsersRooms(){return p(this,null,function*(){var i=yield this.getUser();return(yield i?.rooms)??[]})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var g4=t=>[t];function m4(t,e){if(t&1&&(M(0,"div",0)(1,"div",1)(2,"h5",2),J(3),C(),M(4,"h6",3),J(5),C(),M(6,"p",4),J(7),C()()()),t&2){let n=e.$implicit;De("routerLink",em(4,g4,"/rooms/"+(n==null?null:n.id))),fe(3),ni(n==null?null:n.title),fe(2),ni(n==null?null:n.id),fe(2),ni(n==null?null:n.description)}}var tM=(()=>{let e=class e{constructor(i){this.navService=i,this.rooms=[]}ngOnInit(){return p(this,null,function*(){var i=yield this.navService.getUsersRooms();let r=yield Object.keys(i),s=yield[];for(let o=0;o<r.length;o++)s.push(i[r[o]]);this.rooms=yield s})}};e.\u0275fac=function(r){return new(r||e)(A(zn))},e.\u0275cmp=Ve({type:e,selectors:[["app-room"]],decls:2,vars:0,consts:[[1,"card","mb-3",3,"routerLink"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-body-secondary"],[1,"card-text"],["class","card mb-3",3,"routerLink"]],template:function(r,s){r&1&&Xo(0,m4,8,6,"div",5,Cu),r&2&&ea(s.rooms)},dependencies:[gf]});let t=e;return t})();var So=(()=>{let e=class e{constructor(){this.firestore=g(_n)}getRoom(i){return p(this,null,function*(){var r=yield this.getFirebaseRoom(i);return yield r})}createRoom(i){return p(this,null,function*(){var r=yield this.setFirebaseRoom(i);return yield r})}getFirebaseRoom(i){return p(this,null,function*(){let r=yield yn(this.firestore,"rooms",i),o=yield(yield mo(r)).data();return o==null?yield o:(o.id=yield r.id,yield o)})}setFirebaseRoom(i){return p(this,null,function*(){let r=yield go(this.firestore,"rooms"),s=yield qh(r,i),a=yield(yield mo(s)).data();a.id=yield s.id;var c=yield{id:s.id??"",title:a?.title??""};return yield c})}editFirebaseRoomField(i,r,s){return p(this,null,function*(){let o=yield yn(this.firestore,"rooms",i);yield wc(o,r,s)})}removeFirebaseRoom(i){return p(this,null,function*(){let r=yield yn(this.firestore,"rooms",i);yield Wh(r)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _4(t,e){t&1&&ue(0,"img",13)}function y4(t,e){t&1&&ue(0,"img",14)}function v4(t,e){if(t&1&&(M(0,"h4",15),J(1),C()),t&2){let n=Oe().$implicit;fe(),ni(n.value)}}function w4(t,e){if(t&1&&(M(0,"div",7)(1,"div",8)(2,"div",9),Ft(3,_4,1,0,"img",10)(4,y4,1,0,"img",11)(5,v4,2,1,"h4",12),C()(),J(6),C()),t&2){let n=e.$implicit,i=Oe();fe(),De("ngClass",!(i.room!=null&&i.room.isVisible)&&!n.selected?"bg-light":"bg-dark"),fe(2),De("ngIf",!(i.room!=null&&i.room.isVisible)&&!n.selected),fe(),De("ngIf",!(i.room!=null&&i.room.isVisible)&&n.selected),fe(),De("ngIf",i.room==null?null:i.room.isVisible),fe(),na(" ",n.name," ")}}function E4(t,e){if(t&1){let n=It();M(0,"button",16),ne("click",function(){Se(n);let r=Oe();return Ae(r.showCards())}),ue(1,"i",17),C(),M(2,"button",16),ne("click",function(){Se(n);let r=Oe();return Ae(r.resetCards())}),ue(3,"i",18),C(),M(4,"button",16),ne("click",function(){Se(n);let r=Oe();return Ae(r.deleteRoom())}),ue(5,"i",19),C()}if(t&2){let n=Oe();fe(),De("ngClass",n.room!=null&&n.room.isVisible?"far fa-eye-slash":"far fa-eye")}}function b4(t,e){if(t&1){let n=It();M(0,"button",16),ne("click",function(){Se(n);let r=Oe();return Ae(r.saveRoom())}),ue(1,"i",20),C()}}function I4(t,e){if(t&1){let n=It();M(0,"button",16),ne("click",function(){Se(n);let r=Oe();return Ae(r.removeRoom())}),ue(1,"i",21),C()}}function D4(t,e){if(t&1){let n=It();M(0,"div",22),ne("click",function(){let s=Se(n).$implicit,o=Oe();return Ae(o.sendValue(s))}),M(1,"div",23)(2,"h4",24),J(3),C()()()}if(t&2){let n=e.$implicit;De("ngClass",n.selected?"bg-dark text-light":"bg-light text-dark"),fe(3),ni(n.value)}}var nM=(()=>{let e=class e{constructor(i,r,s,o){this.router=i,this.route=r,this.navService=s,this.roomService=o,this.id=null,this.isVisible=!0,this.firestore=g(_n),this.id=this.route.snapshot.params.id,this.initRoom()}initRoom(){return p(this,null,function*(){yield this.getUser(),yield this.getFirebaseRoom(this.id)})}getUser(){return p(this,null,function*(){var i=yield this.navService.getUser();this.user=yield i})}getFirebaseRoom(i){return p(this,null,function*(){let r=yield yn(this.firestore,"rooms",i),s=yield dR(r,o=>{this.room=o.data(),this.room==null&&this.router.navigate(["/rooms/"]),this.points=this.room?.points;let a=Object.keys(this.room?.users),c=[];for(let l=0;l<a.length;l++)c.push(this.room?.users[a[l]]),this.user?.id==a[l]&&(this.userConfig=this.room?.users[a[l]]);this.users=c})})}sendValue(i){return p(this,null,function*(){yield this.roomService.editFirebaseRoomField(this.id,new At("users",this.user?.id,"value"),i?.value),yield this.roomService.editFirebaseRoomField(this.id,new At("users",this.user?.id,"selected"),!0)})}showCards(){return p(this,null,function*(){yield this.roomService.editFirebaseRoomField(this.id,"isVisible",!this.room?.isVisible)})}resetCards(){return p(this,null,function*(){let i=yield Object.keys(this.room?.users);for(let r=0;r<i.length;r++)yield this.roomService.editFirebaseRoomField(this.id,new At("users",i[r],"value"),""),yield this.roomService.editFirebaseRoomField(this.id,new At("users",i[r],"selected"),!1);yield this.showCards()})}saveRoom(){return p(this,null,function*(){yield this.roomService.editFirebaseRoomField(this.id,new At("users",this.user?.id),{id:this.user?.id,name:this.user?.name,selected:!1,value:""}),this.user.rooms[this.id]=yield{id:this.id??"",title:this.room?.title??"",description:this.room?.description??""},yield this.navService.updateUser(this.user?.id,this.user)})}removeRoom(){return p(this,null,function*(){this.roomService.editFirebaseRoomField(this.id,new At("users",this.user?.id),Kh()),this.navService.editFirebaseUserFild(this.user?.id,new At("rooms",this.id),Kh()),this.userConfig=null})}deleteRoom(){return p(this,null,function*(){let i=yield Object.keys(this.room?.users);for(let r=0;r<i.length;r++)yield this.navService.editFirebaseUserFild(i[r],new At("rooms",this.id),Kh());yield this.roomService.removeFirebaseRoom(this.id)})}};e.\u0275fac=function(r){return new(r||e)(A(xt),A(Gt),A(zn),A(So))},e.\u0275cmp=Ve({type:e,selectors:[["app-room-view"]],decls:12,vars:3,consts:[[1,"container","d-flex","justify-content-sm-around","align-items-center","overflow-auto",2,"height","30rem"],[1,"bg-light","text-center","fixed-bottom"],[1,"container","p-3"],["class","btn btn-outline-success rounded-circle mx-1"],[1,"p-3","overflow-auto"],[1,"container","text-center","d-flex","justify-content-md-between"],["class","card border-5","style","height: 90px; min-width: 70px;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"text-center","d-flex","flex-column","align-items-center"],[1,"card","border-5",2,"height","90px","width","70px",3,"ngClass"],[1,"card-body","d-flex","justify-content-around"],["src","./assets/poker-logo-preto.png","alt","?","style","height: 40px; width: 40px;",4,"ngIf"],["src","./assets/poker-logo-branco.png","alt","?","style","height: 40px; width: 40px;",4,"ngIf"],["class","card-title text-light",4,"ngIf"],["src","./assets/poker-logo-preto.png","alt","?",2,"height","40px","width","40px"],["src","./assets/poker-logo-branco.png","alt","?",2,"height","40px","width","40px"],[1,"card-title","text-light"],[1,"btn","btn-outline-success","rounded-circle","mx-1",3,"click"],[1,"",3,"ngClass"],[1,"fas","fa-redo"],[1,"fas","fa-trash"],[1,"far","fa-star"],[1,"fas","fa-star"],[1,"card","border-5",2,"height","90px","min-width","70px",3,"ngClass","click"],[1,"card-body"],[1,"card-title"],["class","text-center d-flex flex-column align-items-center"]],template:function(r,s){r&1&&(M(0,"div")(1,"div",0),Xo(2,w4,7,5,"div",25,Cu),C()(),M(4,"footer",1)(5,"div",2),Ft(6,E4,6,1)(7,b4,2,0,"button",3)(8,I4,2,0),C(),M(9,"div",4)(10,"div",5),Ft(11,D4,4,2,"div",6),C()()()),r&2&&(fe(2),ea(s.users),fe(4),fr(6,s.userConfig!=null&&s.userConfig.isAdm?6:-1),fe(),fr(7,s.userConfig==null&&!(s.userConfig!=null&&s.userConfig.isAdm)?7:s.userConfig!=null&&s.userConfig.isAdm?-1:8),fe(4),De("ngForOf",s.points))},dependencies:[VD,LD,UD]});let t=e;return t})();var iM=(()=>{let e=class e{constructor(i,r,s,o){this.route=i,this.router=r,this.navService=s,this.roomService=o}findClass(){return p(this,null,function*(){this.room=yield this.roomService.getRoom(this.id),this.room!=null&&this.router.navigate(["/rooms/"+this.id])})}};e.\u0275fac=function(r){return new(r||e)(A(Gt),A(xt),A(zn),A(So))},e.\u0275cmp=Ve({type:e,selectors:[["app-room-search"]],decls:4,vars:1,consts:[[1,"input-group","mb-3"],["type","text","placeholder","id da sala","aria-label","id da sala","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],["id","basic-addon2",1,"input-group-text",3,"click"]],template:function(r,s){r&1&&(M(0,"div",0)(1,"input",1),ne("ngModelChange",function(a){return s.id=a}),C(),M(2,"button",2),ne("click",function(){return s.findClass()}),J(3,"Pesquisar"),C()()),r&2&&(fe(),De("ngModel",s.id))},dependencies:[Ni,Fs,km]});let t=e;return t})();var rM=(()=>{let e=class e{constructor(i,r,s,o){this.roomService=i,this.navService=r,this.route=s,this.router=o,this.points=[{value:"?",selected:!1},{value:"0",selected:!1},{value:"1",selected:!1},{value:"2",selected:!1},{value:"3",selected:!1},{value:"5",selected:!1},{value:"8",selected:!1},{value:"13",selected:!1},{value:"21",selected:!1},{value:"34",selected:!1},{value:"55",selected:!1},{value:"89",selected:!1}],this.roomForm=new ks({id:new hn(""),title:new hn(""),description:new hn("")}),this.getUser()}getUser(){return p(this,null,function*(){var i=yield this.navService.getUser();this.user=yield i})}createRoom(){return p(this,null,function*(){var i=yield this.roomForm.value,r=yield{title:i?.title??"",description:i?.description??"",points:this.points,isVisible:!1,users:{}};r.users[this.user?.id]=yield{id:this.user?.id,name:this.user?.name,isAdm:!0,selected:!1,value:""};var s=yield this.roomService.createRoom(r);yield this.updateUser(s),yield this.router.navigate(["/rooms/"+s?.id])})}updateUser(i){return p(this,null,function*(){var r=yield this.navService.getUser();r.rooms[i?.id]=yield{id:i?.id??"",title:i?.title??"",description:i?.description??""},yield this.navService.updateUser(r?.id,r)})}};e.\u0275fac=function(r){return new(r||e)(A(So),A(zn),A(Gt),A(xt))},e.\u0275cmp=Ve({type:e,selectors:[["app-room-add"]],decls:8,vars:1,consts:[[3,"formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control"],[1,"mb-3","text-center"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,s){r&1&&(M(0,"form",0)(1,"div",1)(2,"label",2),J(3,"Titulo"),C(),ue(4,"input",3),C(),M(5,"div",4)(6,"button",5),ne("click",function(){return s.createRoom()}),J(7,"Salvar"),C()()()),r&2&&De("formGroup",s.roomForm)},dependencies:[ed,Ni,Fs,Yu,ua,da]});let t=e;return t})();var T4=[{path:"",redirectTo:"first",pathMatch:"full"},{path:"first",component:eM},{path:"rooms",component:tM},{path:"rooms/search",component:iM},{path:"rooms/add",component:rM},{path:"rooms/:id",component:nM},{path:"**",redirectTo:"first"}],sM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e}),e.\u0275inj=Q({imports:[mw.forRoot(T4),mw]});let t=e;return t})();function C4(t,e){t&1&&Qg(0)}function S4(t,e){if(t&1){let n=It();M(0,"li",18)(1,"button",19),ne("click",function(){Se(n);let r=Oe().$implicit;return Ae(r.dismiss("Cross click"))}),C()()}}function A4(t,e){if(t&1){let n=It();M(0,"ul",14),Ft(1,S4,2,0,"li",15),M(2,"li",16)(3,"a",17),ne("click",function(){let s=Se(n).$implicit;return Ae(s.dismiss("Cross click"))}),J(4,"Salas salvas"),C()(),M(5,"li",16)(6,"a",17),ne("click",function(){let s=Se(n).$implicit;return Ae(s.dismiss("Cross click"))}),J(7,"Pesquisar sala"),C()(),M(8,"li",18)(9,"a",17),ne("click",function(){let s=Se(n).$implicit;return Ae(s.dismiss("Cross click"))}),J(10,"Criar sala"),C()()()}if(t&2){let n=Oe();fe(),fr(1,n.checkCanvas()?1:-1),fe(2),De("routerLink","rooms"),fe(3),De("routerLink","rooms/search"),fe(3),De("routerLink","rooms/add")}}function R4(t,e){if(t&1){let n=It();M(0,"div",23)(1,"div",24)(2,"label",25),J(3,"Nome"),C(),ue(4,"input",26),C(),M(5,"div",24)(6,"label",27),J(7,"Email"),C(),ue(8,"input",28),C(),M(9,"div",24)(10,"label",29),J(11,"Senha"),C(),ue(12,"input",30),C()(),M(13,"div",31)(14,"button",32),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.updateUser())}),J(15,"Salvar"),C(),M(16,"button",32),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.logout())}),J(17,"Logout"),C(),M(18,"button",32),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.deleteUser())}),J(19,"Excluir"),C()()}}function M4(t,e){if(t&1){let n=It();M(0,"div",23)(1,"div",24)(2,"label",25),J(3,"Nome"),C(),ue(4,"input",26),C(),M(5,"div",24)(6,"label",27),J(7,"Email"),C(),ue(8,"input",28),C(),M(9,"div",24)(10,"label",29),J(11,"Senha"),C(),ue(12,"input",30),C()(),M(13,"div",31)(14,"button",32),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.createUser())}),J(15,"Salvar"),C()()}}function O4(t,e){if(t&1){let n=It();M(0,"div",23)(1,"div",24)(2,"label",27),J(3,"Email"),C(),ue(4,"input",28),C(),M(5,"div",24)(6,"label",29),J(7,"Senha"),C(),ue(8,"input",30),C()(),M(9,"div",31)(10,"button",32),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.login())}),J(11,"Logar"),C()()}}function x4(t,e){if(t&1){let n=It();M(0,"div",23)(1,"button",33),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.selectedMode("login"))}),J(2,"Login"),C(),M(3,"button",33),ne("click",function(){Se(n);let r=Oe(2);return Ae(r.selectedMode("create"))}),J(4,"Criar"),C()(),ue(5,"div",31)}}function N4(t,e){if(t&1){let n=It();M(0,"form",20)(1,"div",21)(2,"h4",22),J(3,"Usuario"),C(),M(4,"button",19),ne("click",function(){let s=Se(n).dismiss;return Ae(s("Cross click"))}),C()(),Ft(5,R4,20,0)(6,M4,16,0)(7,O4,12,0)(8,x4,6,0),C()}if(t&2){let n=Oe();De("formGroup",n.userForm),fe(5),fr(5,n.isLogged?5:!n.isLogged&&n.mode=="create"?6:!n.isLogged&&n.mode=="login"?7:n.isLogged?-1:8)}}var oM=(()=>{let e=class e{constructor(i,r,s){this.modalService=r,this.navService=s,this.offcanvasService=g(sC),this.isMenuCollapsed=!0,this.userForm=new ks({id:new hn(""),name:new hn(""),email:new hn(""),password:new hn("")}),this.isLogged=!1}ngOnInit(){return p(this,null,function*(){this.getUserIfIsLog()})}openCanvasEnd(i){this.offcanvasService.open(i,{position:"end"})}checkCanvas(){return this.offcanvasService.hasOpenOffcanvas()??!1}open(i){this.modalService.open(i)}selectedMode(i){this.mode=i}getUserIfIsLog(){return p(this,null,function*(){var i=yield this.navService.getUser();i==null?this.isLogged=yield!1:(this.userForm.setValue({id:i.id,name:i.name,email:i.email,password:i.password}),this.isLogged=!0)})}logout(){return p(this,null,function*(){yield this.navService.removeLocalStoregeUser(),yield this.userForm.setValue({id:"",name:"",email:"",password:""}),this.mode=yield"",this.isLogged=yield!1})}login(){return p(this,null,function*(){var i=yield this.userForm.value,r=yield this.navService.loginUser(i?.email,i?.password);r!=null&&(yield this.userForm.setValue({id:r?.id??"",name:r?.name??"",email:r?.email??"",password:r?.password??""}),this.isLogged=yield!0)})}createUser(){return p(this,null,function*(){var i=yield this.userForm.value,r=yield this.navService.checkEmailExistFirebase(i?.email);if(r){this.isLogged=yield!1;return}var s=yield{name:i?.name??"",email:i?.email??"",password:i?.password??"",rooms:{}},o=yield this.navService.createUser(s);yield this.userForm.patchValue({id:o?.id}),this.isLogged=yield!0})}updateUser(){return p(this,null,function*(){var i=yield this.userForm.value,r=yield this.navService.getUser();if(r?.email!=i?.email){var s=yield this.navService.checkEmailExistFirebase(i?.email);if(s)return}var o={id:i?.id??"",name:i?.name??"",email:i?.email??"",password:i?.password??""},a=yield this.navService.updateUser(o?.id,o);this.userForm.patchValue({id:a?.id??"",name:a?.name??"",email:a?.email??"",password:a?.password??""})})}deleteUser(){return p(this,null,function*(){yield this.navService.deleteUser(this.userForm.value?.id),window.location.reload()})}};e.\u0275fac=function(r){return new(r||e)(A(Gm),A(zm),A(zn))},e.\u0275cmp=Ve({type:e,selectors:[["app-nav"]],decls:17,vars:3,consts:[[1,"navbar","navbar-expand-md","navbar-light","sticky-top","bg-body-tertiary","mb-3"],[1,"container"],["type","button",1,"navbar-toggler",3,"click"],[1,"fas","fa-bars"],[1,"col-md-3"],[1,"navbar-brand",3,"routerLink"],["src","./assets/poker-logo-preto.png","alt","Logo","height","24",1,"d-inline-block","align-text-top"],[1,"collapse","navbar-collapse","justify-content-center",3,"ngbCollapse"],[4,"ngTemplateOutlet"],[1,"col-md-3","text-end"],["type","button",1,"btn","btn-primary","rounded-circle",3,"click"],[1,"fas","fa-user"],["contentnavbar",""],["contentmodal",""],[1,"nav","navbar-nav","col-md-auto"],["class","nav-item"],[1,"nav-item","active"],[1,"nav-link","px-3",3,"routerLink","click"],[1,"nav-item"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,s){if(r&1){let o=It();M(0,"nav",0)(1,"div",1)(2,"button",2),ne("click",function(){Se(o);let c=ta(14);return Ae(s.openCanvasEnd(c))}),ue(3,"i",3),C(),M(4,"div",4)(5,"a",5),ue(6,"img",6),J(7," Scrum Truco "),C()(),M(8,"div",7),Ft(9,C4,1,0,"ng-container",8),C(),M(10,"div",9)(11,"button",10),ne("click",function(){Se(o);let c=ta(16);return Ae(s.open(c))}),ue(12,"i",11),C()()()(),Ft(13,A4,11,4,"ng-template",null,12,Ru)(15,N4,9,2,"ng-template",null,13,Ru)}if(r&2){let o=ta(14);fe(5),De("routerLink","."),fe(3),De("ngbCollapse",s.isMenuCollapsed),fe(),De("ngTemplateOutlet",o)}},dependencies:[pm,gf,UT,ed,Ni,Fs,Yu,ua,da]});let t=e;return t})();var aM=(()=>{let e=class e{constructor(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ve({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(r,s){r&1&&(ue(0,"app-nav"),M(1,"main",0),ue(2,"router-outlet"),C())},dependencies:[lw,oM]});let t=e;return t})();var cM={production:!1,firebaseConfig:{apiKey:"AIzaSyAkQ6iPmlY782ru6w1Aaa9TDAtaMnd_gRU",authDomain:"scrum-truco-7ae94.firebaseapp.com",databaseURL:"https://scrum-truco-7ae94-default-rtdb.firebaseio.com",projectId:"scrum-truco-7ae94",storageBucket:"scrum-truco-7ae94.appspot.com",messagingSenderId:"141256784049",appId:"1:141256784049:web:a19557974bed01a19c8a90"}};var lM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Y({type:e,bootstrap:[aM]}),e.\u0275inj=Q({providers:[aT()],imports:[oT,sM,aC,PT,kT,PC(()=>kC(cM.firebaseConfig)),lR(()=>uR())]});let t=e;return t})();sT().bootstrapModule(lM).catch(t=>console.error(t));
